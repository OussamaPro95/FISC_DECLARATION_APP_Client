{"ast":null,"code":"import _inherits from \"E:/_Projet/Cnss/gull-admin-full-version-12.0/gull-compact-sidebar/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"E:/_Projet/Cnss/gull-admin-full-version-12.0/gull-compact-sidebar/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport _slicedToArray from \"E:/_Projet/Cnss/gull-admin-full-version-12.0/gull-compact-sidebar/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"E:/_Projet/Cnss/gull-admin-full-version-12.0/gull-compact-sidebar/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"E:/_Projet/Cnss/gull-admin-full-version-12.0/gull-compact-sidebar/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:/_Projet/Cnss/gull-admin-full-version-12.0/gull-compact-sidebar/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _regeneratorRuntime from \"E:/_Projet/Cnss/gull-admin-full-version-12.0/gull-compact-sidebar/node_modules/@babel/runtime/regenerator\";\nimport { DOCUMENT, isPlatformServer, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Injector, Inject, EventEmitter, SecurityContext, Directive, ElementRef, PLATFORM_ID, Renderer2, NgZone, Input, Output, Component, ViewEncapsulation, forwardRef, NgModule } from '@angular/core';\nimport { __awaiter } from 'tslib';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Subscription, fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/platform-browser';\nimport * as ɵngcc2 from '@angular/common';\nvar _c0 = [[[\"\", \"quill-editor-toolbar\", \"\"]]];\nvar _c1 = [\"[quill-editor-toolbar]\"];\nvar defaultModules = {\n  toolbar: [['bold', 'italic', 'underline', 'strike'], ['blockquote', 'code-block'], [{\n    header: 1\n  }, {\n    header: 2\n  }], [{\n    list: 'ordered'\n  }, {\n    list: 'bullet'\n  }], [{\n    script: 'sub'\n  }, {\n    script: 'super'\n  }], [{\n    indent: '-1'\n  }, {\n    indent: '+1'\n  }], [{\n    direction: 'rtl'\n  }], [{\n    size: ['small', false, 'large', 'huge']\n  }], [{\n    header: [1, 2, 3, 4, 5, 6, false]\n  }], [{\n    color: []\n  }, {\n    background: []\n  }], [{\n    font: []\n  }], [{\n    align: []\n  }], ['clean'], ['link', 'image', 'video'] // link and image, video\n  ]\n};\n\nvar getFormat = function getFormat(format, configFormat) {\n  var passedFormat = format || configFormat;\n  return passedFormat || 'html';\n};\n\nvar QUILL_CONFIG_TOKEN = new InjectionToken('config');\n\nvar QuillService = /*#__PURE__*/function () {\n  function QuillService(injector, config) {\n    _classCallCheck(this, QuillService);\n\n    this.config = config;\n    this.count = 0;\n    this.document = injector.get(DOCUMENT);\n\n    if (!this.config) {\n      this.config = {\n        modules: defaultModules\n      };\n    }\n  }\n\n  _createClass(QuillService, [{\n    key: \"getQuill\",\n    value: function getQuill() {\n      var _this = this;\n\n      this.count++;\n\n      if (!this.Quill && this.count === 1) {\n        this.$importPromise = new Promise(function (resolve) {\n          return __awaiter(_this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n            var _this2 = this;\n\n            var _a, _b, maybePatchedAddEventListener, quillImport;\n\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    // Quill adds events listeners on import https://github.com/quilljs/quill/blob/develop/core/emitter.js#L8\n                    // We'd want to use the unpatched `addEventListener` method to have all event callbacks to be run outside of zone.\n                    // We don't know yet if the `zone.js` is used or not, just save the value to restore it back further.\n                    maybePatchedAddEventListener = this.document.addEventListener; // There're 2 types of Angular applications:\n                    // 1) zone-full (by default)\n                    // 2) zone-less\n                    // The developer can avoid importing the `zone.js` package and tells Angular that he/she is responsible for running\n                    // the change detection by himself. This is done by \"nooping\" the zone through `CompilerOptions` when bootstrapping\n                    // the root module. We fallback to `document.addEventListener` if `__zone_symbol__addEventListener` is not defined,\n                    // this means the `zone.js` is not imported.\n                    // The `__zone_symbol__addEventListener` is basically a native DOM API, which is not patched by zone.js, thus not even going\n                    // through the `zone.js` task lifecycle. You can also access the native DOM API as follows `target[Zone.__symbol__('methodName')]`.\n                    // eslint-disable-next-line @typescript-eslint/dot-notation\n\n                    this.document.addEventListener = this.document['__zone_symbol__addEventListener'] || this.document.addEventListener;\n                    _context.next = 4;\n                    return import('quill');\n\n                  case 4:\n                    quillImport = _context.sent;\n                    this.document.addEventListener = maybePatchedAddEventListener;\n                    this.Quill = quillImport.default ? quillImport.default : quillImport; // Only register custom options and modules once\n\n                    (_a = this.config.customOptions) === null || _a === void 0 ? void 0 : _a.forEach(function (customOption) {\n                      var newCustomOption = _this2.Quill.import(customOption.import);\n\n                      newCustomOption.whitelist = customOption.whitelist;\n\n                      _this2.Quill.register(newCustomOption, true, _this2.config.suppressGlobalRegisterWarning);\n                    });\n                    (_b = this.config.customModules) === null || _b === void 0 ? void 0 : _b.forEach(function (_ref) {\n                      var implementation = _ref.implementation,\n                          path = _ref.path;\n\n                      _this2.Quill.register(path, implementation, _this2.config.suppressGlobalRegisterWarning);\n                    });\n                    resolve(this.Quill);\n\n                  case 10:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, this);\n          }));\n        });\n      }\n\n      return this.$importPromise;\n    }\n  }]);\n\n  return QuillService;\n}();\n\nQuillService.ɵfac = function QuillService_Factory(t) {\n  return new (t || QuillService)(ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(QUILL_CONFIG_TOKEN));\n};\n\nQuillService.ɵprov = i0.ɵɵdefineInjectable({\n  factory: function QuillService_Factory() {\n    return new QuillService(i0.ɵɵinject(i0.INJECTOR), i0.ɵɵinject(QUILL_CONFIG_TOKEN));\n  },\n  token: QuillService,\n  providedIn: \"root\"\n});\n\nQuillService.ctorParameters = function () {\n  return [{\n    type: Injector\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [QUILL_CONFIG_TOKEN]\n    }]\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillService, [{\n    type: Injectable,\n    args: [{\n      providedIn: 'root'\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.Injector\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [QUILL_CONFIG_TOKEN]\n      }]\n    }];\n  }, null);\n})(); // eslint-disable-next-line @angular-eslint/directive-class-suffix\n\n\nvar QuillEditorBase = /*#__PURE__*/function () {\n  function QuillEditorBase(injector, elementRef, domSanitizer, platformId, renderer, zone, service) {\n    var _this3 = this;\n\n    _classCallCheck(this, QuillEditorBase);\n\n    this.elementRef = elementRef;\n    this.domSanitizer = domSanitizer;\n    this.platformId = platformId;\n    this.renderer = renderer;\n    this.zone = zone;\n    this.service = service;\n    this.required = false;\n    this.customToolbarPosition = 'top';\n    this.sanitize = false;\n    this.styles = null;\n    this.strict = true;\n    this.customOptions = [];\n    this.customModules = [];\n    this.preserveWhitespace = false;\n    this.trimOnValidation = false;\n    this.compareValues = false;\n    this.filterNull = false;\n    /*\n    https://github.com/KillerCodeMonkey/ngx-quill/issues/1257 - fix null value set\n           provide default empty value\n    by default null\n           e.g. defaultEmptyValue=\"\" - empty string\n           <quill-editor\n      defaultEmptyValue=\"\"\n      formControlName=\"message\"\n    ></quill-editor>\n    */\n\n    this.defaultEmptyValue = null;\n    this.onEditorCreated = new EventEmitter();\n    this.onEditorChanged = new EventEmitter();\n    this.onContentChanged = new EventEmitter();\n    this.onSelectionChanged = new EventEmitter();\n    this.onFocus = new EventEmitter();\n    this.onBlur = new EventEmitter();\n    this.disabled = false; // used to store initial value before ViewInit\n\n    this.subscription = null;\n\n    this.valueGetter = function (quillEditor, editorElement) {\n      var html = editorElement.querySelector('.ql-editor').innerHTML;\n\n      if (html === '<p><br></p>' || html === '<div><br></div>') {\n        html = _this3.defaultEmptyValue;\n      }\n\n      var modelValue = html;\n      var format = getFormat(_this3.format, _this3.service.config.format);\n\n      if (format === 'text') {\n        modelValue = quillEditor.getText();\n      } else if (format === 'object') {\n        modelValue = quillEditor.getContents();\n      } else if (format === 'json') {\n        try {\n          modelValue = JSON.stringify(quillEditor.getContents());\n        } catch (e) {\n          modelValue = quillEditor.getText();\n        }\n      }\n\n      return modelValue;\n    };\n\n    this.valueSetter = function (quillEditor, value) {\n      var format = getFormat(_this3.format, _this3.service.config.format);\n\n      if (format === 'html') {\n        if (_this3.sanitize) {\n          value = _this3.domSanitizer.sanitize(SecurityContext.HTML, value);\n        }\n\n        return quillEditor.clipboard.convert(value);\n      } else if (format === 'json') {\n        try {\n          return JSON.parse(value);\n        } catch (e) {\n          return [{\n            insert: value\n          }];\n        }\n      }\n\n      return value;\n    };\n\n    this.selectionChangeHandler = function (range, oldRange, source) {\n      var shouldTriggerOnModelTouched = !range && !!_this3.onModelTouched; // only emit changes when there's any listener\n\n      if (!_this3.onBlur.observers.length && !_this3.onFocus.observers.length && !_this3.onSelectionChanged.observers.length && !shouldTriggerOnModelTouched) {\n        return;\n      }\n\n      _this3.zone.run(function () {\n        if (range === null) {\n          _this3.onBlur.emit({\n            editor: _this3.quillEditor,\n            source: source\n          });\n        } else if (oldRange === null) {\n          _this3.onFocus.emit({\n            editor: _this3.quillEditor,\n            source: source\n          });\n        }\n\n        _this3.onSelectionChanged.emit({\n          editor: _this3.quillEditor,\n          oldRange: oldRange,\n          range: range,\n          source: source\n        });\n\n        if (shouldTriggerOnModelTouched) {\n          _this3.onModelTouched();\n        }\n      });\n    };\n\n    this.textChangeHandler = function (delta, oldDelta, source) {\n      // only emit changes emitted by user interactions\n      var text = _this3.quillEditor.getText();\n\n      var content = _this3.quillEditor.getContents();\n\n      var html = _this3.editorElem.querySelector('.ql-editor').innerHTML;\n\n      if (html === '<p><br></p>' || html === '<div><br></div>') {\n        html = _this3.defaultEmptyValue;\n      }\n\n      var trackChanges = _this3.trackChanges || _this3.service.config.trackChanges;\n      var shouldTriggerOnModelChange = (source === 'user' || trackChanges && trackChanges === 'all') && !!_this3.onModelChange; // only emit changes when there's any listener\n\n      if (!_this3.onContentChanged.observers.length && !shouldTriggerOnModelChange) {\n        return;\n      }\n\n      _this3.zone.run(function () {\n        if (shouldTriggerOnModelChange) {\n          _this3.onModelChange(_this3.valueGetter(_this3.quillEditor, _this3.editorElem));\n        }\n\n        _this3.onContentChanged.emit({\n          content: content,\n          delta: delta,\n          editor: _this3.quillEditor,\n          html: html,\n          oldDelta: oldDelta,\n          source: source,\n          text: text\n        });\n      });\n    }; // eslint-disable-next-line max-len\n\n\n    this.editorChangeHandler = function (event, current, old, source) {\n      // only emit changes when there's any listener\n      if (!_this3.onEditorChanged.observers.length) {\n        return;\n      } // only emit changes emitted by user interactions\n\n\n      if (event === 'text-change') {\n        var text = _this3.quillEditor.getText();\n\n        var content = _this3.quillEditor.getContents();\n\n        var html = _this3.editorElem.querySelector('.ql-editor').innerHTML;\n\n        if (html === '<p><br></p>' || html === '<div><br></div>') {\n          html = _this3.defaultEmptyValue;\n        }\n\n        _this3.zone.run(function () {\n          _this3.onEditorChanged.emit({\n            content: content,\n            delta: current,\n            editor: _this3.quillEditor,\n            event: event,\n            html: html,\n            oldDelta: old,\n            source: source,\n            text: text\n          });\n        });\n      } else {\n        _this3.zone.run(function () {\n          _this3.onEditorChanged.emit({\n            editor: _this3.quillEditor,\n            event: event,\n            oldRange: old,\n            range: current,\n            source: source\n          });\n        });\n      }\n    };\n\n    this.document = injector.get(DOCUMENT);\n  }\n\n  _createClass(QuillEditorBase, [{\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this4 = this;\n\n        var Quill, toolbarElem, modules, placeholder, bounds, debug, readOnly, defaultEmptyValue, scrollingContainer, formats, format, newValue;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!isPlatformServer(this.platformId)) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 2:\n                _context2.next = 4;\n                return this.service.getQuill();\n\n              case 4:\n                Quill = _context2.sent;\n                this.elementRef.nativeElement.insertAdjacentHTML(this.customToolbarPosition === 'top' ? 'beforeend' : 'afterbegin', this.preserveWhitespace ? '<pre quill-editor-element></pre>' : '<div quill-editor-element></div>');\n                this.editorElem = this.elementRef.nativeElement.querySelector('[quill-editor-element]');\n                toolbarElem = this.elementRef.nativeElement.querySelector('[quill-editor-toolbar]');\n                modules = Object.assign({}, this.modules || this.service.config.modules);\n\n                if (toolbarElem) {\n                  modules.toolbar = toolbarElem;\n                } else if (modules.toolbar === undefined) {\n                  modules.toolbar = defaultModules.toolbar;\n                }\n\n                placeholder = this.placeholder !== undefined ? this.placeholder : this.service.config.placeholder;\n\n                if (placeholder === undefined) {\n                  placeholder = 'Insert text here ...';\n                }\n\n                if (this.styles) {\n                  Object.keys(this.styles).forEach(function (key) {\n                    _this4.renderer.setStyle(_this4.editorElem, key, _this4.styles[key]);\n                  });\n                }\n\n                if (this.classes) {\n                  this.addClasses(this.classes);\n                }\n\n                this.customOptions.forEach(function (customOption) {\n                  var newCustomOption = Quill.import(customOption.import);\n                  newCustomOption.whitelist = customOption.whitelist;\n                  Quill.register(newCustomOption, true);\n                });\n                this.customModules.forEach(function (_ref2) {\n                  var implementation = _ref2.implementation,\n                      path = _ref2.path;\n                  Quill.register(path, implementation);\n                });\n                bounds = this.bounds && this.bounds === 'self' ? this.editorElem : this.bounds;\n\n                if (!bounds) {\n                  bounds = this.service.config.bounds ? this.service.config.bounds : this.document.body;\n                }\n\n                debug = this.debug;\n\n                if (!debug && debug !== false && this.service.config.debug) {\n                  debug = this.service.config.debug;\n                }\n\n                readOnly = this.readOnly;\n\n                if (!readOnly && this.readOnly !== false) {\n                  readOnly = this.service.config.readOnly !== undefined ? this.service.config.readOnly : false;\n                }\n\n                defaultEmptyValue = this.defaultEmptyValue;\n\n                if (this.service.config.hasOwnProperty('defaultEmptyValue')) {\n                  defaultEmptyValue = this.service.config.defaultEmptyValue;\n                }\n\n                scrollingContainer = this.scrollingContainer;\n\n                if (!scrollingContainer && this.scrollingContainer !== null) {\n                  scrollingContainer = this.service.config.scrollingContainer === null || this.service.config.scrollingContainer ? this.service.config.scrollingContainer : null;\n                }\n\n                formats = this.formats;\n\n                if (!formats && formats === undefined) {\n                  formats = this.service.config.formats ? _toConsumableArray(this.service.config.formats) : this.service.config.formats === null ? null : undefined;\n                }\n\n                this.zone.runOutsideAngular(function () {\n                  var _a, _b, _c;\n\n                  _this4.quillEditor = new Quill(_this4.editorElem, {\n                    bounds: bounds,\n                    debug: debug,\n                    formats: formats,\n                    modules: modules,\n                    placeholder: placeholder,\n                    readOnly: readOnly,\n                    defaultEmptyValue: defaultEmptyValue,\n                    scrollingContainer: scrollingContainer,\n                    strict: _this4.strict,\n                    theme: _this4.theme || (_this4.service.config.theme ? _this4.service.config.theme : 'snow')\n                  }); // Set optional link placeholder, Quill has no native API for it so using workaround\n\n                  if (_this4.linkPlaceholder) {\n                    var tooltip = (_b = (_a = _this4.quillEditor) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.tooltip;\n                    var input = (_c = tooltip === null || tooltip === void 0 ? void 0 : tooltip.root) === null || _c === void 0 ? void 0 : _c.querySelector('input[data-link]');\n\n                    if (input === null || input === void 0 ? void 0 : input.dataset) {\n                      input.dataset.link = _this4.linkPlaceholder;\n                    }\n                  }\n                });\n\n                if (this.content) {\n                  format = getFormat(this.format, this.service.config.format);\n\n                  if (format === 'text') {\n                    this.quillEditor.setText(this.content, 'silent');\n                  } else {\n                    newValue = this.valueSetter(this.quillEditor, this.content);\n                    this.quillEditor.setContents(newValue, 'silent');\n                  }\n\n                  this.quillEditor.getModule('history').clear();\n                } // initialize disabled status based on this.disabled as default value\n\n\n                this.setDisabledState();\n                this.addQuillEventListeners(); // The `requestAnimationFrame` triggers change detection. There's no sense to invoke the `requestAnimationFrame` if anyone is\n                // listening to the `onEditorCreated` event inside the template, for instance `<quill-view (onEditorCreated)=\"...\">`.\n\n                if (!(!this.onEditorCreated.observers.length && !this.onValidatorChanged)) {\n                  _context2.next = 34;\n                  break;\n                }\n\n                return _context2.abrupt(\"return\");\n\n              case 34:\n                // The `requestAnimationFrame` will trigger change detection and `onEditorCreated` will also call `markDirty()`\n                // internally, since Angular wraps template event listeners into `listener` instruction. We're using the `requestAnimationFrame`\n                // to prevent the frame drop and avoid `ExpressionChangedAfterItHasBeenCheckedError` error.\n                requestAnimationFrame(function () {\n                  if (_this4.onValidatorChanged) {\n                    _this4.onValidatorChanged();\n                  }\n\n                  _this4.onEditorCreated.emit(_this4.quillEditor);\n                });\n\n              case 35:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.dispose();\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var _this5 = this;\n\n      if (!this.quillEditor) {\n        return;\n      }\n      /* eslint-disable @typescript-eslint/dot-notation */\n\n\n      if (changes.readOnly) {\n        this.quillEditor.enable(!changes.readOnly.currentValue);\n      }\n\n      if (changes.placeholder) {\n        this.quillEditor.root.dataset.placeholder = changes.placeholder.currentValue;\n      }\n\n      if (changes.defaultEmptyValue) {\n        this.quillEditor.root.dataset.defaultEmptyValue = changes.defaultEmptyValue.currentValue;\n      }\n\n      if (changes.styles) {\n        var currentStyling = changes.styles.currentValue;\n        var previousStyling = changes.styles.previousValue;\n\n        if (previousStyling) {\n          Object.keys(previousStyling).forEach(function (key) {\n            _this5.renderer.removeStyle(_this5.editorElem, key);\n          });\n        }\n\n        if (currentStyling) {\n          Object.keys(currentStyling).forEach(function (key) {\n            _this5.renderer.setStyle(_this5.editorElem, key, _this5.styles[key]);\n          });\n        }\n      }\n\n      if (changes.classes) {\n        var currentClasses = changes.classes.currentValue;\n        var previousClasses = changes.classes.previousValue;\n\n        if (previousClasses) {\n          this.removeClasses(previousClasses);\n        }\n\n        if (currentClasses) {\n          this.addClasses(currentClasses);\n        }\n      } // We'd want to re-apply event listeners if the `debounceTime` binding changes to apply the\n      // `debounceTime` operator or vice-versa remove it.\n\n\n      if (changes.debounceTime) {\n        this.addQuillEventListeners();\n      }\n      /* eslint-enable @typescript-eslint/dot-notation */\n\n    }\n  }, {\n    key: \"addClasses\",\n    value: function addClasses(classList) {\n      var _this6 = this;\n\n      QuillEditorBase.normalizeClassNames(classList).forEach(function (c) {\n        _this6.renderer.addClass(_this6.editorElem, c);\n      });\n    }\n  }, {\n    key: \"removeClasses\",\n    value: function removeClasses(classList) {\n      var _this7 = this;\n\n      QuillEditorBase.normalizeClassNames(classList).forEach(function (c) {\n        _this7.renderer.removeClass(_this7.editorElem, c);\n      });\n    }\n  }, {\n    key: \"writeValue\",\n    value: function writeValue(currentValue) {\n      // optional fix for https://github.com/angular/angular/issues/14988\n      if (this.filterNull && currentValue === null) {\n        return;\n      }\n\n      this.content = currentValue;\n\n      if (!this.quillEditor) {\n        return;\n      }\n\n      var format = getFormat(this.format, this.service.config.format);\n      var newValue = this.valueSetter(this.quillEditor, currentValue);\n\n      if (this.compareValues) {\n        var currentEditorValue = this.quillEditor.getContents();\n\n        if (JSON.stringify(currentEditorValue) === JSON.stringify(newValue)) {\n          return;\n        }\n      }\n\n      if (currentValue) {\n        if (format === 'text') {\n          this.quillEditor.setText(currentValue);\n        } else {\n          this.quillEditor.setContents(newValue);\n        }\n\n        return;\n      }\n\n      this.quillEditor.setText('');\n    }\n  }, {\n    key: \"setDisabledState\",\n    value: function setDisabledState() {\n      var isDisabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.disabled;\n      // store initial value to set appropriate disabled status after ViewInit\n      this.disabled = isDisabled;\n\n      if (this.quillEditor) {\n        if (isDisabled) {\n          this.quillEditor.disable();\n          this.renderer.setAttribute(this.elementRef.nativeElement, 'disabled', 'disabled');\n        } else {\n          if (!this.readOnly) {\n            this.quillEditor.enable();\n          }\n\n          this.renderer.removeAttribute(this.elementRef.nativeElement, 'disabled');\n        }\n      }\n    }\n  }, {\n    key: \"registerOnChange\",\n    value: function registerOnChange(fn) {\n      this.onModelChange = fn;\n    }\n  }, {\n    key: \"registerOnTouched\",\n    value: function registerOnTouched(fn) {\n      this.onModelTouched = fn;\n    }\n  }, {\n    key: \"registerOnValidatorChange\",\n    value: function registerOnValidatorChange(fn) {\n      this.onValidatorChanged = fn;\n    }\n  }, {\n    key: \"validate\",\n    value: function validate() {\n      if (!this.quillEditor) {\n        return null;\n      }\n\n      var err = {};\n      var valid = true;\n      var text = this.quillEditor.getText(); // trim text if wanted + handle special case that an empty editor contains a new line\n\n      var textLength = this.trimOnValidation ? text.trim().length : text.length === 1 && text.trim().length === 0 ? 0 : text.length - 1;\n\n      if (this.minLength && textLength && textLength < this.minLength) {\n        err.minLengthError = {\n          given: textLength,\n          minLength: this.minLength\n        };\n        valid = false;\n      }\n\n      if (this.maxLength && textLength > this.maxLength) {\n        err.maxLengthError = {\n          given: textLength,\n          maxLength: this.maxLength\n        };\n        valid = false;\n      }\n\n      if (this.required && !textLength) {\n        err.requiredError = {\n          empty: true\n        };\n        valid = false;\n      }\n\n      return valid ? null : err;\n    }\n  }, {\n    key: \"addQuillEventListeners\",\n    value: function addQuillEventListeners() {\n      var _this8 = this;\n\n      this.dispose(); // We have to enter the `<root>` zone when adding event listeners, so `debounceTime` will spawn the\n      // `AsyncAction` there w/o triggering change detections. We still re-enter the Angular's zone through\n      // `zone.run` when we emit an event to the parent component.\n\n      this.zone.runOutsideAngular(function () {\n        _this8.subscription = new Subscription();\n\n        _this8.subscription.add( // mark model as touched if editor lost focus\n        fromEvent(_this8.quillEditor, 'selection-change').subscribe(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 3),\n              range = _ref4[0],\n              oldRange = _ref4[1],\n              source = _ref4[2];\n\n          _this8.selectionChangeHandler(range, oldRange, source);\n        })); // The `fromEvent` supports passing JQuery-style event targets, the editor has `on` and `off` methods which\n        // will be invoked upon subscription and teardown.\n\n\n        var textChange$ = fromEvent(_this8.quillEditor, 'text-change');\n        var editorChange$ = fromEvent(_this8.quillEditor, 'editor-change');\n\n        if (typeof _this8.debounceTime === 'number') {\n          textChange$ = textChange$.pipe(debounceTime(_this8.debounceTime));\n          editorChange$ = editorChange$.pipe(debounceTime(_this8.debounceTime));\n        }\n\n        _this8.subscription.add( // update model if text changes\n        textChange$.subscribe(function (_ref5) {\n          var _ref6 = _slicedToArray(_ref5, 3),\n              delta = _ref6[0],\n              oldDelta = _ref6[1],\n              source = _ref6[2];\n\n          _this8.textChangeHandler(delta, oldDelta, source);\n        }));\n\n        _this8.subscription.add( // triggered if selection or text changed\n        editorChange$.subscribe(function (_ref7) {\n          var _ref8 = _slicedToArray(_ref7, 4),\n              event = _ref8[0],\n              current = _ref8[1],\n              old = _ref8[2],\n              source = _ref8[3];\n\n          _this8.editorChangeHandler(event, current, old, source);\n        }));\n      });\n    }\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      if (this.subscription !== null) {\n        this.subscription.unsubscribe();\n        this.subscription = null;\n      }\n    }\n  }], [{\n    key: \"normalizeClassNames\",\n    value: function normalizeClassNames(classes) {\n      var classList = classes.trim().split(' ');\n      return classList.reduce(function (prev, cur) {\n        var trimmed = cur.trim();\n\n        if (trimmed) {\n          prev.push(trimmed);\n        }\n\n        return prev;\n      }, []);\n    }\n  }]);\n\n  return QuillEditorBase;\n}();\n\nQuillEditorBase.ɵfac = function QuillEditorBase_Factory(t) {\n  return new (t || QuillEditorBase)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(QuillService));\n};\n\nQuillEditorBase.ɵdir = /*@__PURE__*/ɵngcc0.ɵɵdefineDirective({\n  type: QuillEditorBase,\n  inputs: {\n    required: \"required\",\n    customToolbarPosition: \"customToolbarPosition\",\n    sanitize: \"sanitize\",\n    styles: \"styles\",\n    strict: \"strict\",\n    customOptions: \"customOptions\",\n    customModules: \"customModules\",\n    preserveWhitespace: \"preserveWhitespace\",\n    trimOnValidation: \"trimOnValidation\",\n    compareValues: \"compareValues\",\n    filterNull: \"filterNull\",\n    defaultEmptyValue: \"defaultEmptyValue\",\n    valueGetter: \"valueGetter\",\n    valueSetter: \"valueSetter\",\n    format: \"format\",\n    theme: \"theme\",\n    modules: \"modules\",\n    debug: \"debug\",\n    readOnly: \"readOnly\",\n    placeholder: \"placeholder\",\n    maxLength: \"maxLength\",\n    minLength: \"minLength\",\n    formats: \"formats\",\n    scrollingContainer: \"scrollingContainer\",\n    bounds: \"bounds\",\n    trackChanges: \"trackChanges\",\n    classes: \"classes\",\n    linkPlaceholder: \"linkPlaceholder\",\n    debounceTime: \"debounceTime\"\n  },\n  outputs: {\n    onEditorCreated: \"onEditorCreated\",\n    onEditorChanged: \"onEditorChanged\",\n    onContentChanged: \"onContentChanged\",\n    onSelectionChanged: \"onSelectionChanged\",\n    onFocus: \"onFocus\",\n    onBlur: \"onBlur\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature]\n});\n\nQuillEditorBase.ctorParameters = function () {\n  return [{\n    type: Injector\n  }, {\n    type: ElementRef\n  }, {\n    type: DomSanitizer\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: Renderer2\n  }, {\n    type: NgZone\n  }, {\n    type: QuillService\n  }];\n};\n\nQuillEditorBase.propDecorators = {\n  format: [{\n    type: Input\n  }],\n  theme: [{\n    type: Input\n  }],\n  modules: [{\n    type: Input\n  }],\n  debug: [{\n    type: Input\n  }],\n  readOnly: [{\n    type: Input\n  }],\n  placeholder: [{\n    type: Input\n  }],\n  maxLength: [{\n    type: Input\n  }],\n  minLength: [{\n    type: Input\n  }],\n  required: [{\n    type: Input\n  }],\n  formats: [{\n    type: Input\n  }],\n  customToolbarPosition: [{\n    type: Input\n  }],\n  sanitize: [{\n    type: Input\n  }],\n  styles: [{\n    type: Input\n  }],\n  strict: [{\n    type: Input\n  }],\n  scrollingContainer: [{\n    type: Input\n  }],\n  bounds: [{\n    type: Input\n  }],\n  customOptions: [{\n    type: Input\n  }],\n  customModules: [{\n    type: Input\n  }],\n  trackChanges: [{\n    type: Input\n  }],\n  preserveWhitespace: [{\n    type: Input\n  }],\n  classes: [{\n    type: Input\n  }],\n  trimOnValidation: [{\n    type: Input\n  }],\n  linkPlaceholder: [{\n    type: Input\n  }],\n  compareValues: [{\n    type: Input\n  }],\n  filterNull: [{\n    type: Input\n  }],\n  debounceTime: [{\n    type: Input\n  }],\n  defaultEmptyValue: [{\n    type: Input\n  }],\n  onEditorCreated: [{\n    type: Output\n  }],\n  onEditorChanged: [{\n    type: Output\n  }],\n  onContentChanged: [{\n    type: Output\n  }],\n  onSelectionChanged: [{\n    type: Output\n  }],\n  onFocus: [{\n    type: Output\n  }],\n  onBlur: [{\n    type: Output\n  }],\n  valueGetter: [{\n    type: Input\n  }],\n  valueSetter: [{\n    type: Input\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillEditorBase, [{\n    type: Directive\n  }], function () {\n    return [{\n      type: ɵngcc0.Injector\n    }, {\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc1.DomSanitizer\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.NgZone\n    }, {\n      type: QuillService\n    }];\n  }, {\n    required: [{\n      type: Input\n    }],\n    customToolbarPosition: [{\n      type: Input\n    }],\n    sanitize: [{\n      type: Input\n    }],\n    styles: [{\n      type: Input\n    }],\n    strict: [{\n      type: Input\n    }],\n    customOptions: [{\n      type: Input\n    }],\n    customModules: [{\n      type: Input\n    }],\n    preserveWhitespace: [{\n      type: Input\n    }],\n    trimOnValidation: [{\n      type: Input\n    }],\n    compareValues: [{\n      type: Input\n    }],\n    filterNull: [{\n      type: Input\n    }],\n    defaultEmptyValue: [{\n      type: Input\n    }],\n    onEditorCreated: [{\n      type: Output\n    }],\n    onEditorChanged: [{\n      type: Output\n    }],\n    onContentChanged: [{\n      type: Output\n    }],\n    onSelectionChanged: [{\n      type: Output\n    }],\n    onFocus: [{\n      type: Output\n    }],\n    onBlur: [{\n      type: Output\n    }],\n    valueGetter: [{\n      type: Input\n    }],\n    valueSetter: [{\n      type: Input\n    }],\n    format: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }],\n    modules: [{\n      type: Input\n    }],\n    debug: [{\n      type: Input\n    }],\n    readOnly: [{\n      type: Input\n    }],\n    placeholder: [{\n      type: Input\n    }],\n    maxLength: [{\n      type: Input\n    }],\n    minLength: [{\n      type: Input\n    }],\n    formats: [{\n      type: Input\n    }],\n    scrollingContainer: [{\n      type: Input\n    }],\n    bounds: [{\n      type: Input\n    }],\n    trackChanges: [{\n      type: Input\n    }],\n    classes: [{\n      type: Input\n    }],\n    linkPlaceholder: [{\n      type: Input\n    }],\n    debounceTime: [{\n      type: Input\n    }]\n  });\n})();\n\nvar QuillEditorComponent = /*#__PURE__*/function (_QuillEditorBase) {\n  _inherits(QuillEditorComponent, _QuillEditorBase);\n\n  var _super = _createSuper(QuillEditorComponent);\n\n  function QuillEditorComponent(injector, elementRef, domSanitizer, platformId, renderer, zone, service) {\n    _classCallCheck(this, QuillEditorComponent);\n\n    return _super.call(this, injector, elementRef, domSanitizer, platformId, renderer, zone, service);\n  }\n\n  return QuillEditorComponent;\n}(QuillEditorBase);\n\nQuillEditorComponent.ɵfac = function QuillEditorComponent_Factory(t) {\n  return new (t || QuillEditorComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(DomSanitizer), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(Renderer2), ɵngcc0.ɵɵdirectiveInject(NgZone), ɵngcc0.ɵɵdirectiveInject(QuillService));\n};\n\nQuillEditorComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: QuillEditorComponent,\n  selectors: [[\"quill-editor\"]],\n  features: [ɵngcc0.ɵɵProvidersFeature([{\n    multi: true,\n    provide: NG_VALUE_ACCESSOR,\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    useExisting: forwardRef(function () {\n      return QuillEditorComponent;\n    })\n  }, {\n    multi: true,\n    provide: NG_VALIDATORS,\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    useExisting: forwardRef(function () {\n      return QuillEditorComponent;\n    })\n  }]), ɵngcc0.ɵɵInheritDefinitionFeature],\n  ngContentSelectors: _c1,\n  decls: 1,\n  vars: 0,\n  template: function QuillEditorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵprojectionDef(_c0);\n      ɵngcc0.ɵɵprojection(0);\n    }\n  },\n  encapsulation: 2\n});\n\nQuillEditorComponent.ctorParameters = function () {\n  return [{\n    type: Injector\n  }, {\n    type: ElementRef,\n    decorators: [{\n      type: Inject,\n      args: [ElementRef]\n    }]\n  }, {\n    type: DomSanitizer,\n    decorators: [{\n      type: Inject,\n      args: [DomSanitizer]\n    }]\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }, {\n    type: Renderer2,\n    decorators: [{\n      type: Inject,\n      args: [Renderer2]\n    }]\n  }, {\n    type: NgZone,\n    decorators: [{\n      type: Inject,\n      args: [NgZone]\n    }]\n  }, {\n    type: QuillService,\n    decorators: [{\n      type: Inject,\n      args: [QuillService]\n    }]\n  }];\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillEditorComponent, [{\n    type: Component,\n    args: [{\n      encapsulation: ViewEncapsulation.None,\n      providers: [{\n        multi: true,\n        provide: NG_VALUE_ACCESSOR,\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        useExisting: forwardRef(function () {\n          return QuillEditorComponent;\n        })\n      }, {\n        multi: true,\n        provide: NG_VALIDATORS,\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        useExisting: forwardRef(function () {\n          return QuillEditorComponent;\n        })\n      }],\n      selector: 'quill-editor',\n      template: \"\\n  <ng-content select=\\\"[quill-editor-toolbar]\\\"></ng-content>\\n\"\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.Injector\n    }, {\n      type: ɵngcc0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [ElementRef]\n      }]\n    }, {\n      type: ɵngcc1.DomSanitizer,\n      decorators: [{\n        type: Inject,\n        args: [DomSanitizer]\n      }]\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }, {\n      type: ɵngcc0.Renderer2,\n      decorators: [{\n        type: Inject,\n        args: [Renderer2]\n      }]\n    }, {\n      type: ɵngcc0.NgZone,\n      decorators: [{\n        type: Inject,\n        args: [NgZone]\n      }]\n    }, {\n      type: QuillService,\n      decorators: [{\n        type: Inject,\n        args: [QuillService]\n      }]\n    }];\n  }, null);\n})();\n\nvar QuillViewHTMLComponent = /*#__PURE__*/function () {\n  function QuillViewHTMLComponent(sanitizer, service) {\n    _classCallCheck(this, QuillViewHTMLComponent);\n\n    this.sanitizer = sanitizer;\n    this.service = service;\n    this.content = '';\n    this.sanitize = false;\n    this.innerHTML = '';\n    this.themeClass = 'ql-snow';\n  }\n\n  _createClass(QuillViewHTMLComponent, [{\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      if (changes.theme) {\n        var theme = changes.theme.currentValue || (this.service.config.theme ? this.service.config.theme : 'snow');\n        this.themeClass = \"ql-\".concat(theme, \" ngx-quill-view-html\");\n      } else if (!this.theme) {\n        var _theme = this.service.config.theme ? this.service.config.theme : 'snow';\n\n        this.themeClass = \"ql-\".concat(_theme, \" ngx-quill-view-html\");\n      }\n\n      if (changes.content) {\n        var content = changes.content.currentValue;\n        this.innerHTML = this.sanitize ? content : this.sanitizer.bypassSecurityTrustHtml(content);\n      }\n    }\n  }]);\n\n  return QuillViewHTMLComponent;\n}();\n\nQuillViewHTMLComponent.ɵfac = function QuillViewHTMLComponent_Factory(t) {\n  return new (t || QuillViewHTMLComponent)(ɵngcc0.ɵɵdirectiveInject(DomSanitizer), ɵngcc0.ɵɵdirectiveInject(QuillService));\n};\n\nQuillViewHTMLComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: QuillViewHTMLComponent,\n  selectors: [[\"quill-view-html\"]],\n  inputs: {\n    content: \"content\",\n    sanitize: \"sanitize\",\n    theme: \"theme\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 2,\n  vars: 2,\n  consts: [[1, \"ql-container\", 3, \"ngClass\"], [1, \"ql-editor\", 3, \"innerHTML\"]],\n  template: function QuillViewHTMLComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n      ɵngcc0.ɵɵelement(1, \"div\", 1);\n      ɵngcc0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      ɵngcc0.ɵɵproperty(\"ngClass\", ctx.themeClass);\n      ɵngcc0.ɵɵadvance(1);\n      ɵngcc0.ɵɵproperty(\"innerHTML\", ctx.innerHTML, ɵngcc0.ɵɵsanitizeHtml);\n    }\n  },\n  directives: [ɵngcc2.NgClass],\n  styles: [\"\\n.ql-container.ngx-quill-view-html {\\n  border: 0;\\n}\\n\"],\n  encapsulation: 2\n});\n\nQuillViewHTMLComponent.ctorParameters = function () {\n  return [{\n    type: DomSanitizer,\n    decorators: [{\n      type: Inject,\n      args: [DomSanitizer]\n    }]\n  }, {\n    type: QuillService\n  }];\n};\n\nQuillViewHTMLComponent.propDecorators = {\n  content: [{\n    type: Input\n  }],\n  theme: [{\n    type: Input\n  }],\n  sanitize: [{\n    type: Input\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillViewHTMLComponent, [{\n    type: Component,\n    args: [{\n      encapsulation: ViewEncapsulation.None,\n      selector: 'quill-view-html',\n      template: \"\\n  <div class=\\\"ql-container\\\" [ngClass]=\\\"themeClass\\\">\\n    <div class=\\\"ql-editor\\\" [innerHTML]=\\\"innerHTML\\\">\\n    </div>\\n  </div>\\n\",\n      styles: [\"\\n.ql-container.ngx-quill-view-html {\\n  border: 0;\\n}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc1.DomSanitizer,\n      decorators: [{\n        type: Inject,\n        args: [DomSanitizer]\n      }]\n    }, {\n      type: QuillService\n    }];\n  }, {\n    content: [{\n      type: Input\n    }],\n    sanitize: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }]\n  });\n})();\n\nvar QuillViewComponent = /*#__PURE__*/function () {\n  function QuillViewComponent(elementRef, renderer, zone, service, domSanitizer, platformId) {\n    var _this9 = this;\n\n    _classCallCheck(this, QuillViewComponent);\n\n    this.elementRef = elementRef;\n    this.renderer = renderer;\n    this.zone = zone;\n    this.service = service;\n    this.domSanitizer = domSanitizer;\n    this.platformId = platformId;\n    this.sanitize = false;\n    this.strict = true;\n    this.customModules = [];\n    this.customOptions = [];\n    this.preserveWhitespace = false;\n    this.onEditorCreated = new EventEmitter();\n\n    this.valueSetter = function (quillEditor, value) {\n      var format = getFormat(_this9.format, _this9.service.config.format);\n      var content = value;\n\n      if (format === 'text') {\n        quillEditor.setText(content);\n      } else {\n        if (format === 'html') {\n          if (_this9.sanitize) {\n            value = _this9.domSanitizer.sanitize(SecurityContext.HTML, value);\n          }\n\n          content = quillEditor.clipboard.convert(value);\n        } else if (format === 'json') {\n          try {\n            content = JSON.parse(value);\n          } catch (e) {\n            content = [{\n              insert: value\n            }];\n          }\n        }\n\n        quillEditor.setContents(content);\n      }\n    };\n  }\n\n  _createClass(QuillViewComponent, [{\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      if (!this.quillEditor) {\n        return;\n      }\n\n      if (changes.content) {\n        this.valueSetter(this.quillEditor, changes.content.currentValue);\n      }\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var _this10 = this;\n\n        var Quill, modules, debug, formats, theme;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!isPlatformServer(this.platformId)) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 2:\n                _context3.next = 4;\n                return this.service.getQuill();\n\n              case 4:\n                Quill = _context3.sent;\n                modules = Object.assign({}, this.modules || this.service.config.modules);\n                modules.toolbar = false;\n                this.customOptions.forEach(function (customOption) {\n                  var newCustomOption = Quill.import(customOption.import);\n                  newCustomOption.whitelist = customOption.whitelist;\n                  Quill.register(newCustomOption, true);\n                });\n                this.customModules.forEach(function (_ref9) {\n                  var implementation = _ref9.implementation,\n                      path = _ref9.path;\n                  Quill.register(path, implementation);\n                });\n                debug = this.debug;\n\n                if (!debug && debug !== false && this.service.config.debug) {\n                  debug = this.service.config.debug;\n                }\n\n                formats = this.formats;\n\n                if (!formats && formats === undefined) {\n                  formats = this.service.config.formats ? Object.assign({}, this.service.config.formats) : this.service.config.formats === null ? null : undefined;\n                }\n\n                theme = this.theme || (this.service.config.theme ? this.service.config.theme : 'snow');\n                this.elementRef.nativeElement.insertAdjacentHTML('afterbegin', this.preserveWhitespace ? '<pre quill-view-element></pre>' : '<div quill-view-element></div>');\n                this.editorElem = this.elementRef.nativeElement.querySelector('[quill-view-element]');\n                this.zone.runOutsideAngular(function () {\n                  _this10.quillEditor = new Quill(_this10.editorElem, {\n                    debug: debug,\n                    formats: formats,\n                    modules: modules,\n                    readOnly: true,\n                    strict: _this10.strict,\n                    theme: theme\n                  });\n                });\n                this.renderer.addClass(this.editorElem, 'ngx-quill-view');\n\n                if (this.content) {\n                  this.valueSetter(this.quillEditor, this.content);\n                } // The `requestAnimationFrame` triggers change detection. There's no sense to invoke the `requestAnimationFrame` if anyone is\n                // listening to the `onEditorCreated` event inside the template, for instance `<quill-view (onEditorCreated)=\"...\">`.\n\n\n                if (this.onEditorCreated.observers.length) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 21:\n                // The `requestAnimationFrame` will trigger change detection and `onEditorCreated` will also call `markDirty()`\n                // internally, since Angular wraps template event listeners into `listener` instruction. We're using the `requestAnimationFrame`\n                // to prevent the frame drop and avoid `ExpressionChangedAfterItHasBeenCheckedError` error.\n                requestAnimationFrame(function () {\n                  _this10.onEditorCreated.emit(_this10.quillEditor);\n                });\n\n              case 22:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n    }\n  }]);\n\n  return QuillViewComponent;\n}();\n\nQuillViewComponent.ɵfac = function QuillViewComponent_Factory(t) {\n  return new (t || QuillViewComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(QuillService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID));\n};\n\nQuillViewComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: QuillViewComponent,\n  selectors: [[\"quill-view\"]],\n  inputs: {\n    sanitize: \"sanitize\",\n    strict: \"strict\",\n    customModules: \"customModules\",\n    customOptions: \"customOptions\",\n    preserveWhitespace: \"preserveWhitespace\",\n    format: \"format\",\n    theme: \"theme\",\n    modules: \"modules\",\n    debug: \"debug\",\n    formats: \"formats\",\n    content: \"content\"\n  },\n  outputs: {\n    onEditorCreated: \"onEditorCreated\"\n  },\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function QuillViewComponent_Template(rf, ctx) {},\n  styles: [\"\\n.ql-container.ngx-quill-view {\\n  border: 0;\\n}\\n\"],\n  encapsulation: 2\n});\n\nQuillViewComponent.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: Renderer2\n  }, {\n    type: NgZone\n  }, {\n    type: QuillService\n  }, {\n    type: DomSanitizer\n  }, {\n    type: undefined,\n    decorators: [{\n      type: Inject,\n      args: [PLATFORM_ID]\n    }]\n  }];\n};\n\nQuillViewComponent.propDecorators = {\n  format: [{\n    type: Input\n  }],\n  theme: [{\n    type: Input\n  }],\n  modules: [{\n    type: Input\n  }],\n  debug: [{\n    type: Input\n  }],\n  formats: [{\n    type: Input\n  }],\n  sanitize: [{\n    type: Input\n  }],\n  strict: [{\n    type: Input\n  }],\n  content: [{\n    type: Input\n  }],\n  customModules: [{\n    type: Input\n  }],\n  customOptions: [{\n    type: Input\n  }],\n  preserveWhitespace: [{\n    type: Input\n  }],\n  onEditorCreated: [{\n    type: Output\n  }]\n};\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillViewComponent, [{\n    type: Component,\n    args: [{\n      encapsulation: ViewEncapsulation.None,\n      selector: 'quill-view',\n      template: \"\\n\",\n      styles: [\"\\n.ql-container.ngx-quill-view {\\n  border: 0;\\n}\\n\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.Renderer2\n    }, {\n      type: ɵngcc0.NgZone\n    }, {\n      type: QuillService\n    }, {\n      type: ɵngcc1.DomSanitizer\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [PLATFORM_ID]\n      }]\n    }];\n  }, {\n    sanitize: [{\n      type: Input\n    }],\n    strict: [{\n      type: Input\n    }],\n    customModules: [{\n      type: Input\n    }],\n    customOptions: [{\n      type: Input\n    }],\n    preserveWhitespace: [{\n      type: Input\n    }],\n    onEditorCreated: [{\n      type: Output\n    }],\n    format: [{\n      type: Input\n    }],\n    theme: [{\n      type: Input\n    }],\n    modules: [{\n      type: Input\n    }],\n    debug: [{\n      type: Input\n    }],\n    formats: [{\n      type: Input\n    }],\n    content: [{\n      type: Input\n    }]\n  });\n})();\n\nvar QuillModule = /*#__PURE__*/function () {\n  function QuillModule() {\n    _classCallCheck(this, QuillModule);\n  }\n\n  _createClass(QuillModule, null, [{\n    key: \"forRoot\",\n    value: function forRoot(config) {\n      return {\n        ngModule: QuillModule,\n        providers: [{\n          provide: QUILL_CONFIG_TOKEN,\n          useValue: config\n        }]\n      };\n    }\n  }]);\n\n  return QuillModule;\n}();\n\nQuillModule.ɵfac = function QuillModule_Factory(t) {\n  return new (t || QuillModule)();\n};\n\nQuillModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: QuillModule\n});\nQuillModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n  providers: [QuillService],\n  imports: [[CommonModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent],\n      exports: [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent],\n      imports: [CommonModule],\n      providers: [QuillService]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(QuillModule, {\n    declarations: function declarations() {\n      return [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent];\n    },\n    imports: function imports() {\n      return [CommonModule];\n    },\n    exports: function exports() {\n      return [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent];\n    }\n  });\n})();\n/*\n * Public API Surface of ngx-quill\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { QUILL_CONFIG_TOKEN, QuillEditorBase, QuillEditorComponent, QuillModule, QuillService, QuillViewComponent, QuillViewHTMLComponent, defaultModules }; //# sourceMappingURL=ngx-quill.js.map","map":{"version":3,"sources":["E:/_Projet/Cnss/gull-admin-full-version-12.0/gull-compact-sidebar/node_modules/ngx-quill/fesm2015/ngx-quill.js"],"names":["DOCUMENT","isPlatformServer","CommonModule","i0","InjectionToken","Injectable","Injector","Inject","EventEmitter","SecurityContext","Directive","ElementRef","PLATFORM_ID","Renderer2","NgZone","Input","Output","Component","ViewEncapsulation","forwardRef","NgModule","__awaiter","DomSanitizer","Subscription","fromEvent","debounceTime","NG_VALUE_ACCESSOR","NG_VALIDATORS","ɵngcc0","ɵngcc1","ɵngcc2","_c0","_c1","defaultModules","toolbar","header","list","script","indent","direction","size","color","background","font","align","getFormat","format","configFormat","passedFormat","QUILL_CONFIG_TOKEN","QuillService","injector","config","count","document","get","modules","Quill","$importPromise","Promise","resolve","maybePatchedAddEventListener","addEventListener","quillImport","default","_a","customOptions","forEach","customOption","newCustomOption","import","whitelist","register","suppressGlobalRegisterWarning","_b","customModules","implementation","path","ɵfac","QuillService_Factory","t","ɵɵinject","ɵprov","ɵɵdefineInjectable","factory","INJECTOR","token","providedIn","ctorParameters","type","undefined","decorators","args","ngDevMode","ɵsetClassMetadata","QuillEditorBase","elementRef","domSanitizer","platformId","renderer","zone","service","required","customToolbarPosition","sanitize","styles","strict","preserveWhitespace","trimOnValidation","compareValues","filterNull","defaultEmptyValue","onEditorCreated","onEditorChanged","onContentChanged","onSelectionChanged","onFocus","onBlur","disabled","subscription","valueGetter","quillEditor","editorElement","html","querySelector","innerHTML","modelValue","getText","getContents","JSON","stringify","e","valueSetter","value","HTML","clipboard","convert","parse","insert","selectionChangeHandler","range","oldRange","source","shouldTriggerOnModelTouched","onModelTouched","observers","length","run","emit","editor","textChangeHandler","delta","oldDelta","text","content","editorElem","trackChanges","shouldTriggerOnModelChange","onModelChange","editorChangeHandler","event","current","old","getQuill","nativeElement","insertAdjacentHTML","toolbarElem","Object","assign","placeholder","keys","key","setStyle","classes","addClasses","bounds","body","debug","readOnly","hasOwnProperty","scrollingContainer","formats","runOutsideAngular","_c","theme","linkPlaceholder","tooltip","input","root","dataset","link","setText","newValue","setContents","getModule","clear","setDisabledState","addQuillEventListeners","onValidatorChanged","requestAnimationFrame","dispose","changes","enable","currentValue","currentStyling","previousStyling","previousValue","removeStyle","currentClasses","previousClasses","removeClasses","classList","normalizeClassNames","c","addClass","removeClass","currentEditorValue","isDisabled","disable","setAttribute","removeAttribute","fn","err","valid","textLength","trim","minLength","minLengthError","given","maxLength","maxLengthError","requiredError","empty","add","subscribe","textChange$","editorChange$","pipe","unsubscribe","split","reduce","prev","cur","trimmed","push","QuillEditorBase_Factory","ɵɵdirectiveInject","ɵdir","ɵɵdefineDirective","inputs","outputs","features","ɵɵNgOnChangesFeature","propDecorators","QuillEditorComponent","QuillEditorComponent_Factory","ɵcmp","ɵɵdefineComponent","selectors","ɵɵProvidersFeature","multi","provide","useExisting","ɵɵInheritDefinitionFeature","ngContentSelectors","decls","vars","template","QuillEditorComponent_Template","rf","ctx","ɵɵprojectionDef","ɵɵprojection","encapsulation","None","providers","selector","QuillViewHTMLComponent","sanitizer","themeClass","bypassSecurityTrustHtml","QuillViewHTMLComponent_Factory","consts","QuillViewHTMLComponent_Template","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","ɵɵsanitizeHtml","directives","NgClass","QuillViewComponent","QuillViewComponent_Factory","QuillViewComponent_Template","QuillModule","ngModule","useValue","QuillModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","imports","declarations","exports","ngJitMode","ɵɵsetNgModuleScope"],"mappings":"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","sourcesContent":["import { DOCUMENT, isPlatformServer, CommonModule } from '@angular/common';\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Injector, Inject, EventEmitter, SecurityContext, Directive, ElementRef, PLATFORM_ID, Renderer2, NgZone, Input, Output, Component, ViewEncapsulation, forwardRef, NgModule } from '@angular/core';\nimport { __awaiter } from 'tslib';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { Subscription, fromEvent } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/platform-browser';\nimport * as ɵngcc2 from '@angular/common';\n\nconst _c0 = [[[\"\", \"quill-editor-toolbar\", \"\"]]];\nconst _c1 = [\"[quill-editor-toolbar]\"];\nconst defaultModules = {\n    toolbar: [\n        ['bold', 'italic', 'underline', 'strike'],\n        ['blockquote', 'code-block'],\n        [{ header: 1 }, { header: 2 }],\n        [{ list: 'ordered' }, { list: 'bullet' }],\n        [{ script: 'sub' }, { script: 'super' }],\n        [{ indent: '-1' }, { indent: '+1' }],\n        [{ direction: 'rtl' }],\n        [{ size: ['small', false, 'large', 'huge'] }],\n        [{ header: [1, 2, 3, 4, 5, 6, false] }],\n        [\n            { color: [] },\n            { background: [] }\n        ],\n        [{ font: [] }],\n        [{ align: [] }],\n        ['clean'],\n        ['link', 'image', 'video'] // link and image, video\n    ]\n};\n\nconst getFormat = (format, configFormat) => {\n    const passedFormat = format || configFormat;\n    return passedFormat || 'html';\n};\n\nconst QUILL_CONFIG_TOKEN = new InjectionToken('config');\n\nclass QuillService {\n    constructor(injector, config) {\n        this.config = config;\n        this.count = 0;\n        this.document = injector.get(DOCUMENT);\n        if (!this.config) {\n            this.config = { modules: defaultModules };\n        }\n    }\n    getQuill() {\n        this.count++;\n        if (!this.Quill && this.count === 1) {\n            this.$importPromise = new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b;\n                // Quill adds events listeners on import https://github.com/quilljs/quill/blob/develop/core/emitter.js#L8\n                // We'd want to use the unpatched `addEventListener` method to have all event callbacks to be run outside of zone.\n                // We don't know yet if the `zone.js` is used or not, just save the value to restore it back further.\n                const maybePatchedAddEventListener = this.document.addEventListener;\n                // There're 2 types of Angular applications:\n                // 1) zone-full (by default)\n                // 2) zone-less\n                // The developer can avoid importing the `zone.js` package and tells Angular that he/she is responsible for running\n                // the change detection by himself. This is done by \"nooping\" the zone through `CompilerOptions` when bootstrapping\n                // the root module. We fallback to `document.addEventListener` if `__zone_symbol__addEventListener` is not defined,\n                // this means the `zone.js` is not imported.\n                // The `__zone_symbol__addEventListener` is basically a native DOM API, which is not patched by zone.js, thus not even going\n                // through the `zone.js` task lifecycle. You can also access the native DOM API as follows `target[Zone.__symbol__('methodName')]`.\n                // eslint-disable-next-line @typescript-eslint/dot-notation\n                this.document.addEventListener = this.document['__zone_symbol__addEventListener'] || this.document.addEventListener;\n                const quillImport = yield import('quill');\n                this.document.addEventListener = maybePatchedAddEventListener;\n                this.Quill = (quillImport.default ? quillImport.default : quillImport);\n                // Only register custom options and modules once\n                (_a = this.config.customOptions) === null || _a === void 0 ? void 0 : _a.forEach((customOption) => {\n                    const newCustomOption = this.Quill.import(customOption.import);\n                    newCustomOption.whitelist = customOption.whitelist;\n                    this.Quill.register(newCustomOption, true, this.config.suppressGlobalRegisterWarning);\n                });\n                (_b = this.config.customModules) === null || _b === void 0 ? void 0 : _b.forEach(({ implementation, path }) => {\n                    this.Quill.register(path, implementation, this.config.suppressGlobalRegisterWarning);\n                });\n                resolve(this.Quill);\n            }));\n        }\n        return this.$importPromise;\n    }\n}\nQuillService.ɵfac = function QuillService_Factory(t) { return new (t || QuillService)(ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(QUILL_CONFIG_TOKEN)); };\nQuillService.ɵprov = i0.ɵɵdefineInjectable({ factory: function QuillService_Factory() { return new QuillService(i0.ɵɵinject(i0.INJECTOR), i0.ɵɵinject(QUILL_CONFIG_TOKEN)); }, token: QuillService, providedIn: \"root\" });\nQuillService.ctorParameters = () => [\n    { type: Injector },\n    { type: undefined, decorators: [{ type: Inject, args: [QUILL_CONFIG_TOKEN,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return [{ type: ɵngcc0.Injector }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [QUILL_CONFIG_TOKEN]\n            }] }]; }, null); })();\n\n// eslint-disable-next-line @angular-eslint/directive-class-suffix\nclass QuillEditorBase {\n    constructor(injector, elementRef, domSanitizer, platformId, renderer, zone, service) {\n        this.elementRef = elementRef;\n        this.domSanitizer = domSanitizer;\n        this.platformId = platformId;\n        this.renderer = renderer;\n        this.zone = zone;\n        this.service = service;\n        this.required = false;\n        this.customToolbarPosition = 'top';\n        this.sanitize = false;\n        this.styles = null;\n        this.strict = true;\n        this.customOptions = [];\n        this.customModules = [];\n        this.preserveWhitespace = false;\n        this.trimOnValidation = false;\n        this.compareValues = false;\n        this.filterNull = false;\n        /*\n        https://github.com/KillerCodeMonkey/ngx-quill/issues/1257 - fix null value set\n      \n        provide default empty value\n        by default null\n      \n        e.g. defaultEmptyValue=\"\" - empty string\n      \n        <quill-editor\n          defaultEmptyValue=\"\"\n          formControlName=\"message\"\n        ></quill-editor>\n        */\n        this.defaultEmptyValue = null;\n        this.onEditorCreated = new EventEmitter();\n        this.onEditorChanged = new EventEmitter();\n        this.onContentChanged = new EventEmitter();\n        this.onSelectionChanged = new EventEmitter();\n        this.onFocus = new EventEmitter();\n        this.onBlur = new EventEmitter();\n        this.disabled = false; // used to store initial value before ViewInit\n        this.subscription = null;\n        this.valueGetter = (quillEditor, editorElement) => {\n            let html = editorElement.querySelector('.ql-editor').innerHTML;\n            if (html === '<p><br></p>' || html === '<div><br></div>') {\n                html = this.defaultEmptyValue;\n            }\n            let modelValue = html;\n            const format = getFormat(this.format, this.service.config.format);\n            if (format === 'text') {\n                modelValue = quillEditor.getText();\n            }\n            else if (format === 'object') {\n                modelValue = quillEditor.getContents();\n            }\n            else if (format === 'json') {\n                try {\n                    modelValue = JSON.stringify(quillEditor.getContents());\n                }\n                catch (e) {\n                    modelValue = quillEditor.getText();\n                }\n            }\n            return modelValue;\n        };\n        this.valueSetter = (quillEditor, value) => {\n            const format = getFormat(this.format, this.service.config.format);\n            if (format === 'html') {\n                if (this.sanitize) {\n                    value = this.domSanitizer.sanitize(SecurityContext.HTML, value);\n                }\n                return quillEditor.clipboard.convert(value);\n            }\n            else if (format === 'json') {\n                try {\n                    return JSON.parse(value);\n                }\n                catch (e) {\n                    return [{ insert: value }];\n                }\n            }\n            return value;\n        };\n        this.selectionChangeHandler = (range, oldRange, source) => {\n            const shouldTriggerOnModelTouched = !range && !!this.onModelTouched;\n            // only emit changes when there's any listener\n            if (!this.onBlur.observers.length &&\n                !this.onFocus.observers.length &&\n                !this.onSelectionChanged.observers.length &&\n                !shouldTriggerOnModelTouched) {\n                return;\n            }\n            this.zone.run(() => {\n                if (range === null) {\n                    this.onBlur.emit({\n                        editor: this.quillEditor,\n                        source\n                    });\n                }\n                else if (oldRange === null) {\n                    this.onFocus.emit({\n                        editor: this.quillEditor,\n                        source\n                    });\n                }\n                this.onSelectionChanged.emit({\n                    editor: this.quillEditor,\n                    oldRange,\n                    range,\n                    source\n                });\n                if (shouldTriggerOnModelTouched) {\n                    this.onModelTouched();\n                }\n            });\n        };\n        this.textChangeHandler = (delta, oldDelta, source) => {\n            // only emit changes emitted by user interactions\n            const text = this.quillEditor.getText();\n            const content = this.quillEditor.getContents();\n            let html = this.editorElem.querySelector('.ql-editor').innerHTML;\n            if (html === '<p><br></p>' || html === '<div><br></div>') {\n                html = this.defaultEmptyValue;\n            }\n            const trackChanges = this.trackChanges || this.service.config.trackChanges;\n            const shouldTriggerOnModelChange = (source === 'user' || trackChanges && trackChanges === 'all') && !!this.onModelChange;\n            // only emit changes when there's any listener\n            if (!this.onContentChanged.observers.length && !shouldTriggerOnModelChange) {\n                return;\n            }\n            this.zone.run(() => {\n                if (shouldTriggerOnModelChange) {\n                    this.onModelChange(this.valueGetter(this.quillEditor, this.editorElem));\n                }\n                this.onContentChanged.emit({\n                    content,\n                    delta,\n                    editor: this.quillEditor,\n                    html,\n                    oldDelta,\n                    source,\n                    text\n                });\n            });\n        };\n        // eslint-disable-next-line max-len\n        this.editorChangeHandler = (event, current, old, source) => {\n            // only emit changes when there's any listener\n            if (!this.onEditorChanged.observers.length) {\n                return;\n            }\n            // only emit changes emitted by user interactions\n            if (event === 'text-change') {\n                const text = this.quillEditor.getText();\n                const content = this.quillEditor.getContents();\n                let html = this.editorElem.querySelector('.ql-editor').innerHTML;\n                if (html === '<p><br></p>' || html === '<div><br></div>') {\n                    html = this.defaultEmptyValue;\n                }\n                this.zone.run(() => {\n                    this.onEditorChanged.emit({\n                        content,\n                        delta: current,\n                        editor: this.quillEditor,\n                        event,\n                        html,\n                        oldDelta: old,\n                        source,\n                        text\n                    });\n                });\n            }\n            else {\n                this.zone.run(() => {\n                    this.onEditorChanged.emit({\n                        editor: this.quillEditor,\n                        event,\n                        oldRange: old,\n                        range: current,\n                        source\n                    });\n                });\n            }\n        };\n        this.document = injector.get(DOCUMENT);\n    }\n    static normalizeClassNames(classes) {\n        const classList = classes.trim().split(' ');\n        return classList.reduce((prev, cur) => {\n            const trimmed = cur.trim();\n            if (trimmed) {\n                prev.push(trimmed);\n            }\n            return prev;\n        }, []);\n    }\n    ngAfterViewInit() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (isPlatformServer(this.platformId)) {\n                return;\n            }\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            const Quill = yield this.service.getQuill();\n            this.elementRef.nativeElement.insertAdjacentHTML(this.customToolbarPosition === 'top' ? 'beforeend' : 'afterbegin', this.preserveWhitespace ? '<pre quill-editor-element></pre>' : '<div quill-editor-element></div>');\n            this.editorElem = this.elementRef.nativeElement.querySelector('[quill-editor-element]');\n            const toolbarElem = this.elementRef.nativeElement.querySelector('[quill-editor-toolbar]');\n            const modules = Object.assign({}, this.modules || this.service.config.modules);\n            if (toolbarElem) {\n                modules.toolbar = toolbarElem;\n            }\n            else if (modules.toolbar === undefined) {\n                modules.toolbar = defaultModules.toolbar;\n            }\n            let placeholder = this.placeholder !== undefined ? this.placeholder : this.service.config.placeholder;\n            if (placeholder === undefined) {\n                placeholder = 'Insert text here ...';\n            }\n            if (this.styles) {\n                Object.keys(this.styles).forEach((key) => {\n                    this.renderer.setStyle(this.editorElem, key, this.styles[key]);\n                });\n            }\n            if (this.classes) {\n                this.addClasses(this.classes);\n            }\n            this.customOptions.forEach((customOption) => {\n                const newCustomOption = Quill.import(customOption.import);\n                newCustomOption.whitelist = customOption.whitelist;\n                Quill.register(newCustomOption, true);\n            });\n            this.customModules.forEach(({ implementation, path }) => {\n                Quill.register(path, implementation);\n            });\n            let bounds = this.bounds && this.bounds === 'self' ? this.editorElem : this.bounds;\n            if (!bounds) {\n                bounds = this.service.config.bounds ? this.service.config.bounds : this.document.body;\n            }\n            let debug = this.debug;\n            if (!debug && debug !== false && this.service.config.debug) {\n                debug = this.service.config.debug;\n            }\n            let readOnly = this.readOnly;\n            if (!readOnly && this.readOnly !== false) {\n                readOnly = this.service.config.readOnly !== undefined ? this.service.config.readOnly : false;\n            }\n            let defaultEmptyValue = this.defaultEmptyValue;\n            if (this.service.config.hasOwnProperty('defaultEmptyValue')) {\n                defaultEmptyValue = this.service.config.defaultEmptyValue;\n            }\n            let scrollingContainer = this.scrollingContainer;\n            if (!scrollingContainer && this.scrollingContainer !== null) {\n                scrollingContainer =\n                    this.service.config.scrollingContainer === null\n                        || this.service.config.scrollingContainer ? this.service.config.scrollingContainer : null;\n            }\n            let formats = this.formats;\n            if (!formats && formats === undefined) {\n                formats = this.service.config.formats ? [...this.service.config.formats] : (this.service.config.formats === null ? null : undefined);\n            }\n            this.zone.runOutsideAngular(() => {\n                var _a, _b, _c;\n                this.quillEditor = new Quill(this.editorElem, {\n                    bounds,\n                    debug: debug,\n                    formats: formats,\n                    modules,\n                    placeholder,\n                    readOnly,\n                    defaultEmptyValue,\n                    scrollingContainer: scrollingContainer,\n                    strict: this.strict,\n                    theme: this.theme || (this.service.config.theme ? this.service.config.theme : 'snow')\n                });\n                // Set optional link placeholder, Quill has no native API for it so using workaround\n                if (this.linkPlaceholder) {\n                    const tooltip = (_b = (_a = this.quillEditor) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.tooltip;\n                    const input = (_c = tooltip === null || tooltip === void 0 ? void 0 : tooltip.root) === null || _c === void 0 ? void 0 : _c.querySelector('input[data-link]');\n                    if (input === null || input === void 0 ? void 0 : input.dataset) {\n                        input.dataset.link = this.linkPlaceholder;\n                    }\n                }\n            });\n            if (this.content) {\n                const format = getFormat(this.format, this.service.config.format);\n                if (format === 'text') {\n                    this.quillEditor.setText(this.content, 'silent');\n                }\n                else {\n                    const newValue = this.valueSetter(this.quillEditor, this.content);\n                    this.quillEditor.setContents(newValue, 'silent');\n                }\n                this.quillEditor.getModule('history').clear();\n            }\n            // initialize disabled status based on this.disabled as default value\n            this.setDisabledState();\n            this.addQuillEventListeners();\n            // The `requestAnimationFrame` triggers change detection. There's no sense to invoke the `requestAnimationFrame` if anyone is\n            // listening to the `onEditorCreated` event inside the template, for instance `<quill-view (onEditorCreated)=\"...\">`.\n            if (!this.onEditorCreated.observers.length && !this.onValidatorChanged) {\n                return;\n            }\n            // The `requestAnimationFrame` will trigger change detection and `onEditorCreated` will also call `markDirty()`\n            // internally, since Angular wraps template event listeners into `listener` instruction. We're using the `requestAnimationFrame`\n            // to prevent the frame drop and avoid `ExpressionChangedAfterItHasBeenCheckedError` error.\n            requestAnimationFrame(() => {\n                if (this.onValidatorChanged) {\n                    this.onValidatorChanged();\n                }\n                this.onEditorCreated.emit(this.quillEditor);\n            });\n        });\n    }\n    ngOnDestroy() {\n        this.dispose();\n    }\n    ngOnChanges(changes) {\n        if (!this.quillEditor) {\n            return;\n        }\n        /* eslint-disable @typescript-eslint/dot-notation */\n        if (changes.readOnly) {\n            this.quillEditor.enable(!changes.readOnly.currentValue);\n        }\n        if (changes.placeholder) {\n            this.quillEditor.root.dataset.placeholder =\n                changes.placeholder.currentValue;\n        }\n        if (changes.defaultEmptyValue) {\n            this.quillEditor.root.dataset.defaultEmptyValue =\n                changes.defaultEmptyValue.currentValue;\n        }\n        if (changes.styles) {\n            const currentStyling = changes.styles.currentValue;\n            const previousStyling = changes.styles.previousValue;\n            if (previousStyling) {\n                Object.keys(previousStyling).forEach((key) => {\n                    this.renderer.removeStyle(this.editorElem, key);\n                });\n            }\n            if (currentStyling) {\n                Object.keys(currentStyling).forEach((key) => {\n                    this.renderer.setStyle(this.editorElem, key, this.styles[key]);\n                });\n            }\n        }\n        if (changes.classes) {\n            const currentClasses = changes.classes.currentValue;\n            const previousClasses = changes.classes.previousValue;\n            if (previousClasses) {\n                this.removeClasses(previousClasses);\n            }\n            if (currentClasses) {\n                this.addClasses(currentClasses);\n            }\n        }\n        // We'd want to re-apply event listeners if the `debounceTime` binding changes to apply the\n        // `debounceTime` operator or vice-versa remove it.\n        if (changes.debounceTime) {\n            this.addQuillEventListeners();\n        }\n        /* eslint-enable @typescript-eslint/dot-notation */\n    }\n    addClasses(classList) {\n        QuillEditorBase.normalizeClassNames(classList).forEach((c) => {\n            this.renderer.addClass(this.editorElem, c);\n        });\n    }\n    removeClasses(classList) {\n        QuillEditorBase.normalizeClassNames(classList).forEach((c) => {\n            this.renderer.removeClass(this.editorElem, c);\n        });\n    }\n    writeValue(currentValue) {\n        // optional fix for https://github.com/angular/angular/issues/14988\n        if (this.filterNull && currentValue === null) {\n            return;\n        }\n        this.content = currentValue;\n        if (!this.quillEditor) {\n            return;\n        }\n        const format = getFormat(this.format, this.service.config.format);\n        const newValue = this.valueSetter(this.quillEditor, currentValue);\n        if (this.compareValues) {\n            const currentEditorValue = this.quillEditor.getContents();\n            if (JSON.stringify(currentEditorValue) === JSON.stringify(newValue)) {\n                return;\n            }\n        }\n        if (currentValue) {\n            if (format === 'text') {\n                this.quillEditor.setText(currentValue);\n            }\n            else {\n                this.quillEditor.setContents(newValue);\n            }\n            return;\n        }\n        this.quillEditor.setText('');\n    }\n    setDisabledState(isDisabled = this.disabled) {\n        // store initial value to set appropriate disabled status after ViewInit\n        this.disabled = isDisabled;\n        if (this.quillEditor) {\n            if (isDisabled) {\n                this.quillEditor.disable();\n                this.renderer.setAttribute(this.elementRef.nativeElement, 'disabled', 'disabled');\n            }\n            else {\n                if (!this.readOnly) {\n                    this.quillEditor.enable();\n                }\n                this.renderer.removeAttribute(this.elementRef.nativeElement, 'disabled');\n            }\n        }\n    }\n    registerOnChange(fn) {\n        this.onModelChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onModelTouched = fn;\n    }\n    registerOnValidatorChange(fn) {\n        this.onValidatorChanged = fn;\n    }\n    validate() {\n        if (!this.quillEditor) {\n            return null;\n        }\n        const err = {};\n        let valid = true;\n        const text = this.quillEditor.getText();\n        // trim text if wanted + handle special case that an empty editor contains a new line\n        const textLength = this.trimOnValidation ? text.trim().length : (text.length === 1 && text.trim().length === 0 ? 0 : text.length - 1);\n        if (this.minLength && textLength && textLength < this.minLength) {\n            err.minLengthError = {\n                given: textLength,\n                minLength: this.minLength\n            };\n            valid = false;\n        }\n        if (this.maxLength && textLength > this.maxLength) {\n            err.maxLengthError = {\n                given: textLength,\n                maxLength: this.maxLength\n            };\n            valid = false;\n        }\n        if (this.required && !textLength) {\n            err.requiredError = {\n                empty: true\n            };\n            valid = false;\n        }\n        return valid ? null : err;\n    }\n    addQuillEventListeners() {\n        this.dispose();\n        // We have to enter the `<root>` zone when adding event listeners, so `debounceTime` will spawn the\n        // `AsyncAction` there w/o triggering change detections. We still re-enter the Angular's zone through\n        // `zone.run` when we emit an event to the parent component.\n        this.zone.runOutsideAngular(() => {\n            this.subscription = new Subscription();\n            this.subscription.add(\n            // mark model as touched if editor lost focus\n            fromEvent(this.quillEditor, 'selection-change').subscribe(([range, oldRange, source]) => {\n                this.selectionChangeHandler(range, oldRange, source);\n            }));\n            // The `fromEvent` supports passing JQuery-style event targets, the editor has `on` and `off` methods which\n            // will be invoked upon subscription and teardown.\n            let textChange$ = fromEvent(this.quillEditor, 'text-change');\n            let editorChange$ = fromEvent(this.quillEditor, 'editor-change');\n            if (typeof this.debounceTime === 'number') {\n                textChange$ = textChange$.pipe(debounceTime(this.debounceTime));\n                editorChange$ = editorChange$.pipe(debounceTime(this.debounceTime));\n            }\n            this.subscription.add(\n            // update model if text changes\n            textChange$.subscribe(([delta, oldDelta, source]) => {\n                this.textChangeHandler(delta, oldDelta, source);\n            }));\n            this.subscription.add(\n            // triggered if selection or text changed\n            editorChange$.subscribe(([event, current, old, source]) => {\n                this.editorChangeHandler(event, current, old, source);\n            }));\n        });\n    }\n    dispose() {\n        if (this.subscription !== null) {\n            this.subscription.unsubscribe();\n            this.subscription = null;\n        }\n    }\n}\nQuillEditorBase.ɵfac = function QuillEditorBase_Factory(t) { return new (t || QuillEditorBase)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(QuillService)); };\nQuillEditorBase.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: QuillEditorBase, inputs: { required: \"required\", customToolbarPosition: \"customToolbarPosition\", sanitize: \"sanitize\", styles: \"styles\", strict: \"strict\", customOptions: \"customOptions\", customModules: \"customModules\", preserveWhitespace: \"preserveWhitespace\", trimOnValidation: \"trimOnValidation\", compareValues: \"compareValues\", filterNull: \"filterNull\", defaultEmptyValue: \"defaultEmptyValue\", valueGetter: \"valueGetter\", valueSetter: \"valueSetter\", format: \"format\", theme: \"theme\", modules: \"modules\", debug: \"debug\", readOnly: \"readOnly\", placeholder: \"placeholder\", maxLength: \"maxLength\", minLength: \"minLength\", formats: \"formats\", scrollingContainer: \"scrollingContainer\", bounds: \"bounds\", trackChanges: \"trackChanges\", classes: \"classes\", linkPlaceholder: \"linkPlaceholder\", debounceTime: \"debounceTime\" }, outputs: { onEditorCreated: \"onEditorCreated\", onEditorChanged: \"onEditorChanged\", onContentChanged: \"onContentChanged\", onSelectionChanged: \"onSelectionChanged\", onFocus: \"onFocus\", onBlur: \"onBlur\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\nQuillEditorBase.ctorParameters = () => [\n    { type: Injector },\n    { type: ElementRef },\n    { type: DomSanitizer },\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: Renderer2 },\n    { type: NgZone },\n    { type: QuillService }\n];\nQuillEditorBase.propDecorators = {\n    format: [{ type: Input }],\n    theme: [{ type: Input }],\n    modules: [{ type: Input }],\n    debug: [{ type: Input }],\n    readOnly: [{ type: Input }],\n    placeholder: [{ type: Input }],\n    maxLength: [{ type: Input }],\n    minLength: [{ type: Input }],\n    required: [{ type: Input }],\n    formats: [{ type: Input }],\n    customToolbarPosition: [{ type: Input }],\n    sanitize: [{ type: Input }],\n    styles: [{ type: Input }],\n    strict: [{ type: Input }],\n    scrollingContainer: [{ type: Input }],\n    bounds: [{ type: Input }],\n    customOptions: [{ type: Input }],\n    customModules: [{ type: Input }],\n    trackChanges: [{ type: Input }],\n    preserveWhitespace: [{ type: Input }],\n    classes: [{ type: Input }],\n    trimOnValidation: [{ type: Input }],\n    linkPlaceholder: [{ type: Input }],\n    compareValues: [{ type: Input }],\n    filterNull: [{ type: Input }],\n    debounceTime: [{ type: Input }],\n    defaultEmptyValue: [{ type: Input }],\n    onEditorCreated: [{ type: Output }],\n    onEditorChanged: [{ type: Output }],\n    onContentChanged: [{ type: Output }],\n    onSelectionChanged: [{ type: Output }],\n    onFocus: [{ type: Output }],\n    onBlur: [{ type: Output }],\n    valueGetter: [{ type: Input }],\n    valueSetter: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillEditorBase, [{\n        type: Directive\n    }], function () { return [{ type: ɵngcc0.Injector }, { type: ɵngcc0.ElementRef }, { type: ɵngcc1.DomSanitizer }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.NgZone }, { type: QuillService }]; }, { required: [{\n            type: Input\n        }], customToolbarPosition: [{\n            type: Input\n        }], sanitize: [{\n            type: Input\n        }], styles: [{\n            type: Input\n        }], strict: [{\n            type: Input\n        }], customOptions: [{\n            type: Input\n        }], customModules: [{\n            type: Input\n        }], preserveWhitespace: [{\n            type: Input\n        }], trimOnValidation: [{\n            type: Input\n        }], compareValues: [{\n            type: Input\n        }], filterNull: [{\n            type: Input\n        }], defaultEmptyValue: [{\n            type: Input\n        }], onEditorCreated: [{\n            type: Output\n        }], onEditorChanged: [{\n            type: Output\n        }], onContentChanged: [{\n            type: Output\n        }], onSelectionChanged: [{\n            type: Output\n        }], onFocus: [{\n            type: Output\n        }], onBlur: [{\n            type: Output\n        }], valueGetter: [{\n            type: Input\n        }], valueSetter: [{\n            type: Input\n        }], format: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }], modules: [{\n            type: Input\n        }], debug: [{\n            type: Input\n        }], readOnly: [{\n            type: Input\n        }], placeholder: [{\n            type: Input\n        }], maxLength: [{\n            type: Input\n        }], minLength: [{\n            type: Input\n        }], formats: [{\n            type: Input\n        }], scrollingContainer: [{\n            type: Input\n        }], bounds: [{\n            type: Input\n        }], trackChanges: [{\n            type: Input\n        }], classes: [{\n            type: Input\n        }], linkPlaceholder: [{\n            type: Input\n        }], debounceTime: [{\n            type: Input\n        }] }); })();\nclass QuillEditorComponent extends QuillEditorBase {\n    constructor(injector, elementRef, domSanitizer, platformId, renderer, zone, service) {\n        super(injector, elementRef, domSanitizer, platformId, renderer, zone, service);\n    }\n}\nQuillEditorComponent.ɵfac = function QuillEditorComponent_Factory(t) { return new (t || QuillEditorComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Injector), ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(DomSanitizer), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(Renderer2), ɵngcc0.ɵɵdirectiveInject(NgZone), ɵngcc0.ɵɵdirectiveInject(QuillService)); };\nQuillEditorComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: QuillEditorComponent, selectors: [[\"quill-editor\"]], features: [ɵngcc0.ɵɵProvidersFeature([\n            {\n                multi: true,\n                provide: NG_VALUE_ACCESSOR,\n                // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                useExisting: forwardRef(() => QuillEditorComponent)\n            },\n            {\n                multi: true,\n                provide: NG_VALIDATORS,\n                // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                useExisting: forwardRef(() => QuillEditorComponent)\n            }\n        ]), ɵngcc0.ɵɵInheritDefinitionFeature], ngContentSelectors: _c1, decls: 1, vars: 0, template: function QuillEditorComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef(_c0);\n        ɵngcc0.ɵɵprojection(0);\n    } }, encapsulation: 2 });\nQuillEditorComponent.ctorParameters = () => [\n    { type: Injector },\n    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] }] },\n    { type: DomSanitizer, decorators: [{ type: Inject, args: [DomSanitizer,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: Renderer2, decorators: [{ type: Inject, args: [Renderer2,] }] },\n    { type: NgZone, decorators: [{ type: Inject, args: [NgZone,] }] },\n    { type: QuillService, decorators: [{ type: Inject, args: [QuillService,] }] }\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillEditorComponent, [{\n        type: Component,\n        args: [{\n                encapsulation: ViewEncapsulation.None,\n                providers: [\n                    {\n                        multi: true,\n                        provide: NG_VALUE_ACCESSOR,\n                        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                        useExisting: forwardRef(() => QuillEditorComponent)\n                    },\n                    {\n                        multi: true,\n                        provide: NG_VALIDATORS,\n                        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                        useExisting: forwardRef(() => QuillEditorComponent)\n                    }\n                ],\n                selector: 'quill-editor',\n                template: `\n  <ng-content select=\"[quill-editor-toolbar]\"></ng-content>\n`\n            }]\n    }], function () { return [{ type: ɵngcc0.Injector }, { type: ɵngcc0.ElementRef, decorators: [{\n                type: Inject,\n                args: [ElementRef]\n            }] }, { type: ɵngcc1.DomSanitizer, decorators: [{\n                type: Inject,\n                args: [DomSanitizer]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: ɵngcc0.Renderer2, decorators: [{\n                type: Inject,\n                args: [Renderer2]\n            }] }, { type: ɵngcc0.NgZone, decorators: [{\n                type: Inject,\n                args: [NgZone]\n            }] }, { type: QuillService, decorators: [{\n                type: Inject,\n                args: [QuillService]\n            }] }]; }, null); })();\n\nclass QuillViewHTMLComponent {\n    constructor(sanitizer, service) {\n        this.sanitizer = sanitizer;\n        this.service = service;\n        this.content = '';\n        this.sanitize = false;\n        this.innerHTML = '';\n        this.themeClass = 'ql-snow';\n    }\n    ngOnChanges(changes) {\n        if (changes.theme) {\n            const theme = changes.theme.currentValue || (this.service.config.theme ? this.service.config.theme : 'snow');\n            this.themeClass = `ql-${theme} ngx-quill-view-html`;\n        }\n        else if (!this.theme) {\n            const theme = this.service.config.theme ? this.service.config.theme : 'snow';\n            this.themeClass = `ql-${theme} ngx-quill-view-html`;\n        }\n        if (changes.content) {\n            const content = changes.content.currentValue;\n            this.innerHTML = this.sanitize ? content : this.sanitizer.bypassSecurityTrustHtml(content);\n        }\n    }\n}\nQuillViewHTMLComponent.ɵfac = function QuillViewHTMLComponent_Factory(t) { return new (t || QuillViewHTMLComponent)(ɵngcc0.ɵɵdirectiveInject(DomSanitizer), ɵngcc0.ɵɵdirectiveInject(QuillService)); };\nQuillViewHTMLComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: QuillViewHTMLComponent, selectors: [[\"quill-view-html\"]], inputs: { content: \"content\", sanitize: \"sanitize\", theme: \"theme\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 2, vars: 2, consts: [[1, \"ql-container\", 3, \"ngClass\"], [1, \"ql-editor\", 3, \"innerHTML\"]], template: function QuillViewHTMLComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelement(1, \"div\", 1);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngClass\", ctx.themeClass);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"innerHTML\", ctx.innerHTML, ɵngcc0.ɵɵsanitizeHtml);\n    } }, directives: [ɵngcc2.NgClass], styles: [\"\\n.ql-container.ngx-quill-view-html {\\n  border: 0;\\n}\\n\"], encapsulation: 2 });\nQuillViewHTMLComponent.ctorParameters = () => [\n    { type: DomSanitizer, decorators: [{ type: Inject, args: [DomSanitizer,] }] },\n    { type: QuillService }\n];\nQuillViewHTMLComponent.propDecorators = {\n    content: [{ type: Input }],\n    theme: [{ type: Input }],\n    sanitize: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillViewHTMLComponent, [{\n        type: Component,\n        args: [{\n                encapsulation: ViewEncapsulation.None,\n                selector: 'quill-view-html',\n                template: `\n  <div class=\"ql-container\" [ngClass]=\"themeClass\">\n    <div class=\"ql-editor\" [innerHTML]=\"innerHTML\">\n    </div>\n  </div>\n`,\n                styles: [`\n.ql-container.ngx-quill-view-html {\n  border: 0;\n}\n`]\n            }]\n    }], function () { return [{ type: ɵngcc1.DomSanitizer, decorators: [{\n                type: Inject,\n                args: [DomSanitizer]\n            }] }, { type: QuillService }]; }, { content: [{\n            type: Input\n        }], sanitize: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }] }); })();\n\nclass QuillViewComponent {\n    constructor(elementRef, renderer, zone, service, domSanitizer, platformId) {\n        this.elementRef = elementRef;\n        this.renderer = renderer;\n        this.zone = zone;\n        this.service = service;\n        this.domSanitizer = domSanitizer;\n        this.platformId = platformId;\n        this.sanitize = false;\n        this.strict = true;\n        this.customModules = [];\n        this.customOptions = [];\n        this.preserveWhitespace = false;\n        this.onEditorCreated = new EventEmitter();\n        this.valueSetter = (quillEditor, value) => {\n            const format = getFormat(this.format, this.service.config.format);\n            let content = value;\n            if (format === 'text') {\n                quillEditor.setText(content);\n            }\n            else {\n                if (format === 'html') {\n                    if (this.sanitize) {\n                        value = this.domSanitizer.sanitize(SecurityContext.HTML, value);\n                    }\n                    content = quillEditor.clipboard.convert(value);\n                }\n                else if (format === 'json') {\n                    try {\n                        content = JSON.parse(value);\n                    }\n                    catch (e) {\n                        content = [{ insert: value }];\n                    }\n                }\n                quillEditor.setContents(content);\n            }\n        };\n    }\n    ngOnChanges(changes) {\n        if (!this.quillEditor) {\n            return;\n        }\n        if (changes.content) {\n            this.valueSetter(this.quillEditor, changes.content.currentValue);\n        }\n    }\n    ngAfterViewInit() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (isPlatformServer(this.platformId)) {\n                return;\n            }\n            // eslint-disable-next-line @typescript-eslint/naming-convention\n            const Quill = yield this.service.getQuill();\n            const modules = Object.assign({}, this.modules || this.service.config.modules);\n            modules.toolbar = false;\n            this.customOptions.forEach((customOption) => {\n                const newCustomOption = Quill.import(customOption.import);\n                newCustomOption.whitelist = customOption.whitelist;\n                Quill.register(newCustomOption, true);\n            });\n            this.customModules.forEach(({ implementation, path }) => {\n                Quill.register(path, implementation);\n            });\n            let debug = this.debug;\n            if (!debug && debug !== false && this.service.config.debug) {\n                debug = this.service.config.debug;\n            }\n            let formats = this.formats;\n            if (!formats && formats === undefined) {\n                formats = this.service.config.formats ?\n                    Object.assign({}, this.service.config.formats) : (this.service.config.formats === null ? null : undefined);\n            }\n            const theme = this.theme || (this.service.config.theme ? this.service.config.theme : 'snow');\n            this.elementRef.nativeElement.insertAdjacentHTML('afterbegin', this.preserveWhitespace ? '<pre quill-view-element></pre>' : '<div quill-view-element></div>');\n            this.editorElem = this.elementRef.nativeElement.querySelector('[quill-view-element]');\n            this.zone.runOutsideAngular(() => {\n                this.quillEditor = new Quill(this.editorElem, {\n                    debug: debug,\n                    formats: formats,\n                    modules,\n                    readOnly: true,\n                    strict: this.strict,\n                    theme\n                });\n            });\n            this.renderer.addClass(this.editorElem, 'ngx-quill-view');\n            if (this.content) {\n                this.valueSetter(this.quillEditor, this.content);\n            }\n            // The `requestAnimationFrame` triggers change detection. There's no sense to invoke the `requestAnimationFrame` if anyone is\n            // listening to the `onEditorCreated` event inside the template, for instance `<quill-view (onEditorCreated)=\"...\">`.\n            if (!this.onEditorCreated.observers.length) {\n                return;\n            }\n            // The `requestAnimationFrame` will trigger change detection and `onEditorCreated` will also call `markDirty()`\n            // internally, since Angular wraps template event listeners into `listener` instruction. We're using the `requestAnimationFrame`\n            // to prevent the frame drop and avoid `ExpressionChangedAfterItHasBeenCheckedError` error.\n            requestAnimationFrame(() => {\n                this.onEditorCreated.emit(this.quillEditor);\n            });\n        });\n    }\n}\nQuillViewComponent.ɵfac = function QuillViewComponent_Factory(t) { return new (t || QuillViewComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(QuillService), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.DomSanitizer), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID)); };\nQuillViewComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: QuillViewComponent, selectors: [[\"quill-view\"]], inputs: { sanitize: \"sanitize\", strict: \"strict\", customModules: \"customModules\", customOptions: \"customOptions\", preserveWhitespace: \"preserveWhitespace\", format: \"format\", theme: \"theme\", modules: \"modules\", debug: \"debug\", formats: \"formats\", content: \"content\" }, outputs: { onEditorCreated: \"onEditorCreated\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function QuillViewComponent_Template(rf, ctx) { }, styles: [\"\\n.ql-container.ngx-quill-view {\\n  border: 0;\\n}\\n\"], encapsulation: 2 });\nQuillViewComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: Renderer2 },\n    { type: NgZone },\n    { type: QuillService },\n    { type: DomSanitizer },\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }\n];\nQuillViewComponent.propDecorators = {\n    format: [{ type: Input }],\n    theme: [{ type: Input }],\n    modules: [{ type: Input }],\n    debug: [{ type: Input }],\n    formats: [{ type: Input }],\n    sanitize: [{ type: Input }],\n    strict: [{ type: Input }],\n    content: [{ type: Input }],\n    customModules: [{ type: Input }],\n    customOptions: [{ type: Input }],\n    preserveWhitespace: [{ type: Input }],\n    onEditorCreated: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillViewComponent, [{\n        type: Component,\n        args: [{\n                encapsulation: ViewEncapsulation.None,\n                selector: 'quill-view',\n                template: `\n`,\n                styles: [`\n.ql-container.ngx-quill-view {\n  border: 0;\n}\n`]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.Renderer2 }, { type: ɵngcc0.NgZone }, { type: QuillService }, { type: ɵngcc1.DomSanitizer }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }]; }, { sanitize: [{\n            type: Input\n        }], strict: [{\n            type: Input\n        }], customModules: [{\n            type: Input\n        }], customOptions: [{\n            type: Input\n        }], preserveWhitespace: [{\n            type: Input\n        }], onEditorCreated: [{\n            type: Output\n        }], format: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }], modules: [{\n            type: Input\n        }], debug: [{\n            type: Input\n        }], formats: [{\n            type: Input\n        }], content: [{\n            type: Input\n        }] }); })();\n\nclass QuillModule {\n    static forRoot(config) {\n        return {\n            ngModule: QuillModule,\n            providers: [\n                {\n                    provide: QUILL_CONFIG_TOKEN,\n                    useValue: config\n                }\n            ]\n        };\n    }\n}\nQuillModule.ɵfac = function QuillModule_Factory(t) { return new (t || QuillModule)(); };\nQuillModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: QuillModule });\nQuillModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [QuillService], imports: [[CommonModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(QuillModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    QuillEditorComponent,\n                    QuillViewComponent,\n                    QuillViewHTMLComponent\n                ],\n                exports: [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent],\n                imports: [CommonModule],\n                providers: [QuillService]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(QuillModule, { declarations: function () { return [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent]; } }); })();\n\n/*\n * Public API Surface of ngx-quill\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { QUILL_CONFIG_TOKEN, QuillEditorBase, QuillEditorComponent, QuillModule, QuillService, QuillViewComponent, QuillViewHTMLComponent, defaultModules };\n\n//# sourceMappingURL=ngx-quill.js.map"]},"metadata":{},"sourceType":"module"}