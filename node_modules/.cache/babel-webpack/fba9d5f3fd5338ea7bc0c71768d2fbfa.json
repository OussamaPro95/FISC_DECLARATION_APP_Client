{"ast":null,"code":"// previous version:\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\nvar Positioning = function () {\n  function Positioning() {}\n\n  Positioning.prototype.getAllStyles = function (element) {\n    return window.getComputedStyle(element);\n  };\n\n  Positioning.prototype.getStyle = function (element, prop) {\n    return this.getAllStyles(element)[prop];\n  };\n\n  Positioning.prototype.isStaticPositioned = function (element) {\n    return (this.getStyle(element, 'position') || 'static') === 'static';\n  };\n\n  Positioning.prototype.offsetParent = function (element) {\n    var offsetParentEl = element.offsetParent || document.documentElement;\n\n    while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {\n      offsetParentEl = offsetParentEl.offsetParent;\n    }\n\n    return offsetParentEl || document.documentElement;\n  };\n\n  Positioning.prototype.position = function (element, round) {\n    if (round === void 0) {\n      round = true;\n    }\n\n    var elPosition;\n    var parentOffset = {\n      width: 0,\n      height: 0,\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n\n    if (this.getStyle(element, 'position') === 'fixed') {\n      elPosition = element.getBoundingClientRect();\n      elPosition = {\n        top: elPosition.top,\n        bottom: elPosition.bottom,\n        left: elPosition.left,\n        right: elPosition.right,\n        height: elPosition.height,\n        width: elPosition.width\n      };\n    } else {\n      var offsetParentEl = this.offsetParent(element);\n      elPosition = this.offset(element, false);\n\n      if (offsetParentEl !== document.documentElement) {\n        parentOffset = this.offset(offsetParentEl, false);\n      }\n\n      parentOffset.top += offsetParentEl.clientTop;\n      parentOffset.left += offsetParentEl.clientLeft;\n    }\n\n    elPosition.top -= parentOffset.top;\n    elPosition.bottom -= parentOffset.top;\n    elPosition.left -= parentOffset.left;\n    elPosition.right -= parentOffset.left;\n\n    if (round) {\n      elPosition.top = Math.round(elPosition.top);\n      elPosition.bottom = Math.round(elPosition.bottom);\n      elPosition.left = Math.round(elPosition.left);\n      elPosition.right = Math.round(elPosition.right);\n    }\n\n    return elPosition;\n  };\n\n  Positioning.prototype.offset = function (element, round) {\n    if (round === void 0) {\n      round = true;\n    }\n\n    var elBcr = element.getBoundingClientRect();\n    var viewportOffset = {\n      top: window.pageYOffset - document.documentElement.clientTop,\n      left: window.pageXOffset - document.documentElement.clientLeft\n    };\n    var elOffset = {\n      height: elBcr.height || element.offsetHeight,\n      width: elBcr.width || element.offsetWidth,\n      top: elBcr.top + viewportOffset.top,\n      bottom: elBcr.bottom + viewportOffset.top,\n      left: elBcr.left + viewportOffset.left,\n      right: elBcr.right + viewportOffset.left\n    };\n\n    if (round) {\n      elOffset.height = Math.round(elOffset.height);\n      elOffset.width = Math.round(elOffset.width);\n      elOffset.top = Math.round(elOffset.top);\n      elOffset.bottom = Math.round(elOffset.bottom);\n      elOffset.left = Math.round(elOffset.left);\n      elOffset.right = Math.round(elOffset.right);\n    }\n\n    return elOffset;\n  };\n  /*\n    Return false if the element to position is outside the viewport\n  */\n\n\n  Positioning.prototype.positionElements = function (hostElement, targetElement, placement, appendToBody) {\n    var _a = placement.split('-'),\n        _b = _a[0],\n        placementPrimary = _b === void 0 ? 'top' : _b,\n        _c = _a[1],\n        placementSecondary = _c === void 0 ? 'center' : _c;\n\n    var hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\n    var targetElStyles = this.getAllStyles(targetElement);\n    var marginTop = parseFloat(targetElStyles.marginTop);\n    var marginBottom = parseFloat(targetElStyles.marginBottom);\n    var marginLeft = parseFloat(targetElStyles.marginLeft);\n    var marginRight = parseFloat(targetElStyles.marginRight);\n    var topPosition = 0;\n    var leftPosition = 0;\n\n    switch (placementPrimary) {\n      case 'top':\n        topPosition = hostElPosition.top - (targetElement.offsetHeight + marginTop + marginBottom);\n        break;\n\n      case 'bottom':\n        topPosition = hostElPosition.top + hostElPosition.height;\n        break;\n\n      case 'left':\n        leftPosition = hostElPosition.left - (targetElement.offsetWidth + marginLeft + marginRight);\n        break;\n\n      case 'right':\n        leftPosition = hostElPosition.left + hostElPosition.width;\n        break;\n    }\n\n    switch (placementSecondary) {\n      case 'top':\n        topPosition = hostElPosition.top;\n        break;\n\n      case 'bottom':\n        topPosition = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\n        break;\n\n      case 'left':\n        leftPosition = hostElPosition.left;\n        break;\n\n      case 'right':\n        leftPosition = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\n        break;\n\n      case 'center':\n        if (placementPrimary === 'top' || placementPrimary === 'bottom') {\n          leftPosition = hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2;\n        } else {\n          topPosition = hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2;\n        }\n\n        break;\n    } /// The translate3d/gpu acceleration render a blurry text on chrome, the next line is commented until a browser fix\n    // targetElement.style.transform = `translate3d(${Math.round(leftPosition)}px, ${Math.floor(topPosition)}px, 0px)`;\n\n\n    targetElement.style.transform = \"translate(\" + Math.round(leftPosition) + \"px, \" + Math.round(topPosition) + \"px)\"; // Check if the targetElement is inside the viewport\n\n    var targetElBCR = targetElement.getBoundingClientRect();\n    var html = document.documentElement;\n    var windowHeight = window.innerHeight || html.clientHeight;\n    var windowWidth = window.innerWidth || html.clientWidth;\n    return targetElBCR.left >= 0 && targetElBCR.top >= 0 && targetElBCR.right <= windowWidth && targetElBCR.bottom <= windowHeight;\n  };\n\n  return Positioning;\n}();\n\nexport { Positioning };\nvar placementSeparator = /\\s+/;\nvar positionService = new Positioning();\n/*\n * Accept the placement array and applies the appropriate placement dependent on the viewport.\n * Returns the applied placement.\n * In case of auto placement, placements are selected in order\n *   'top', 'bottom', 'left', 'right',\n *   'top-left', 'top-right',\n *   'bottom-left', 'bottom-right',\n *   'left-top', 'left-bottom',\n *   'right-top', 'right-bottom'.\n * */\n\nexport function positionElements(hostElement, targetElement, placement, appendToBody, baseClass) {\n  var placementVals = Array.isArray(placement) ? placement : placement.split(placementSeparator);\n  var allowedPlacements = ['top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top', 'left-bottom', 'right-top', 'right-bottom'];\n  var classList = targetElement.classList;\n\n  var addClassesToTarget = function addClassesToTarget(targetPlacement) {\n    var _a = targetPlacement.split('-'),\n        primary = _a[0],\n        secondary = _a[1];\n\n    var classes = [];\n\n    if (baseClass) {\n      classes.push(baseClass + \"-\" + primary);\n\n      if (secondary) {\n        classes.push(baseClass + \"-\" + primary + \"-\" + secondary);\n      }\n\n      classes.forEach(function (classname) {\n        classList.add(classname);\n      });\n    }\n\n    return classes;\n  }; // Remove old placement classes to avoid issues\n\n\n  if (baseClass) {\n    allowedPlacements.forEach(function (placementToRemove) {\n      classList.remove(baseClass + \"-\" + placementToRemove);\n    });\n  } // replace auto placement with other placements\n\n\n  var hasAuto = placementVals.findIndex(function (val) {\n    return val === 'auto';\n  });\n\n  if (hasAuto >= 0) {\n    allowedPlacements.forEach(function (obj) {\n      if (placementVals.find(function (val) {\n        return val.search('^' + obj) !== -1;\n      }) == null) {\n        placementVals.splice(hasAuto++, 1, obj);\n      }\n    });\n  } // coordinates where to position\n  // Required for transform:\n\n\n  var style = targetElement.style;\n  style.position = 'absolute';\n  style.top = '0';\n  style.left = '0';\n  style['will-change'] = 'transform';\n  var testPlacement;\n  var isInViewport = false;\n\n  for (var _i = 0, placementVals_1 = placementVals; _i < placementVals_1.length; _i++) {\n    testPlacement = placementVals_1[_i];\n    var addedClasses = addClassesToTarget(testPlacement);\n\n    if (positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody)) {\n      isInViewport = true;\n      break;\n    } // Remove the baseClasses for further calculation\n\n\n    if (baseClass) {\n      addedClasses.forEach(function (classname) {\n        classList.remove(classname);\n      });\n    }\n  }\n\n  if (!isInViewport) {\n    // If nothing match, the first placement is the default one\n    testPlacement = placementVals[0];\n    addClassesToTarget(testPlacement);\n    positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody);\n  }\n\n  return testPlacement;\n} //# sourceMappingURL=positioning.js.map","map":{"version":3,"sources":["E:/_Projet/Cnss/FISC_DECLARATION_APP_Client/node_modules/positioning/dist/positioning.js"],"names":["Positioning","prototype","getAllStyles","element","window","getComputedStyle","getStyle","prop","isStaticPositioned","offsetParent","offsetParentEl","document","documentElement","position","round","elPosition","parentOffset","width","height","top","bottom","left","right","getBoundingClientRect","offset","clientTop","clientLeft","Math","elBcr","viewportOffset","pageYOffset","pageXOffset","elOffset","offsetHeight","offsetWidth","positionElements","hostElement","targetElement","placement","appendToBody","_a","split","_b","placementPrimary","_c","placementSecondary","hostElPosition","targetElStyles","marginTop","parseFloat","marginBottom","marginLeft","marginRight","topPosition","leftPosition","style","transform","targetElBCR","html","windowHeight","innerHeight","clientHeight","windowWidth","innerWidth","clientWidth","placementSeparator","positionService","baseClass","placementVals","Array","isArray","allowedPlacements","classList","addClassesToTarget","targetPlacement","primary","secondary","classes","push","forEach","classname","add","placementToRemove","remove","hasAuto","findIndex","val","obj","find","search","splice","testPlacement","isInViewport","_i","placementVals_1","length","addedClasses"],"mappings":"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","sourcesContent":["// previous version:\n// https://github.com/angular-ui/bootstrap/blob/07c31d0731f7cb068a1932b8e01d2312b796b4ec/src/position/position.js\nvar Positioning = /** @class */ (function () {\n    function Positioning() {\n    }\n    Positioning.prototype.getAllStyles = function (element) { return window.getComputedStyle(element); };\n    Positioning.prototype.getStyle = function (element, prop) { return this.getAllStyles(element)[prop]; };\n    Positioning.prototype.isStaticPositioned = function (element) {\n        return (this.getStyle(element, 'position') || 'static') === 'static';\n    };\n    Positioning.prototype.offsetParent = function (element) {\n        var offsetParentEl = element.offsetParent || document.documentElement;\n        while (offsetParentEl && offsetParentEl !== document.documentElement && this.isStaticPositioned(offsetParentEl)) {\n            offsetParentEl = offsetParentEl.offsetParent;\n        }\n        return offsetParentEl || document.documentElement;\n    };\n    Positioning.prototype.position = function (element, round) {\n        if (round === void 0) { round = true; }\n        var elPosition;\n        var parentOffset = { width: 0, height: 0, top: 0, bottom: 0, left: 0, right: 0 };\n        if (this.getStyle(element, 'position') === 'fixed') {\n            elPosition = element.getBoundingClientRect();\n            elPosition = {\n                top: elPosition.top,\n                bottom: elPosition.bottom,\n                left: elPosition.left,\n                right: elPosition.right,\n                height: elPosition.height,\n                width: elPosition.width\n            };\n        }\n        else {\n            var offsetParentEl = this.offsetParent(element);\n            elPosition = this.offset(element, false);\n            if (offsetParentEl !== document.documentElement) {\n                parentOffset = this.offset(offsetParentEl, false);\n            }\n            parentOffset.top += offsetParentEl.clientTop;\n            parentOffset.left += offsetParentEl.clientLeft;\n        }\n        elPosition.top -= parentOffset.top;\n        elPosition.bottom -= parentOffset.top;\n        elPosition.left -= parentOffset.left;\n        elPosition.right -= parentOffset.left;\n        if (round) {\n            elPosition.top = Math.round(elPosition.top);\n            elPosition.bottom = Math.round(elPosition.bottom);\n            elPosition.left = Math.round(elPosition.left);\n            elPosition.right = Math.round(elPosition.right);\n        }\n        return elPosition;\n    };\n    Positioning.prototype.offset = function (element, round) {\n        if (round === void 0) { round = true; }\n        var elBcr = element.getBoundingClientRect();\n        var viewportOffset = {\n            top: window.pageYOffset - document.documentElement.clientTop,\n            left: window.pageXOffset - document.documentElement.clientLeft\n        };\n        var elOffset = {\n            height: elBcr.height || element.offsetHeight,\n            width: elBcr.width || element.offsetWidth,\n            top: elBcr.top + viewportOffset.top,\n            bottom: elBcr.bottom + viewportOffset.top,\n            left: elBcr.left + viewportOffset.left,\n            right: elBcr.right + viewportOffset.left\n        };\n        if (round) {\n            elOffset.height = Math.round(elOffset.height);\n            elOffset.width = Math.round(elOffset.width);\n            elOffset.top = Math.round(elOffset.top);\n            elOffset.bottom = Math.round(elOffset.bottom);\n            elOffset.left = Math.round(elOffset.left);\n            elOffset.right = Math.round(elOffset.right);\n        }\n        return elOffset;\n    };\n    /*\n      Return false if the element to position is outside the viewport\n    */\n    Positioning.prototype.positionElements = function (hostElement, targetElement, placement, appendToBody) {\n        var _a = placement.split('-'), _b = _a[0], placementPrimary = _b === void 0 ? 'top' : _b, _c = _a[1], placementSecondary = _c === void 0 ? 'center' : _c;\n        var hostElPosition = appendToBody ? this.offset(hostElement, false) : this.position(hostElement, false);\n        var targetElStyles = this.getAllStyles(targetElement);\n        var marginTop = parseFloat(targetElStyles.marginTop);\n        var marginBottom = parseFloat(targetElStyles.marginBottom);\n        var marginLeft = parseFloat(targetElStyles.marginLeft);\n        var marginRight = parseFloat(targetElStyles.marginRight);\n        var topPosition = 0;\n        var leftPosition = 0;\n        switch (placementPrimary) {\n            case 'top':\n                topPosition = (hostElPosition.top - (targetElement.offsetHeight + marginTop + marginBottom));\n                break;\n            case 'bottom':\n                topPosition = (hostElPosition.top + hostElPosition.height);\n                break;\n            case 'left':\n                leftPosition = (hostElPosition.left - (targetElement.offsetWidth + marginLeft + marginRight));\n                break;\n            case 'right':\n                leftPosition = (hostElPosition.left + hostElPosition.width);\n                break;\n        }\n        switch (placementSecondary) {\n            case 'top':\n                topPosition = hostElPosition.top;\n                break;\n            case 'bottom':\n                topPosition = hostElPosition.top + hostElPosition.height - targetElement.offsetHeight;\n                break;\n            case 'left':\n                leftPosition = hostElPosition.left;\n                break;\n            case 'right':\n                leftPosition = hostElPosition.left + hostElPosition.width - targetElement.offsetWidth;\n                break;\n            case 'center':\n                if (placementPrimary === 'top' || placementPrimary === 'bottom') {\n                    leftPosition = (hostElPosition.left + hostElPosition.width / 2 - targetElement.offsetWidth / 2);\n                }\n                else {\n                    topPosition = (hostElPosition.top + hostElPosition.height / 2 - targetElement.offsetHeight / 2);\n                }\n                break;\n        }\n        /// The translate3d/gpu acceleration render a blurry text on chrome, the next line is commented until a browser fix\n        // targetElement.style.transform = `translate3d(${Math.round(leftPosition)}px, ${Math.floor(topPosition)}px, 0px)`;\n        targetElement.style.transform = \"translate(\" + Math.round(leftPosition) + \"px, \" + Math.round(topPosition) + \"px)\";\n        // Check if the targetElement is inside the viewport\n        var targetElBCR = targetElement.getBoundingClientRect();\n        var html = document.documentElement;\n        var windowHeight = window.innerHeight || html.clientHeight;\n        var windowWidth = window.innerWidth || html.clientWidth;\n        return targetElBCR.left >= 0 && targetElBCR.top >= 0 && targetElBCR.right <= windowWidth &&\n            targetElBCR.bottom <= windowHeight;\n    };\n    return Positioning;\n}());\nexport { Positioning };\nvar placementSeparator = /\\s+/;\nvar positionService = new Positioning();\n/*\n * Accept the placement array and applies the appropriate placement dependent on the viewport.\n * Returns the applied placement.\n * In case of auto placement, placements are selected in order\n *   'top', 'bottom', 'left', 'right',\n *   'top-left', 'top-right',\n *   'bottom-left', 'bottom-right',\n *   'left-top', 'left-bottom',\n *   'right-top', 'right-bottom'.\n * */\nexport function positionElements(hostElement, targetElement, placement, appendToBody, baseClass) {\n    var placementVals = Array.isArray(placement) ? placement : placement.split(placementSeparator);\n    var allowedPlacements = [\n        'top', 'bottom', 'left', 'right', 'top-left', 'top-right', 'bottom-left', 'bottom-right', 'left-top', 'left-bottom',\n        'right-top', 'right-bottom'\n    ];\n    var classList = targetElement.classList;\n    var addClassesToTarget = function (targetPlacement) {\n        var _a = targetPlacement.split('-'), primary = _a[0], secondary = _a[1];\n        var classes = [];\n        if (baseClass) {\n            classes.push(baseClass + \"-\" + primary);\n            if (secondary) {\n                classes.push(baseClass + \"-\" + primary + \"-\" + secondary);\n            }\n            classes.forEach(function (classname) { classList.add(classname); });\n        }\n        return classes;\n    };\n    // Remove old placement classes to avoid issues\n    if (baseClass) {\n        allowedPlacements.forEach(function (placementToRemove) { classList.remove(baseClass + \"-\" + placementToRemove); });\n    }\n    // replace auto placement with other placements\n    var hasAuto = placementVals.findIndex(function (val) { return val === 'auto'; });\n    if (hasAuto >= 0) {\n        allowedPlacements.forEach(function (obj) {\n            if (placementVals.find(function (val) { return val.search('^' + obj) !== -1; }) == null) {\n                placementVals.splice(hasAuto++, 1, obj);\n            }\n        });\n    }\n    // coordinates where to position\n    // Required for transform:\n    var style = targetElement.style;\n    style.position = 'absolute';\n    style.top = '0';\n    style.left = '0';\n    style['will-change'] = 'transform';\n    var testPlacement;\n    var isInViewport = false;\n    for (var _i = 0, placementVals_1 = placementVals; _i < placementVals_1.length; _i++) {\n        testPlacement = placementVals_1[_i];\n        var addedClasses = addClassesToTarget(testPlacement);\n        if (positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody)) {\n            isInViewport = true;\n            break;\n        }\n        // Remove the baseClasses for further calculation\n        if (baseClass) {\n            addedClasses.forEach(function (classname) { classList.remove(classname); });\n        }\n    }\n    if (!isInViewport) {\n        // If nothing match, the first placement is the default one\n        testPlacement = placementVals[0];\n        addClassesToTarget(testPlacement);\n        positionService.positionElements(hostElement, targetElement, testPlacement, appendToBody);\n    }\n    return testPlacement;\n}\n//# sourceMappingURL=positioning.js.map"]},"metadata":{},"sourceType":"module"}