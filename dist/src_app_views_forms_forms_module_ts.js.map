{"version":3,"sources":["./node_modules/angular2-text-mask/dist/angular2TextMask.js","./node_modules/ngx-img-cropper/fesm2015/ngx-img-cropper.js","./node_modules/text-mask-core/dist/textMaskCore.js","./src/app/shared/components/form-wizard/form-wizard.module.ts","./src/app/shared/components/form-wizard/wizard-step/wizard-step.component.ts","./src/app/shared/components/form-wizard/wizard/wizard.component.ts","./src/app/shared/components/form-wizard/wizard/wizard.component.html","./src/app/views/forms/basic-form/basic-form.component.ts","./src/app/views/forms/basic-form/basic-form.component.html","./src/app/views/forms/form-layouts/form-layouts.component.ts","./src/app/views/forms/form-layouts/form-layouts.component.html","./src/app/views/forms/forms-routing.module.ts","./src/app/views/forms/forms.module.ts","./src/app/views/forms/img-cropper/img-cropper.component.ts","./src/app/views/forms/img-cropper/img-cropper.component.html","./src/app/views/forms/input-groups/input-groups.component.ts","./src/app/views/forms/input-groups/input-groups.component.html","./src/app/views/forms/input-mask/input-mask.component.ts","./src/app/views/forms/input-mask/input-mask.component.html","./src/app/views/forms/tag-inputs/tag-inputs.component.ts","./src/app/views/forms/tag-inputs/tag-inputs.component.html","./src/app/views/forms/wizard/wizard.component.ts","./src/app/views/forms/wizard/wizard.component.html"],"names":["Object","value","core_1","require","forms_1","platform_browser_1","textMaskCore_1","ɵngcc0","TextMaskConfig","exports","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","MaskedInputDirective","multi","_isAndroid","userAgent","ɵgetDOM","getUserAgent","test","toLowerCase","_renderer","_elementRef","_compositionMode","textMaskConfig","mask","guide","placeholderChar","pipe","undefined","keepCharPositions","onChange","_","onTouched","_composing","prototype","ngOnChanges","changes","_setupMask","textMaskInputElement","update","inputElement","writeValue","normalizedValue","setProperty","registerOnChange","fn","registerOnTouched","setDisabledState","isDisabled","nativeElement","_handleInput","create","tagName","toUpperCase","getElementsByTagName","createTextMaskInputElement","assign","_compositionStart","_compositionEnd","ctorParameters","type","Renderer2","ElementRef","decorators","Optional","Inject","args","COMPOSITION_BUFFER_MODE","propDecorators","Input","ɵfac","MaskedInputDirective_Factory","t","ɵɵdirectiveInject","ɵdir","ɵɵdefineDirective","selectors","hostBindings","MaskedInputDirective_HostBindings","rf","ctx","ɵɵlistener","MaskedInputDirective_input_HostBindingHandler","$event","target","MaskedInputDirective_blur_HostBindingHandler","MaskedInputDirective_compositionstart_HostBindingHandler","MaskedInputDirective_compositionend_HostBindingHandler","inputs","exportAs","features","ɵɵProvidersFeature","MASKEDINPUT_VALUE_ACCESSOR","ɵɵNgOnChangesFeature","ngDevMode","ɵsetClassMetadata","Directive","host","selector","providers","TextMaskModule","TextMaskModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","NgModule","declarations","ngJitMode","ɵɵsetNgModuleScope","textMaskCore_2","conformToMask","_c0","_c1","ImageCropperComponent_input_1_Template","_r4","ImageCropperComponent_input_1_Template_input_change_0_listener","ctx_r3","fileChangeListener","CropperDrawSettings","settings","lineDash","strokeWidth","strokeColor","fillColor","dragIconStrokeWidth","dragIconStrokeColor","dragIconFillColor","backgroundFillColor","CropperSettings","canvasWidth","canvasHeight","dynamicSizing","width","height","minWidth","minHeight","minWithRelativeToResolution","croppedWidth","croppedHeight","cropperDrawSettings","touchRadius","noFileInput","markerSizeMultiplier","centerTouchRadius","showCenterMarker","allowedFilesRegex","cropOnResize","preserveSize","compressRatio","_rounded","_keepAspect","val","console","error","Fraction","Number","Exif","debug","IptcFieldMap","Tags","TiffTags","GPSTags","StringValues","ExposureProgram","MeteringMode","LightSource","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","Components","element","event","handler","addEventListener","attachEvent","img","exifdata","base64","replace","binary","atob","len","length","buffer","ArrayBuffer","view","Uint8Array","i","charCodeAt","url","callback","http","XMLHttpRequest","open","responseType","onload","status","response","send","handleBinaryFile","binFile","data","findEXIFinJPEG","iptcdata","findIPTCinJPEG","call","src","arrayBuffer","base64ToArrayBuffer","fileReader","FileReader","e","result","objectURLToBlob","blob","readAsArrayBuffer","Error","Blob","File","log","byteLength","file","dataView","DataView","getUint8","offset","marker","readEXIFData","getUint16","isFieldSegmentStart","_dataView","_offset","nameHeaderLength","startOffset","sectionLength","readIPTCData","fieldValue","fieldName","dataSize","segmentType","segmentSize","segmentStartPos","getInt16","getStringFromDB","hasOwnProperty","Array","push","tiffStart","dirStart","strings","bigEnd","entries","tags","entryOffset","tag","readTagValue","numValues","getUint32","valueOffset","vals","n","numerator","denominator","getInt32","start","outstr","String","fromCharCode","exifData","gpsData","tiffOffset","firstIFDOffset","readTags","ExifIFDPointer","compopents","GPSInfoIFDPointer","Image","HTMLImageElement","checkImageType","complete","imageHasData","getImageData","a","strPretty","Point","x","y","myNext","p","myPrev","PointPool","initialSize","prev","firstAvailable","next","borrowed","Bounds","left","right","top","bottom","w","h","instance","borrow","Handle","radius","cropperSettings","over","drag","_position","setOver","position","CornerMarker","sideLength","hDirection","vDirection","horizontalNeighbour","verticalNeighbour","beginPath","setLineDash","lineJoin","moveTo","lineTo","closePath","lineWidth","strokeStyle","stroke","rounded","offX","Math","round","sin","PI","abs","offY","fillStyle","fill","setPosition","moveX","moveY","neighbour","drawCornerFill","drawCornerBorder","CropTouch","id","DragMarker","iconPoints","scaledIconPoints","getDragIconPoints","drawIcon","arr","scale","maxLength","arrowWidth","arrowLength","connectorThroat","points","bounds","c","getCentre","returnPoint","ImageCropperModel","ImageCropperDataShare","share","canvas","pressed","style","ImageCropper","imageCropperDataShare","keepAspect","crop","aspectRatio","currentDragTouches","isMouseDown","ratioW","ratioH","fileType","imageSet","pointPool","tl","tr","bl","br","addHorizontalNeighbour","addVerticalNeighbour","markers","center","croppedImage","currentlyInteracting","cropWidth","cropHeight","NaN","evt","rect","getBoundingClientRect","clientX","clientY","touch","ih","document","createElement","getContext","drawImage","imageData","sy","ey","py","alpha","ratio","dataUri","dataUriSubstring","substring","mimeType","regEx","RegExp","matches","exec","cropCanvas","responsiveWidth","parentElement","clientWidth","draw","setImage","srcImage","getBounds","clearRect","sourceAspect","canvasAspect","drawImageIOSFix","fillRect","max","strokeRect","save","arc","clip","restore","maxXClamp","minXClamp","minYClamp","maxYClamp","xLength","getHorizontalNeighbour","yLength","getVerticalNeighbour","xOver","yOver","iX","iY","ax","ay","newHeight","newWidth","newY","newX","anchorMarker","fold","getSide","min","enforceMinSize","move","recalculatePosition","b","sign","newCropTouch","index","k","dragHandle","setDrag","splice","matched","dragTouch","clampedPositions","clampPosition","dragCorner","dragCenter","setPressed","touchInBounds","bufferContext","getDataUriMimeType","updateClampBounds","cropPosition","getCropPositionFromMarkers","setCropPosition","cropBounds","getCropPositionFromBounds","vertSquashRatio","detectVerticalSquash","getCroppedImageHelper","tlPos","trPos","blPos","brPos","cropAspect","cX","cY","imageH","cropW","imageW","cropH","positions","marginTop","marginLeft","actualH","actualW","actualX","actualY","scaledW","scaledH","getCropBounds","fillWidth","fillHeight","getCroppedImage","offsetH","offsetW","resampleFn","toDataURL","minX","MAX_VALUE","minY","maxX","maxY","currentBounds","isImageSet","touches","preventDefault","touchPosition","getTouchPos","cropTouch","identifier","distance","previousDistance","setBounds","mousePosition","getMousePos","getDragTouchForID","drawCursors","handleMove","cursorDrawn","setStyle","drawCornerCursor","didDraw","changedTouches","handleRelease","sx","sw","sh","dx","dy","dw","dh","setReleased","CropPosition","ImageCropperComponent","renderer","cropPositionChange","EventEmitter","exif","onCrop","dragUnsubscribers","cropcanvas","cropperClass","setAttribute","toString","windowListener","resize","bind","window","cropper","prepare","isCropPositionChanged","updateCropPosition","toBounds","image","emit","updateCropBounds","inputImage","currentValue","updateSettings","removeDragListeners","removeEventListener","onTouchMove","onTouchStart","onTouchEnd","listen","onMouseMove","onMouseUp","onMouseDown","forEach","unsubscribe","files","name","loadEvent","readAsDataURL","offsetWidth","offsetHeight","resizeCanvas","reset","newBounds","croppingClass","raf","requestAnimationFrame","cancelAnimationFrame","naturalHeight","naturalWidth","getOrientedImage","isInitialized","original","isCropPositionUpdateNeeded","cropBound","getData","orientation","getTag","indexOf","cw","ch","cx","cy","deg","rotate","ImageCropperComponent_Factory","DOCUMENT","ɵcmp","viewQuery","ImageCropperComponent_Query","_t","first","fileInput","outputs","decls","vars","consts","template","ImageCropperComponent_Template","ImageCropperComponent_Template_canvas_mousedown_2_listener","ImageCropperComponent_Template_canvas_touchmove_2_listener","ImageCropperComponent_Template_canvas_touchend_2_listener","ImageCropperComponent_Template_canvas_touchstart_2_listener","directives","ɵngcc1","encapsulation","ViewChild","static","Output","Component","ImageCropperModule","ImageCropperModule_Factory","imports","CommonModule","ImageCropperService","ImageCropperService_Factory","ɵprov","ɵɵdefineInjectable","factory","token","providedIn","Injectable","CropService","r","module","o","loaded","m","__esModule","default","defineProperty","enumerable","get","strFunction","previousConformedValue","previousPlaceholder","u","currentCaretPosition","l","s","conformedValue","f","rawValue","d","placeholder","indexesOfPipedChars","v","caretTrapIndexes","g","C","P","O","T","M","S","j","V","substr","split","A","filter","N","E","F","R","I","map","J","W","q","L","z","B","D","G","H","K","Q","arguments","isArray","processCaretTraps","maskWithoutCaretTraps","convertMaskToPlaceholder","slice","char","isNew","shift","meta","someCharsRejected","Symbol","iterator","constructor","JSON","stringify","join","isNaN","indexes","isString","isNumber","isNil","state","showMask","selectionEnd","rejected","activeElement","setSelectionRange","navigator","setTimeout"],"mappings":"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","file":"src_app_views_forms_forms_module_ts.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar core_1 = require(\"@angular/core\");\nvar forms_1 = require(\"@angular/forms\");\nvar platform_browser_1 = require(\"@angular/platform-browser\");\nvar textMaskCore_1 = require(\"text-mask-core/dist/textMaskCore\");\nvar ɵngcc0 = require('@angular/core');\nvar TextMaskConfig = /** @class */ (function () {\n    function TextMaskConfig() {\n    }\n    return TextMaskConfig;\n}());\nexports.TextMaskConfig = TextMaskConfig;\nexports.MASKEDINPUT_VALUE_ACCESSOR = {\n    provide: forms_1.NG_VALUE_ACCESSOR,\n    useExisting: core_1.forwardRef(function () { return MaskedInputDirective; }),\n    multi: true\n};\n/**\n * We must check whether the agent is Android because composition events\n * behave differently between iOS and Android.\n */\nfunction _isAndroid() {\n    var userAgent = platform_browser_1.ɵgetDOM() ? platform_browser_1.ɵgetDOM().getUserAgent() : '';\n    return /android (\\d+)/.test(userAgent.toLowerCase());\n}\nvar MaskedInputDirective = /** @class */ (function () {\n    function MaskedInputDirective(_renderer, _elementRef, _compositionMode) {\n        this._renderer = _renderer;\n        this._elementRef = _elementRef;\n        this._compositionMode = _compositionMode;\n        this.textMaskConfig = {\n            mask: [],\n            guide: true,\n            placeholderChar: '_',\n            pipe: undefined,\n            keepCharPositions: false,\n        };\n        this.onChange = function (_) { };\n        this.onTouched = function () { };\n        /** Whether the user is creating a composition string (IME events). */\n        this._composing = false;\n        if (this._compositionMode == null) {\n            this._compositionMode = !_isAndroid();\n        }\n    }\n    MaskedInputDirective.prototype.ngOnChanges = function (changes) {\n        this._setupMask(true);\n        if (this.textMaskInputElement !== undefined) {\n            this.textMaskInputElement.update(this.inputElement.value);\n        }\n    };\n    MaskedInputDirective.prototype.writeValue = function (value) {\n        this._setupMask();\n        // set the initial value for cases where the mask is disabled\n        var normalizedValue = value == null ? '' : value;\n        this._renderer.setProperty(this.inputElement, 'value', normalizedValue);\n        if (this.textMaskInputElement !== undefined) {\n            this.textMaskInputElement.update(value);\n        }\n    };\n    MaskedInputDirective.prototype.registerOnChange = function (fn) { this.onChange = fn; };\n    MaskedInputDirective.prototype.registerOnTouched = function (fn) { this.onTouched = fn; };\n    MaskedInputDirective.prototype.setDisabledState = function (isDisabled) {\n        this._renderer.setProperty(this._elementRef.nativeElement, 'disabled', isDisabled);\n    };\n    MaskedInputDirective.prototype._handleInput = function (value) {\n        if (!this._compositionMode || (this._compositionMode && !this._composing)) {\n            this._setupMask();\n            if (this.textMaskInputElement !== undefined) {\n                this.textMaskInputElement.update(value);\n                // get the updated value\n                value = this.inputElement.value;\n                this.onChange(value);\n            }\n        }\n    };\n    MaskedInputDirective.prototype._setupMask = function (create) {\n        if (create === void 0) { create = false; }\n        if (!this.inputElement) {\n            if (this._elementRef.nativeElement.tagName.toUpperCase() === 'INPUT') {\n                // `textMask` directive is used directly on an input element\n                this.inputElement = this._elementRef.nativeElement;\n            }\n            else {\n                // `textMask` directive is used on an abstracted input element, `md-input-container`, etc\n                this.inputElement = this._elementRef.nativeElement.getElementsByTagName('INPUT')[0];\n            }\n        }\n        if (this.inputElement && create) {\n            this.textMaskInputElement = textMaskCore_1.createTextMaskInputElement(Object.assign({ inputElement: this.inputElement }, this.textMaskConfig));\n        }\n    };\n    MaskedInputDirective.prototype._compositionStart = function () { this._composing = true; };\n    MaskedInputDirective.prototype._compositionEnd = function (value) {\n        this._composing = false;\n        this._compositionMode && this._handleInput(value);\n    };\n    /** @nocollapse */\n    MaskedInputDirective.ctorParameters = function () { return [\n        { type: core_1.Renderer2, },\n        { type: core_1.ElementRef, },\n        { type: undefined, decorators: [{ type: core_1.Optional }, { type: core_1.Inject, args: [forms_1.COMPOSITION_BUFFER_MODE,] },] },\n    ]; };\n    MaskedInputDirective.propDecorators = {\n        'textMaskConfig': [{ type: core_1.Input, args: ['textMask',] },],\n    };\nMaskedInputDirective.ɵfac = function MaskedInputDirective_Factory(t) { return new (t || MaskedInputDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(forms_1.COMPOSITION_BUFFER_MODE, 8)); };\nMaskedInputDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: MaskedInputDirective, selectors: [[\"\", \"textMask\", \"\"]], hostBindings: function MaskedInputDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"input\", function MaskedInputDirective_input_HostBindingHandler($event) { return ctx._handleInput($event.target.value); })(\"blur\", function MaskedInputDirective_blur_HostBindingHandler() { return ctx.onTouched(); })(\"compositionstart\", function MaskedInputDirective_compositionstart_HostBindingHandler() { return ctx._compositionStart(); })(\"compositionend\", function MaskedInputDirective_compositionend_HostBindingHandler($event) { return ctx._compositionEnd($event.target.value); });\n    } }, inputs: { textMaskConfig: [\"textMask\", \"textMaskConfig\"] }, exportAs: [\"textMask\"], features: [ɵngcc0.ɵɵProvidersFeature([exports.MASKEDINPUT_VALUE_ACCESSOR]), ɵngcc0.ɵɵNgOnChangesFeature] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MaskedInputDirective, [{\n        type: core_1.Directive,\n        args: [{\n                host: {\n                    '(input)': '_handleInput($event.target.value)',\n                    '(blur)': 'onTouched()',\n                    '(compositionstart)': '_compositionStart()',\n                    '(compositionend)': '_compositionEnd($event.target.value)'\n                },\n                selector: '[textMask]',\n                exportAs: 'textMask',\n                providers: [exports.MASKEDINPUT_VALUE_ACCESSOR]\n            }]\n    }], function () { return [{ type: ɵngcc0.Renderer2 }, { type: ɵngcc0.ElementRef }, { type: undefined, decorators: [{\n                type: core_1.Optional\n            }, {\n                type: core_1.Inject,\n                args: [forms_1.COMPOSITION_BUFFER_MODE]\n            }] }]; }, { textMaskConfig: [{\n            type: core_1.Input,\n            args: ['textMask']\n        }] }); })();\n    return MaskedInputDirective;\n}());\nexports.MaskedInputDirective = MaskedInputDirective;\nvar TextMaskModule = /** @class */ (function () {\n    function TextMaskModule() {\n    }\n    /** @nocollapse */\n    TextMaskModule.ctorParameters = function () { return []; };\nTextMaskModule.ɵfac = function TextMaskModule_Factory(t) { return new (t || TextMaskModule)(); };\nTextMaskModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: TextMaskModule });\nTextMaskModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(TextMaskModule, [{\n        type: core_1.NgModule,\n        args: [{\n                declarations: [MaskedInputDirective],\n                exports: [MaskedInputDirective]\n            }]\n    }], function () { return []; }, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(TextMaskModule, { declarations: [MaskedInputDirective], exports: [MaskedInputDirective] }); })();\n    return TextMaskModule;\n}());\nexports.TextMaskModule = TextMaskModule;\nvar textMaskCore_2 = require(\"text-mask-core/dist/textMaskCore\");\nexports.conformToMask = textMaskCore_2.conformToMask;\n\n//# sourceMappingURL=angular2TextMask.js.map","import { EventEmitter, Component, Renderer2, Inject, ViewChild, Input, Output, NgModule, ɵɵdefineInjectable, Injectable } from '@angular/core';\nimport { DOCUMENT, CommonModule } from '@angular/common';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nconst _c0 = [\"cropcanvas\"];\nconst _c1 = [\"fileInput\"];\nfunction ImageCropperComponent_input_1_Template(rf, ctx) { if (rf & 1) {\n    const _r4 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"input\", 4, 5);\n    ɵngcc0.ɵɵlistener(\"change\", function ImageCropperComponent_input_1_Template_input_change_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.fileChangeListener($event); });\n    ɵngcc0.ɵɵelementEnd();\n} }\nclass CropperDrawSettings {\r\n    constructor(settings) {\r\n        this.lineDash = false;\r\n        this.strokeWidth = 1;\r\n        this.strokeColor = 'rgba(255,255,255,1)';\r\n        this.fillColor = 'rgba(255,255,255,1)';\r\n        this.dragIconStrokeWidth = 1;\r\n        this.dragIconStrokeColor = 'rgba(0,0,0,1)';\r\n        this.dragIconFillColor = 'rgba(255,255,255,1)';\r\n        this.backgroundFillColor = 'rgba(0,0,0,0.6)';\r\n        if (typeof settings === 'object') {\r\n            this.lineDash = settings.lineDash || this.lineDash;\r\n            this.strokeWidth = settings.strokeWidth || this.strokeWidth;\r\n            this.fillColor = settings.fillColor || this.fillColor;\r\n            this.strokeColor = settings.strokeColor || this.strokeColor;\r\n            this.dragIconStrokeWidth =\r\n                settings.dragIconStrokeWidth || this.dragIconStrokeWidth;\r\n            this.dragIconStrokeColor =\r\n                settings.dragIconStrokeColor || this.dragIconStrokeColor;\r\n            this.dragIconFillColor =\r\n                settings.dragIconFillColor || this.dragIconFillColor;\r\n            this.backgroundFillColor =\r\n                settings.backgroundFillColor || this.backgroundFillColor;\r\n        }\r\n    }\r\n}\n\nclass CropperSettings {\r\n    constructor(settings) {\r\n        this.canvasWidth = 300;\r\n        this.canvasHeight = 300;\r\n        this.dynamicSizing = false;\r\n        this.width = 200;\r\n        this.height = 200;\r\n        this.minWidth = 50;\r\n        this.minHeight = 50;\r\n        this.minWithRelativeToResolution = true;\r\n        this.croppedWidth = 100;\r\n        this.croppedHeight = 100;\r\n        this.cropperDrawSettings = new CropperDrawSettings();\r\n        this.touchRadius = 20;\r\n        this.noFileInput = false;\r\n        this.markerSizeMultiplier = 1;\r\n        this.centerTouchRadius = 20;\r\n        this.showCenterMarker = true;\r\n        this.allowedFilesRegex = /\\.(jpe?g|png|gif|bmp)$/i;\r\n        this.cropOnResize = true;\r\n        this.preserveSize = false;\r\n        this.compressRatio = 1.0;\r\n        // tslint:disable-next-line:variable-name\r\n        this._rounded = false;\r\n        // tslint:disable-next-line:variable-name\r\n        this._keepAspect = true;\r\n        if (typeof settings === 'object') {\r\n            Object.assign(this, settings);\r\n        }\r\n    }\r\n    set rounded(val) {\r\n        this._rounded = val;\r\n        if (val) {\r\n            this._keepAspect = true;\r\n        }\r\n    }\r\n    get rounded() {\r\n        return this._rounded;\r\n    }\r\n    set keepAspect(val) {\r\n        this._keepAspect = val;\r\n        if (this._rounded === true && this._keepAspect === false) {\r\n            console.error('Cannot set keep aspect to false on rounded cropper. Ellipsis not supported');\r\n            this._keepAspect = true;\r\n        }\r\n    }\r\n    get keepAspect() {\r\n        return this._keepAspect;\r\n    }\r\n}\n\nclass Fraction extends Number {\r\n}\r\nclass Exif {\r\n    constructor() {\r\n        this.debug = false;\r\n        this.IptcFieldMap = {\r\n            0x78: 'caption',\r\n            0x6e: 'credit',\r\n            0x19: 'keywords',\r\n            0x37: 'dateCreated',\r\n            0x50: 'byline',\r\n            0x55: 'bylineTitle',\r\n            0x7a: 'captionWriter',\r\n            0x69: 'headline',\r\n            0x74: 'copyright',\r\n            0x0f: 'category'\r\n        };\r\n        this.Tags = {\r\n            // version tags\r\n            0x9000: 'ExifVersion',\r\n            0xa000: 'FlashpixVersion',\r\n            // colorspace tags\r\n            0xa001: 'ColorSpace',\r\n            // image configuration\r\n            0xa002: 'PixelXDimension',\r\n            0xa003: 'PixelYDimension',\r\n            0x9101: 'ComponentsConfiguration',\r\n            0x9102: 'CompressedBitsPerPixel',\r\n            // user information\r\n            0x927c: 'MakerNote',\r\n            0x9286: 'UserComment',\r\n            // related file\r\n            0xa004: 'RelatedSoundFile',\r\n            // date and time\r\n            0x9003: 'DateTimeOriginal',\r\n            0x9004: 'DateTimeDigitized',\r\n            0x9290: 'SubsecTime',\r\n            0x9291: 'SubsecTimeOriginal',\r\n            0x9292: 'SubsecTimeDigitized',\r\n            // picture-taking conditions\r\n            0x829a: 'ExposureTime',\r\n            0x829d: 'FNumber',\r\n            0x8822: 'ExposureProgram',\r\n            0x8824: 'SpectralSensitivity',\r\n            0x8827: 'ISOSpeedRatings',\r\n            0x8828: 'OECF',\r\n            0x9201: 'ShutterSpeedValue',\r\n            0x9202: 'ApertureValue',\r\n            0x9203: 'BrightnessValue',\r\n            0x9204: 'ExposureBias',\r\n            0x9205: 'MaxApertureValue',\r\n            0x9206: 'SubjectDistance',\r\n            0x9207: 'MeteringMode',\r\n            0x9208: 'LightSource',\r\n            0x9209: 'Flash',\r\n            0x9214: 'SubjectArea',\r\n            0x920a: 'FocalLength',\r\n            0xa20b: 'FlashEnergy',\r\n            0xa20c: 'SpatialFrequencyResponse',\r\n            0xa20e: 'FocalPlaneXResolution',\r\n            0xa20f: 'FocalPlaneYResolution',\r\n            0xa210: 'FocalPlaneResolutionUnit',\r\n            0xa214: 'SubjectLocation',\r\n            0xa215: 'ExposureIndex',\r\n            0xa217: 'SensingMethod',\r\n            0xa300: 'FileSource',\r\n            0xa301: 'SceneType',\r\n            0xa302: 'CFAPattern',\r\n            0xa401: 'CustomRendered',\r\n            0xa402: 'ExposureMode',\r\n            0xa403: 'WhiteBalance',\r\n            0xa404: 'DigitalZoomRation',\r\n            0xa405: 'FocalLengthIn35mmFilm',\r\n            0xa406: 'SceneCaptureType',\r\n            0xa407: 'GainControl',\r\n            0xa408: 'Contrast',\r\n            0xa409: 'Saturation',\r\n            0xa40a: 'Sharpness',\r\n            0xa40b: 'DeviceSettingDescription',\r\n            0xa40c: 'SubjectDistanceRange',\r\n            // other tags\r\n            0xa005: 'InteroperabilityIFDPointer',\r\n            0xa420: 'ImageUniqueID' // Identifier assigned uniquely to each image\r\n        };\r\n        this.TiffTags = {\r\n            0x0100: 'ImageWidth',\r\n            0x0101: 'ImageHeight',\r\n            0x8769: 'ExifIFDPointer',\r\n            0x8825: 'GPSInfoIFDPointer',\r\n            0xa005: 'InteroperabilityIFDPointer',\r\n            0x0102: 'BitsPerSample',\r\n            0x0103: 'Compression',\r\n            0x0106: 'PhotometricInterpretation',\r\n            0x0112: 'Orientation',\r\n            0x0115: 'SamplesPerPixel',\r\n            0x011c: 'PlanarConfiguration',\r\n            0x0212: 'YCbCrSubSampling',\r\n            0x0213: 'YCbCrPositioning',\r\n            0x011a: 'XResolution',\r\n            0x011b: 'YResolution',\r\n            0x0128: 'ResolutionUnit',\r\n            0x0111: 'StripOffsets',\r\n            0x0116: 'RowsPerStrip',\r\n            0x0117: 'StripByteCounts',\r\n            0x0201: 'JPEGInterchangeFormat',\r\n            0x0202: 'JPEGInterchangeFormatLength',\r\n            0x012d: 'TransferFunction',\r\n            0x013e: 'WhitePoint',\r\n            0x013f: 'PrimaryChromaticities',\r\n            0x0211: 'YCbCrCoefficients',\r\n            0x0214: 'ReferenceBlackWhite',\r\n            0x0132: 'DateTime',\r\n            0x010e: 'ImageDescription',\r\n            0x010f: 'Make',\r\n            0x0110: 'Model',\r\n            0x0131: 'Software',\r\n            0x013b: 'Artist',\r\n            0x8298: 'Copyright'\r\n        };\r\n        this.GPSTags = {\r\n            0x0000: 'GPSVersionID',\r\n            0x0001: 'GPSLatitudeRef',\r\n            0x0002: 'GPSLatitude',\r\n            0x0003: 'GPSLongitudeRef',\r\n            0x0004: 'GPSLongitude',\r\n            0x0005: 'GPSAltitudeRef',\r\n            0x0006: 'GPSAltitude',\r\n            0x0007: 'GPSTimeStamp',\r\n            0x0008: 'GPSSatellites',\r\n            0x0009: 'GPSStatus',\r\n            0x000a: 'GPSMeasureMode',\r\n            0x000b: 'GPSDOP',\r\n            0x000c: 'GPSSpeedRef',\r\n            0x000d: 'GPSSpeed',\r\n            0x000e: 'GPSTrackRef',\r\n            0x000f: 'GPSTrack',\r\n            0x0010: 'GPSImgDirectionRef',\r\n            0x0011: 'GPSImgDirection',\r\n            0x0012: 'GPSMapDatum',\r\n            0x0013: 'GPSDestLatitudeRef',\r\n            0x0014: 'GPSDestLatitude',\r\n            0x0015: 'GPSDestLongitudeRef',\r\n            0x0016: 'GPSDestLongitude',\r\n            0x0017: 'GPSDestBearingRef',\r\n            0x0018: 'GPSDestBearing',\r\n            0x0019: 'GPSDestDistanceRef',\r\n            0x001a: 'GPSDestDistance',\r\n            0x001b: 'GPSProcessingMethod',\r\n            0x001c: 'GPSAreaInformation',\r\n            0x001d: 'GPSDateStamp',\r\n            0x001e: 'GPSDifferential'\r\n        };\r\n        this.StringValues = {\r\n            ExposureProgram: {\r\n                0: 'Not defined',\r\n                1: 'Manual',\r\n                2: 'Normal program',\r\n                3: 'Aperture priority',\r\n                4: 'Shutter priority',\r\n                5: 'Creative program',\r\n                6: 'Action program',\r\n                7: 'Portrait mode',\r\n                8: 'Landscape mode'\r\n            },\r\n            MeteringMode: {\r\n                0: 'Unknown',\r\n                1: 'Average',\r\n                2: 'CenterWeightedAverage',\r\n                3: 'Spot',\r\n                4: 'MultiSpot',\r\n                5: 'Pattern',\r\n                6: 'Partial',\r\n                255: 'Other'\r\n            },\r\n            LightSource: {\r\n                0: 'Unknown',\r\n                1: 'Daylight',\r\n                2: 'Fluorescent',\r\n                3: 'Tungsten (incandescent light)',\r\n                4: 'Flash',\r\n                9: 'Fine weather',\r\n                10: 'Cloudy weather',\r\n                11: 'Shade',\r\n                12: 'Daylight fluorescent (D 5700 - 7100K)',\r\n                13: 'Day white fluorescent (N 4600 - 5400K)',\r\n                14: 'Cool white fluorescent (W 3900 - 4500K)',\r\n                15: 'White fluorescent (WW 3200 - 3700K)',\r\n                17: 'Standard light A',\r\n                18: 'Standard light B',\r\n                19: 'Standard light C',\r\n                20: 'D55',\r\n                21: 'D65',\r\n                22: 'D75',\r\n                23: 'D50',\r\n                24: 'ISO studio tungsten',\r\n                255: 'Other'\r\n            },\r\n            Flash: {\r\n                0x0000: 'Flash did not fire',\r\n                0x0001: 'Flash fired',\r\n                0x0005: 'Strobe return light not detected',\r\n                0x0007: 'Strobe return light detected',\r\n                0x0009: 'Flash fired, compulsory flash mode',\r\n                0x000d: 'Flash fired, compulsory flash mode, return light not detected',\r\n                0x000f: 'Flash fired, compulsory flash mode, return light detected',\r\n                0x0010: 'Flash did not fire, compulsory flash mode',\r\n                0x0018: 'Flash did not fire, auto mode',\r\n                0x0019: 'Flash fired, auto mode',\r\n                0x001d: 'Flash fired, auto mode, return light not detected',\r\n                0x001f: 'Flash fired, auto mode, return light detected',\r\n                0x0020: 'No flash function',\r\n                0x0041: 'Flash fired, red-eye reduction mode',\r\n                0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\r\n                0x0047: 'Flash fired, red-eye reduction mode, return light detected',\r\n                0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\r\n                0x004d: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\r\n                0x004f: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\r\n                0x0059: 'Flash fired, auto mode, red-eye reduction mode',\r\n                0x005d: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\r\n                0x005f: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\r\n            },\r\n            SensingMethod: {\r\n                1: 'Not defined',\r\n                2: 'One-chip color area sensor',\r\n                3: 'Two-chip color area sensor',\r\n                4: 'Three-chip color area sensor',\r\n                5: 'Color sequential area sensor',\r\n                7: 'Trilinear sensor',\r\n                8: 'Color sequential linear sensor'\r\n            },\r\n            SceneCaptureType: {\r\n                0: 'Standard',\r\n                1: 'Landscape',\r\n                2: 'Portrait',\r\n                3: 'Night scene'\r\n            },\r\n            SceneType: {\r\n                1: 'Directly photographed'\r\n            },\r\n            CustomRendered: {\r\n                0: 'Normal process',\r\n                1: 'Custom process'\r\n            },\r\n            WhiteBalance: {\r\n                0: 'Auto white balance',\r\n                1: 'Manual white balance'\r\n            },\r\n            GainControl: {\r\n                0: 'None',\r\n                1: 'Low gain up',\r\n                2: 'High gain up',\r\n                3: 'Low gain down',\r\n                4: 'High gain down'\r\n            },\r\n            Contrast: {\r\n                0: 'Normal',\r\n                1: 'Soft',\r\n                2: 'Hard'\r\n            },\r\n            Saturation: {\r\n                0: 'Normal',\r\n                1: 'Low saturation',\r\n                2: 'High saturation'\r\n            },\r\n            Sharpness: {\r\n                0: 'Normal',\r\n                1: 'Soft',\r\n                2: 'Hard'\r\n            },\r\n            SubjectDistanceRange: {\r\n                0: 'Unknown',\r\n                1: 'Macro',\r\n                2: 'Close view',\r\n                3: 'Distant view'\r\n            },\r\n            FileSource: {\r\n                3: 'DSC'\r\n            },\r\n            Components: {\r\n                0: '',\r\n                1: 'Y',\r\n                2: 'Cb',\r\n                3: 'Cr',\r\n                4: 'R',\r\n                5: 'G',\r\n                6: 'B'\r\n            }\r\n        };\r\n    }\r\n    addEvent(element, event, handler) {\r\n        if (element.addEventListener) {\r\n            element.addEventListener(event, handler, false);\r\n        }\r\n        else {\r\n            // Hello, IE!\r\n            if (element.attachEvent) {\r\n                element.attachEvent('on' + event, handler);\r\n            }\r\n        }\r\n    }\r\n    imageHasData(img) {\r\n        return !!img.exifdata;\r\n    }\r\n    base64ToArrayBuffer(base64) {\r\n        base64 = base64.replace(/^data:([^;]+);base64,/gim, '');\r\n        const binary = atob(base64);\r\n        const len = binary.length;\r\n        const buffer = new ArrayBuffer(len);\r\n        const view = new Uint8Array(buffer);\r\n        for (let i = 0; i < len; i++) {\r\n            view[i] = binary.charCodeAt(i);\r\n        }\r\n        return buffer;\r\n    }\r\n    objectURLToBlob(url, callback) {\r\n        const http = new XMLHttpRequest();\r\n        http.open('GET', url, true);\r\n        http.responseType = 'blob';\r\n        http.onload = () => {\r\n            if (http.status === 200 || http.status === 0) {\r\n                callback(http.response);\r\n            }\r\n        };\r\n        http.send();\r\n    }\r\n    getImageData(img, callback) {\r\n        const handleBinaryFile = (binFile) => {\r\n            const data = this.findEXIFinJPEG(binFile);\r\n            const iptcdata = this.findIPTCinJPEG(binFile);\r\n            img.exifdata = data || {};\r\n            img.iptcdata = iptcdata || {};\r\n            if (callback) {\r\n                callback.call(img);\r\n            }\r\n        };\r\n        if ('src' in img && img.src) {\r\n            if (/^data:/i.test(img.src)) {\r\n                // Data URI\r\n                const arrayBuffer = this.base64ToArrayBuffer(img.src);\r\n                handleBinaryFile(arrayBuffer);\r\n            }\r\n            else {\r\n                if (/^blob:/i.test(img.src)) {\r\n                    // Object URL\r\n                    const fileReader = new FileReader();\r\n                    fileReader.onload = (e) => {\r\n                        handleBinaryFile(e.target.result);\r\n                    };\r\n                    this.objectURLToBlob(img.src, (blob) => {\r\n                        fileReader.readAsArrayBuffer(blob);\r\n                    });\r\n                }\r\n                else {\r\n                    const http = new XMLHttpRequest();\r\n                    http.onload = () => {\r\n                        if (http.status === 200 || http.status === 0) {\r\n                            handleBinaryFile(http.response);\r\n                        }\r\n                        else {\r\n                            throw new Error('Could not load image');\r\n                        }\r\n                    };\r\n                    http.open('GET', img.src, true);\r\n                    http.responseType = 'arraybuffer';\r\n                    http.send(null);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (FileReader && (img instanceof Blob || img instanceof File)) {\r\n                const fileReader = new FileReader();\r\n                fileReader.onload = (e) => {\r\n                    this.log('Got file of length ' + e.target.result.byteLength);\r\n                    handleBinaryFile(e.target.result);\r\n                };\r\n                fileReader.readAsArrayBuffer(img);\r\n            }\r\n        }\r\n    }\r\n    findEXIFinJPEG(file) {\r\n        const dataView = new DataView(file);\r\n        this.log('Got file of length ' + file.byteLength);\r\n        if (dataView.getUint8(0) !== 0xff || dataView.getUint8(1) !== 0xd8) {\r\n            this.log('Not a valid JPEG');\r\n            return false; // not a valid jpeg\r\n        }\r\n        let offset = 2;\r\n        const length = file.byteLength;\r\n        let marker;\r\n        while (offset < length) {\r\n            if (dataView.getUint8(offset) !== 0xff) {\r\n                this.log('Not a valid marker at offset ' +\r\n                    offset +\r\n                    ', found: ' +\r\n                    dataView.getUint8(offset));\r\n                return false; // not a valid marker, something is wrong\r\n            }\r\n            marker = dataView.getUint8(offset + 1);\r\n            this.log(marker);\r\n            // we could implement handling for other markers here,\r\n            // but we're only looking for 0xFFE1 for EXIF data\r\n            if (marker === 225) {\r\n                this.log('Found 0xFFE1 marker');\r\n                return this.readEXIFData(dataView, offset + 4); // , dataView.getUint16(offset + 2) - 2);\r\n                // offset += 2 + file.getShortAt(offset+2, true);\r\n            }\r\n            else {\r\n                offset += 2 + dataView.getUint16(offset + 2);\r\n            }\r\n        }\r\n    }\r\n    findIPTCinJPEG(file) {\r\n        const dataView = new DataView(file);\r\n        this.log('Got file of length ' + file.byteLength);\r\n        if (dataView.getUint8(0) !== 0xff || dataView.getUint8(1) !== 0xd8) {\r\n            this.log('Not a valid JPEG');\r\n            return false; // not a valid jpeg\r\n        }\r\n        let offset = 2;\r\n        const length = file.byteLength;\r\n        // tslint:disable-next-line:variable-name\r\n        const isFieldSegmentStart = (_dataView, _offset) => {\r\n            return (_dataView.getUint8(_offset) === 0x38 &&\r\n                _dataView.getUint8(_offset + 1) === 0x42 &&\r\n                _dataView.getUint8(_offset + 2) === 0x49 &&\r\n                _dataView.getUint8(_offset + 3) === 0x4d &&\r\n                _dataView.getUint8(_offset + 4) === 0x04 &&\r\n                _dataView.getUint8(_offset + 5) === 0x04);\r\n        };\r\n        while (offset < length) {\r\n            if (isFieldSegmentStart(dataView, offset)) {\r\n                // Get the length of the name header (which is padded to an even number of bytes)\r\n                let nameHeaderLength = dataView.getUint8(offset + 7);\r\n                if (nameHeaderLength % 2 !== 0) {\r\n                    nameHeaderLength += 1;\r\n                }\r\n                // Check for pre photoshop 6 format\r\n                if (nameHeaderLength === 0) {\r\n                    // Always 4\r\n                    nameHeaderLength = 4;\r\n                }\r\n                const startOffset = offset + 8 + nameHeaderLength;\r\n                const sectionLength = dataView.getUint16(offset + 6 + nameHeaderLength);\r\n                return this.readIPTCData(file, startOffset, sectionLength);\r\n            }\r\n            // Not the marker, continue searching\r\n            offset++;\r\n        }\r\n    }\r\n    readIPTCData(file, startOffset, sectionLength) {\r\n        const dataView = new DataView(file);\r\n        const data = {};\r\n        let fieldValue;\r\n        let fieldName;\r\n        let dataSize;\r\n        let segmentType;\r\n        let segmentSize;\r\n        let segmentStartPos = startOffset;\r\n        while (segmentStartPos < startOffset + sectionLength) {\r\n            if (dataView.getUint8(segmentStartPos) === 0x1c &&\r\n                dataView.getUint8(segmentStartPos + 1) === 0x02) {\r\n                segmentType = dataView.getUint8(segmentStartPos + 2);\r\n                if (segmentType in this.IptcFieldMap) {\r\n                    dataSize = dataView.getInt16(segmentStartPos + 3);\r\n                    segmentSize = dataSize + 5;\r\n                    fieldName = this.IptcFieldMap[segmentType];\r\n                    fieldValue = this.getStringFromDB(dataView, segmentStartPos + 5, dataSize);\r\n                    // Check if we already stored a value with this name\r\n                    if (data.hasOwnProperty(fieldName)) {\r\n                        // Value already stored with this name, create multivalue field\r\n                        if (data[fieldName] instanceof Array) {\r\n                            data[fieldName].push(fieldValue);\r\n                        }\r\n                        else {\r\n                            data[fieldName] = [data[fieldName], fieldValue];\r\n                        }\r\n                    }\r\n                    else {\r\n                        data[fieldName] = fieldValue;\r\n                    }\r\n                }\r\n            }\r\n            segmentStartPos++;\r\n        }\r\n        return data;\r\n    }\r\n    readTags(file, tiffStart, dirStart, strings, bigEnd) {\r\n        const entries = file.getUint16(dirStart, !bigEnd);\r\n        const tags = {};\r\n        let entryOffset;\r\n        let tag;\r\n        for (let i = 0; i < entries; i++) {\r\n            entryOffset = dirStart + i * 12 + 2;\r\n            tag = strings[file.getUint16(entryOffset, !bigEnd)];\r\n            if (!tag) {\r\n                this.log('Unknown tag: ' + file.getUint16(entryOffset, !bigEnd));\r\n            }\r\n            tags[tag] = this.readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd);\r\n        }\r\n        return tags;\r\n    }\r\n    readTagValue(file, entryOffset, tiffStart, dirStart, bigEnd) {\r\n        const type = file.getUint16(entryOffset + 2, !bigEnd);\r\n        const numValues = file.getUint32(entryOffset + 4, !bigEnd);\r\n        const valueOffset = file.getUint32(entryOffset + 8, !bigEnd) + tiffStart;\r\n        let offset;\r\n        let vals;\r\n        let val;\r\n        let n;\r\n        let numerator;\r\n        let denominator;\r\n        switch (type) {\r\n            case 1: // byte, 8-bit unsigned int\r\n            case 7: // undefined, 8-bit byte, value depending on field\r\n                if (numValues === 1) {\r\n                    return file.getUint8(entryOffset + 8, !bigEnd);\r\n                }\r\n                else {\r\n                    offset = numValues > 4 ? valueOffset : entryOffset + 8;\r\n                    vals = [];\r\n                    for (n = 0; n < numValues; n++) {\r\n                        vals[n] = file.getUint8(offset + n);\r\n                    }\r\n                    return vals;\r\n                }\r\n            case 2: // ascii, 8-bit byte\r\n                offset = numValues > 4 ? valueOffset : entryOffset + 8;\r\n                return this.getStringFromDB(file, offset, numValues - 1);\r\n            case 3: // short, 16 bit int\r\n                if (numValues === 1) {\r\n                    return file.getUint16(entryOffset + 8, !bigEnd);\r\n                }\r\n                else {\r\n                    offset = numValues > 2 ? valueOffset : entryOffset + 8;\r\n                    vals = [];\r\n                    for (n = 0; n < numValues; n++) {\r\n                        vals[n] = file.getUint16(offset + 2 * n, !bigEnd);\r\n                    }\r\n                    return vals;\r\n                }\r\n            case 4: // long, 32 bit int\r\n                if (numValues === 1) {\r\n                    return file.getUint32(entryOffset + 8, !bigEnd);\r\n                }\r\n                else {\r\n                    vals = [];\r\n                    for (n = 0; n < numValues; n++) {\r\n                        vals[n] = file.getUint32(valueOffset + 4 * n, !bigEnd);\r\n                    }\r\n                    return vals;\r\n                }\r\n            case 5: // rational = two long values, first is numerator, second is denominator\r\n                if (numValues === 1) {\r\n                    numerator = file.getUint32(valueOffset, !bigEnd);\r\n                    denominator = file.getUint32(valueOffset + 4, !bigEnd);\r\n                    val = new Fraction(numerator / denominator);\r\n                    val.numerator = numerator;\r\n                    val.denominator = denominator;\r\n                    return val;\r\n                }\r\n                else {\r\n                    vals = [];\r\n                    for (n = 0; n < numValues; n++) {\r\n                        numerator = file.getUint32(valueOffset + 8 * n, !bigEnd);\r\n                        denominator = file.getUint32(valueOffset + 4 + 8 * n, !bigEnd);\r\n                        vals[n] = new Fraction(numerator / denominator);\r\n                        vals[n].numerator = numerator;\r\n                        vals[n].denominator = denominator;\r\n                    }\r\n                    return vals;\r\n                }\r\n            case 9: // slong, 32 bit signed int\r\n                if (numValues === 1) {\r\n                    return file.getInt32(entryOffset + 8, !bigEnd);\r\n                }\r\n                else {\r\n                    vals = [];\r\n                    for (n = 0; n < numValues; n++) {\r\n                        vals[n] = file.getInt32(valueOffset + 4 * n, !bigEnd);\r\n                    }\r\n                    return vals;\r\n                }\r\n            case 10: // signed rational, two slongs, first is numerator, second is denominator\r\n                if (numValues === 1) {\r\n                    return (file.getInt32(valueOffset, !bigEnd) /\r\n                        file.getInt32(valueOffset + 4, !bigEnd));\r\n                }\r\n                else {\r\n                    vals = [];\r\n                    for (n = 0; n < numValues; n++) {\r\n                        vals[n] =\r\n                            file.getInt32(valueOffset + 8 * n, !bigEnd) /\r\n                                file.getInt32(valueOffset + 4 + 8 * n, !bigEnd);\r\n                    }\r\n                    return vals;\r\n                }\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    getStringFromDB(buffer, start, length) {\r\n        let outstr = '';\r\n        for (let n = start; n < start + length; n++) {\r\n            outstr += String.fromCharCode(buffer.getUint8(n));\r\n        }\r\n        return outstr;\r\n    }\r\n    readEXIFData(file, start) {\r\n        if (this.getStringFromDB(file, start, 4) !== 'Exif') {\r\n            this.log('Not valid EXIF data! ' + this.getStringFromDB(file, start, 4));\r\n            return false;\r\n        }\r\n        let bigEnd;\r\n        let tags;\r\n        let tag;\r\n        let exifData;\r\n        let gpsData;\r\n        const tiffOffset = start + 6;\r\n        // test for TIFF validity and endianness\r\n        if (file.getUint16(tiffOffset) === 0x4949) {\r\n            bigEnd = false;\r\n        }\r\n        else {\r\n            if (file.getUint16(tiffOffset) === 0x4d4d) {\r\n                bigEnd = true;\r\n            }\r\n            else {\r\n                this.log('Not valid TIFF data! (no 0x4949 or 0x4D4D)');\r\n                return false;\r\n            }\r\n        }\r\n        if (file.getUint16(tiffOffset + 2, !bigEnd) !== 0x002a) {\r\n            this.log('Not valid TIFF data! (no 0x002A)');\r\n            return false;\r\n        }\r\n        const firstIFDOffset = file.getUint32(tiffOffset + 4, !bigEnd);\r\n        if (firstIFDOffset < 0x00000008) {\r\n            this.log('Not valid TIFF data! (First offset less than 8)', file.getUint32(tiffOffset + 4, !bigEnd));\r\n            return false;\r\n        }\r\n        tags = this.readTags(file, tiffOffset, tiffOffset + firstIFDOffset, this.TiffTags, bigEnd);\r\n        if (tags.ExifIFDPointer) {\r\n            exifData = this.readTags(file, tiffOffset, tiffOffset + tags.ExifIFDPointer, this.Tags, bigEnd);\r\n            for (tag in exifData) {\r\n                if ({}.hasOwnProperty.call(exifData, tag)) {\r\n                    switch (tag) {\r\n                        case 'LightSource':\r\n                        case 'Flash':\r\n                        case 'MeteringMode':\r\n                        case 'ExposureProgram':\r\n                        case 'SensingMethod':\r\n                        case 'SceneCaptureType':\r\n                        case 'SceneType':\r\n                        case 'CustomRendered':\r\n                        case 'WhiteBalance':\r\n                        case 'GainControl':\r\n                        case 'Contrast':\r\n                        case 'Saturation':\r\n                        case 'Sharpness':\r\n                        case 'SubjectDistanceRange':\r\n                        case 'FileSource':\r\n                            exifData[tag] = this.StringValues[tag][exifData[tag]];\r\n                            break;\r\n                        case 'ExifVersion':\r\n                        case 'FlashpixVersion':\r\n                            exifData[tag] = String.fromCharCode(exifData[tag][0], exifData[tag][1], exifData[tag][2], exifData[tag][3]);\r\n                            break;\r\n                        case 'ComponentsConfiguration':\r\n                            const compopents = 'Components';\r\n                            exifData[tag] =\r\n                                this.StringValues[compopents][exifData[tag][0]] +\r\n                                    this.StringValues[compopents][exifData[tag][1]] +\r\n                                    this.StringValues[compopents][exifData[tag][2]] +\r\n                                    this.StringValues[compopents][exifData[tag][3]];\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    tags[tag] = exifData[tag];\r\n                }\r\n            }\r\n        }\r\n        if (tags.GPSInfoIFDPointer) {\r\n            gpsData = this.readTags(file, tiffOffset, tiffOffset + tags.GPSInfoIFDPointer, this.GPSTags, bigEnd);\r\n            for (tag in gpsData) {\r\n                if ({}.hasOwnProperty.call(gpsData, tag)) {\r\n                    switch (tag) {\r\n                        case 'GPSVersionID':\r\n                            gpsData[tag] =\r\n                                gpsData[tag][0] +\r\n                                    '.' +\r\n                                    gpsData[tag][1] +\r\n                                    '.' +\r\n                                    gpsData[tag][2] +\r\n                                    '.' +\r\n                                    gpsData[tag][3];\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    tags[tag] = gpsData[tag];\r\n                }\r\n            }\r\n        }\r\n        return tags;\r\n    }\r\n    //   get rid of this silly issue\r\n    checkImageType(img) {\r\n        return img instanceof Image || img instanceof HTMLImageElement;\r\n    }\r\n    getData(img, callback) {\r\n        if (this.checkImageType(img) && !img.complete) {\r\n            return false;\r\n        }\r\n        if (!this.imageHasData(img)) {\r\n            this.getImageData(img, callback);\r\n        }\r\n        else {\r\n            if (callback) {\r\n                callback.call(img);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    getTag(img, tag) {\r\n        if (!this.imageHasData(img)) {\r\n            return;\r\n        }\r\n        return img.exifdata[tag];\r\n    }\r\n    getAllTags(img) {\r\n        if (!this.imageHasData(img)) {\r\n            return {};\r\n        }\r\n        let a;\r\n        const data = img.exifdata;\r\n        const tags = {};\r\n        for (a in data) {\r\n            if (data.hasOwnProperty(a)) {\r\n                tags[a] = data[a];\r\n            }\r\n        }\r\n        return tags;\r\n    }\r\n    pretty(img) {\r\n        if (!this.imageHasData(img)) {\r\n            return '';\r\n        }\r\n        let a;\r\n        const data = img.exifdata;\r\n        let strPretty = '';\r\n        for (a in data) {\r\n            if (data.hasOwnProperty(a)) {\r\n                if (typeof data[a] === 'object') {\r\n                    if (data[a] instanceof Number) {\r\n                        strPretty += `${a} : ${data[a]} [${data[a].numerator}/${data[a].denominator}]\\r\\n`;\r\n                    }\r\n                    else {\r\n                        strPretty += `${a} : [${data[a].length} values]\\r\\n`;\r\n                    }\r\n                }\r\n                else {\r\n                    strPretty += `${a} : ${data[a]}\\r\\n`;\r\n                }\r\n            }\r\n        }\r\n        return strPretty;\r\n    }\r\n    readFromBinaryFile(file) {\r\n        return this.findEXIFinJPEG(file);\r\n    }\r\n    log(...args) {\r\n        if (this.debug) {\r\n            console.log(args);\r\n        }\r\n    }\r\n}\n\nclass Point {\r\n    constructor(x = 0, y = 0) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    get next() {\r\n        return this.myNext;\r\n    }\r\n    set next(p) {\r\n        this.myNext = p;\r\n    }\r\n    get prev() {\r\n        return this.myPrev;\r\n    }\r\n    set prev(p) {\r\n        this.myPrev = p;\r\n    }\r\n}\n\nclass PointPool {\r\n    constructor(initialSize = 1) {\r\n        let prev = (this.firstAvailable = new Point());\r\n        for (let i = 1; i < initialSize; i++) {\r\n            const p = new Point();\r\n            prev.next = p;\r\n            prev = p;\r\n        }\r\n    }\r\n    get instance() {\r\n        return this;\r\n    }\r\n    borrow(x, y) {\r\n        if (this.firstAvailable == null) {\r\n            throw new Error('Pool exhausted');\r\n        }\r\n        this.borrowed++;\r\n        const p = this.firstAvailable;\r\n        this.firstAvailable = p.next;\r\n        p.x = x;\r\n        p.y = y;\r\n        return p;\r\n    }\r\n    returnPoint(p) {\r\n        this.borrowed--;\r\n        p.x = 0;\r\n        p.y = 0;\r\n        p.next = this.firstAvailable;\r\n        this.firstAvailable = p;\r\n    }\r\n}\n\nclass Bounds {\r\n    constructor(x, y, width, height) {\r\n        if (x === void 0) {\r\n            x = 0;\r\n        }\r\n        if (y === void 0) {\r\n            y = 0;\r\n        }\r\n        if (width === void 0) {\r\n            width = 0;\r\n        }\r\n        if (height === void 0) {\r\n            height = 0;\r\n        }\r\n        this.left = x;\r\n        this.right = x + width;\r\n        this.top = y;\r\n        this.bottom = y + height;\r\n    }\r\n    get width() {\r\n        return this.right - this.left;\r\n    }\r\n    get height() {\r\n        return this.bottom - this.top;\r\n    }\r\n    getCentre() {\r\n        const w = this.width;\r\n        const h = this.height;\r\n        return new PointPool().instance.borrow(this.left + w / 2, this.top + h / 2);\r\n    }\r\n}\n\nclass Handle {\r\n    constructor(x, y, radius, settings) {\r\n        this.cropperSettings = new CropperSettings();\r\n        this.over = false;\r\n        this.drag = false;\r\n        this._position = new Point(x, y);\r\n        this.offset = new Point(0, 0);\r\n        this.radius = radius;\r\n        this.cropperSettings = settings;\r\n    }\r\n    setDrag(value) {\r\n        this.drag = value;\r\n        this.setOver(value);\r\n    }\r\n    draw(ctx) {\r\n        // this should't be empty\r\n    }\r\n    setOver(over) {\r\n        this.over = over;\r\n    }\r\n    touchInBounds(x, y) {\r\n        return (x > this.position.x - this.radius + this.offset.x &&\r\n            x < this.position.x + this.radius + this.offset.x &&\r\n            y > this.position.y - this.radius + this.offset.y &&\r\n            y < this.position.y + this.radius + this.offset.y);\r\n    }\r\n    get position() {\r\n        return this._position;\r\n    }\r\n    setPosition(x, y) {\r\n        this._position.x = x;\r\n        this._position.y = y;\r\n    }\r\n}\n\nclass CornerMarker extends Handle {\r\n    constructor(x, y, radius, cropperSettings) {\r\n        super(x, y, radius, cropperSettings);\r\n    }\r\n    drawCornerBorder(ctx) {\r\n        let sideLength = 10;\r\n        if (this.over || this.drag) {\r\n            sideLength = 12;\r\n        }\r\n        let hDirection = this.cropperSettings.markerSizeMultiplier;\r\n        let vDirection = this.cropperSettings.markerSizeMultiplier;\r\n        if (this.horizontalNeighbour.position.x < this.position.x) {\r\n            hDirection = -this.cropperSettings.markerSizeMultiplier;\r\n        }\r\n        if (this.verticalNeighbour.position.y < this.position.y) {\r\n            vDirection = -this.cropperSettings.markerSizeMultiplier;\r\n        }\r\n        ctx.beginPath();\r\n        if (this.cropperSettings.cropperDrawSettings.lineDash) {\r\n            ctx.setLineDash([1, 3]);\r\n        }\r\n        ctx.lineJoin = 'miter';\r\n        ctx.moveTo(this.position.x + this.offset.x, this.position.y + this.offset.y);\r\n        ctx.lineTo(this.position.x + this.offset.x + sideLength * hDirection, this.position.y + this.offset.y);\r\n        ctx.lineTo(this.position.x + this.offset.x + sideLength * hDirection, this.position.y + this.offset.y + sideLength * vDirection);\r\n        ctx.lineTo(this.position.x + this.offset.x, this.position.y + this.offset.y + sideLength * vDirection);\r\n        ctx.lineTo(this.position.x + this.offset.x, this.position.y + this.offset.y);\r\n        ctx.closePath();\r\n        ctx.lineWidth = this.cropperSettings.cropperDrawSettings.strokeWidth;\r\n        ctx.strokeStyle =\r\n            this.cropperSettings.cropperDrawSettings.strokeColor ||\r\n                'rgba(255,255,255,.7)';\r\n        ctx.stroke();\r\n    }\r\n    drawCornerFill(ctx) {\r\n        let sideLength = 10;\r\n        if (this.over || this.drag) {\r\n            sideLength = 12;\r\n        }\r\n        let hDirection = this.cropperSettings.markerSizeMultiplier;\r\n        let vDirection = this.cropperSettings.markerSizeMultiplier;\r\n        if (this.horizontalNeighbour.position.x < this.position.x) {\r\n            hDirection = -this.cropperSettings.markerSizeMultiplier;\r\n        }\r\n        if (this.verticalNeighbour.position.y < this.position.y) {\r\n            vDirection = -this.cropperSettings.markerSizeMultiplier;\r\n        }\r\n        if (this.cropperSettings.rounded) {\r\n            const width = this.position.x - this.horizontalNeighbour.position.x;\r\n            const height = this.position.y - this.verticalNeighbour.position.y;\r\n            const offX = Math.round(Math.sin(Math.PI / 2) * Math.abs(width / 2)) / 4;\r\n            const offY = Math.round(Math.sin(Math.PI / 2) * Math.abs(height / 2)) / 4;\r\n            this.offset.x = hDirection > 0 ? offX : -offX;\r\n            this.offset.y = vDirection > 0 ? offY : -offY;\r\n        }\r\n        else {\r\n            this.offset.x = 0;\r\n            this.offset.y = 0;\r\n        }\r\n        ctx.beginPath();\r\n        if (this.cropperSettings.cropperDrawSettings.lineDash) {\r\n            ctx.setLineDash([1, 3]);\r\n        }\r\n        ctx.moveTo(this.position.x + this.offset.x, this.position.y + this.offset.y);\r\n        ctx.lineTo(this.position.x + this.offset.x + sideLength * hDirection, this.position.y + this.offset.y);\r\n        ctx.lineTo(this.position.x + this.offset.x + sideLength * hDirection, this.position.y + this.offset.y + sideLength * vDirection);\r\n        ctx.lineTo(this.position.x + this.offset.x, this.position.y + this.offset.y + sideLength * vDirection);\r\n        ctx.lineTo(this.position.x + this.offset.x, this.position.y + this.offset.y);\r\n        ctx.closePath();\r\n        ctx.fillStyle =\r\n            this.cropperSettings.cropperDrawSettings.fillColor ||\r\n                'rgba(255,255,255,.7)';\r\n        ctx.fill();\r\n    }\r\n    moveX(x) {\r\n        this.setPosition(x, this.position.y);\r\n    }\r\n    moveY(y) {\r\n        this.setPosition(this.position.x, y);\r\n    }\r\n    move(x, y) {\r\n        this.setPosition(x, y);\r\n        this.verticalNeighbour.moveX(x);\r\n        this.horizontalNeighbour.moveY(y);\r\n    }\r\n    addHorizontalNeighbour(neighbour) {\r\n        this.horizontalNeighbour = neighbour;\r\n    }\r\n    addVerticalNeighbour(neighbour) {\r\n        this.verticalNeighbour = neighbour;\r\n    }\r\n    getHorizontalNeighbour() {\r\n        return this.horizontalNeighbour;\r\n    }\r\n    getVerticalNeighbour() {\r\n        return this.verticalNeighbour;\r\n    }\r\n    draw(ctx) {\r\n        this.drawCornerFill(ctx);\r\n        this.drawCornerBorder(ctx);\r\n    }\r\n}\n\nclass CropTouch {\r\n    constructor(x = 0, y = 0, id = 0) {\r\n        this.id = id;\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n}\n\nclass DragMarker extends Handle {\r\n    constructor(x, y, radius, cropperSettings) {\r\n        super(x, y, radius, cropperSettings);\r\n        this.iconPoints = [];\r\n        this.scaledIconPoints = [];\r\n        this.getDragIconPoints(this.iconPoints, 1);\r\n        this.getDragIconPoints(this.scaledIconPoints, 1.2);\r\n    }\r\n    draw(ctx) {\r\n        if (this.over || this.drag) {\r\n            this.drawIcon(ctx, this.scaledIconPoints);\r\n        }\r\n        else {\r\n            this.drawIcon(ctx, this.iconPoints);\r\n        }\r\n    }\r\n    getDragIconPoints(arr, scale) {\r\n        const maxLength = 17 * scale;\r\n        const arrowWidth = 14 * scale;\r\n        const arrowLength = 8 * scale;\r\n        const connectorThroat = 4 * scale;\r\n        arr.push(new PointPool().instance.borrow(-connectorThroat / 2, maxLength - arrowLength));\r\n        arr.push(new PointPool().instance.borrow(-arrowWidth / 2, maxLength - arrowLength));\r\n        arr.push(new PointPool().instance.borrow(0, maxLength));\r\n        arr.push(new PointPool().instance.borrow(arrowWidth / 2, maxLength - arrowLength));\r\n        arr.push(new PointPool().instance.borrow(connectorThroat / 2, maxLength - arrowLength));\r\n        arr.push(new PointPool().instance.borrow(connectorThroat / 2, connectorThroat / 2));\r\n        arr.push(new PointPool().instance.borrow(maxLength - arrowLength, connectorThroat / 2));\r\n        arr.push(new PointPool().instance.borrow(maxLength - arrowLength, arrowWidth / 2));\r\n        arr.push(new PointPool().instance.borrow(maxLength, 0));\r\n        arr.push(new PointPool().instance.borrow(maxLength - arrowLength, -arrowWidth / 2));\r\n        arr.push(new PointPool().instance.borrow(maxLength - arrowLength, -connectorThroat / 2));\r\n        arr.push(new PointPool().instance.borrow(connectorThroat / 2, -connectorThroat / 2));\r\n        arr.push(new PointPool().instance.borrow(connectorThroat / 2, -maxLength + arrowLength));\r\n        arr.push(new PointPool().instance.borrow(arrowWidth / 2, -maxLength + arrowLength));\r\n        arr.push(new PointPool().instance.borrow(0, -maxLength));\r\n        arr.push(new PointPool().instance.borrow(-arrowWidth / 2, -maxLength + arrowLength));\r\n        arr.push(new PointPool().instance.borrow(-connectorThroat / 2, -maxLength + arrowLength));\r\n        arr.push(new PointPool().instance.borrow(-connectorThroat / 2, -connectorThroat / 2));\r\n        arr.push(new PointPool().instance.borrow(-maxLength + arrowLength, -connectorThroat / 2));\r\n        arr.push(new PointPool().instance.borrow(-maxLength + arrowLength, -arrowWidth / 2));\r\n        arr.push(new PointPool().instance.borrow(-maxLength, 0));\r\n        arr.push(new PointPool().instance.borrow(-maxLength + arrowLength, arrowWidth / 2));\r\n        arr.push(new PointPool().instance.borrow(-maxLength + arrowLength, connectorThroat / 2));\r\n        arr.push(new PointPool().instance.borrow(-connectorThroat / 2, connectorThroat / 2));\r\n    }\r\n    drawIcon(ctx, points) {\r\n        if (this.cropperSettings.showCenterMarker) {\r\n            ctx.beginPath();\r\n            ctx.moveTo(points[0].x + this.position.x, points[0].y + this.position.y);\r\n            for (const p of points) {\r\n                ctx.lineTo(p.x + this.position.x, p.y + this.position.y);\r\n            }\r\n            ctx.closePath();\r\n            ctx.fillStyle = this.cropperSettings.cropperDrawSettings.dragIconFillColor;\r\n            ctx.fill();\r\n            ctx.lineWidth = this.cropperSettings.cropperDrawSettings.dragIconStrokeWidth;\r\n            ctx.strokeStyle = this.cropperSettings.cropperDrawSettings.dragIconStrokeColor;\r\n            ctx.stroke();\r\n        }\r\n    }\r\n    recalculatePosition(bounds) {\r\n        const c = bounds.getCentre();\r\n        this.setPosition(c.x, c.y);\r\n        new PointPool().instance.returnPoint(c);\r\n    }\r\n}\n\nclass ImageCropperModel {\r\n}\n\nclass ImageCropperDataShare {\r\n    constructor() {\r\n        this.share = {};\r\n    }\r\n    setPressed(canvas) {\r\n        this.pressed = canvas;\r\n    }\r\n    setReleased(canvas) {\r\n        if (canvas === this.pressed) {\r\n            //  this.pressed = undefined;\r\n        }\r\n    }\r\n    setOver(canvas) {\r\n        this.over = canvas;\r\n    }\r\n    setStyle(canvas, style) {\r\n        if (this.pressed !== undefined) {\r\n            if (this.pressed === canvas) {\r\n                // TODO: check this\r\n                // angular.element(document.documentElement).css('cursor', style);\r\n            }\r\n        }\r\n        else {\r\n            if (canvas === this.over) {\r\n                // TODO: check this\r\n                // angular.element(document.documentElement).css('cursor', style);\r\n            }\r\n        }\r\n    }\r\n}\n\nclass ImageCropper extends ImageCropperModel {\r\n    constructor(cropperSettings) {\r\n        super();\r\n        this.imageCropperDataShare = new ImageCropperDataShare();\r\n        const x = 0;\r\n        const y = 0;\r\n        const width = cropperSettings.width;\r\n        const height = cropperSettings.height;\r\n        const keepAspect = cropperSettings.keepAspect;\r\n        const touchRadius = cropperSettings.touchRadius;\r\n        const centerTouchRadius = cropperSettings.centerTouchRadius;\r\n        const minWidth = cropperSettings.minWidth;\r\n        const minHeight = cropperSettings.minHeight;\r\n        const croppedWidth = cropperSettings.croppedWidth;\r\n        const croppedHeight = cropperSettings.croppedHeight;\r\n        this.cropperSettings = cropperSettings;\r\n        this.crop = this;\r\n        this.x = x;\r\n        this.y = y;\r\n        this.canvasHeight = cropperSettings.canvasHeight;\r\n        this.canvasWidth = cropperSettings.canvasWidth;\r\n        this.width = width;\r\n        if (width === void 0) {\r\n            this.width = 100;\r\n        }\r\n        this.height = height;\r\n        if (height === void 0) {\r\n            this.height = 50;\r\n        }\r\n        this.keepAspect = keepAspect;\r\n        if (keepAspect === void 0) {\r\n            this.keepAspect = true;\r\n        }\r\n        this.touchRadius = touchRadius;\r\n        if (touchRadius === void 0) {\r\n            this.touchRadius = 20;\r\n        }\r\n        this.minWidth = minWidth;\r\n        this.minHeight = minHeight;\r\n        this.aspectRatio = 0;\r\n        this.currentDragTouches = [];\r\n        this.isMouseDown = false;\r\n        this.ratioW = 1;\r\n        this.ratioH = 1;\r\n        this.fileType = cropperSettings.fileType;\r\n        this.imageSet = false;\r\n        this.pointPool = new PointPool(200);\r\n        this.tl = new CornerMarker(x, y, touchRadius, this.cropperSettings);\r\n        this.tr = new CornerMarker(x + width, y, touchRadius, this.cropperSettings);\r\n        this.bl = new CornerMarker(x, y + height, touchRadius, this.cropperSettings);\r\n        this.br = new CornerMarker(x + width, y + height, touchRadius, this.cropperSettings);\r\n        this.tl.addHorizontalNeighbour(this.tr);\r\n        this.tl.addVerticalNeighbour(this.bl);\r\n        this.tr.addHorizontalNeighbour(this.tl);\r\n        this.tr.addVerticalNeighbour(this.br);\r\n        this.bl.addHorizontalNeighbour(this.br);\r\n        this.bl.addVerticalNeighbour(this.tl);\r\n        this.br.addHorizontalNeighbour(this.bl);\r\n        this.br.addVerticalNeighbour(this.tr);\r\n        this.markers = [this.tl, this.tr, this.bl, this.br];\r\n        this.center = new DragMarker(x + width / 2, y + height / 2, centerTouchRadius, this.cropperSettings);\r\n        this.aspectRatio = height / width;\r\n        this.croppedImage = new Image();\r\n        this.currentlyInteracting = false;\r\n        this.cropWidth = croppedWidth;\r\n        this.cropHeight = croppedHeight;\r\n    }\r\n    sign(x) {\r\n        if (+x === x) {\r\n            return x === 0 ? x : x > 0 ? 1 : -1;\r\n        }\r\n        return NaN;\r\n    }\r\n    getMousePos(canvas, evt) {\r\n        const rect = canvas.getBoundingClientRect();\r\n        return new PointPool().instance.borrow(evt.clientX - rect.left, evt.clientY - rect.top);\r\n    }\r\n    getTouchPos(canvas, touch) {\r\n        const rect = canvas.getBoundingClientRect();\r\n        return new PointPool().instance.borrow(touch.clientX - rect.left, touch.clientY - rect.top);\r\n    }\r\n    detectVerticalSquash(img) {\r\n        const ih = img.height;\r\n        const canvas = document.createElement('canvas');\r\n        canvas.width = 1;\r\n        canvas.height = ih;\r\n        const ctx = canvas.getContext('2d');\r\n        ctx.drawImage(img, 0, 0);\r\n        const imageData = ctx.getImageData(0, 0, 1, ih);\r\n        if (imageData) {\r\n            const data = imageData.data;\r\n            // search image edge pixel position in case it is squashed vertically.\r\n            let sy = 0;\r\n            let ey = ih;\r\n            let py = ih;\r\n            while (py > sy) {\r\n                const alpha = data[(py - 1) * 4 + 3];\r\n                if (alpha === 0) {\r\n                    ey = py;\r\n                }\r\n                else {\r\n                    sy = py;\r\n                }\r\n                // tslint:disable-next-line:no-bitwise\r\n                py = (ey + sy) >> 1;\r\n            }\r\n            const ratio = py / ih;\r\n            return ratio === 0 ? 1 : ratio;\r\n        }\r\n        else {\r\n            return 1;\r\n        }\r\n    }\r\n    getDataUriMimeType(dataUri) {\r\n        // Get a substring because the regex does not perform well on very large strings.\r\n        // Cater for optional charset. Length 50 shoould be enough.\r\n        const dataUriSubstring = dataUri.substring(0, 50);\r\n        let mimeType = 'image/png';\r\n        // data-uri scheme\r\n        // data:[<media type>][;charset=<character set>][;base64],<data>\r\n        const regEx = RegExp(/^(data:)([\\w\\/\\+]+);(charset=[\\w-]+|base64).*,(.*)/gi);\r\n        const matches = regEx.exec(dataUriSubstring);\r\n        if (matches && matches[2]) {\r\n            mimeType = matches[2];\r\n            if (mimeType === 'image/jpg') {\r\n                mimeType = 'image/jpeg';\r\n            }\r\n        }\r\n        return mimeType;\r\n    }\r\n    prepare(canvas) {\r\n        this.buffer = document.createElement('canvas');\r\n        this.cropCanvas = document.createElement('canvas');\r\n        // todo get more reliable parent width value.\r\n        const responsiveWidth = canvas.parentElement\r\n            ? canvas.parentElement.clientWidth\r\n            : 0;\r\n        if (responsiveWidth > 0 && this.cropperSettings.dynamicSizing) {\r\n            this.cropCanvas.width = responsiveWidth;\r\n            this.buffer.width = responsiveWidth;\r\n            canvas.width = responsiveWidth;\r\n        }\r\n        else {\r\n            this.cropCanvas.width = this.cropWidth;\r\n            this.buffer.width = canvas.width;\r\n        }\r\n        this.cropCanvas.height = this.cropHeight;\r\n        this.buffer.height = canvas.height;\r\n        this.canvas = canvas;\r\n        this.ctx = this.canvas.getContext('2d');\r\n        this.draw(this.ctx);\r\n    }\r\n    updateSettings(cropperSettings) {\r\n        this.cropperSettings = cropperSettings;\r\n    }\r\n    resizeCanvas(width, height, setImage = false) {\r\n        this.canvas.width = this.cropCanvas.width = this.width = this.canvasWidth = this.buffer.width = width;\r\n        this.canvas.height = this.cropCanvas.height = this.height = this.canvasHeight = this.buffer.height = height;\r\n        if (setImage) {\r\n            this.setImage(this.srcImage);\r\n        }\r\n    }\r\n    reset() {\r\n        this.setImage(undefined);\r\n    }\r\n    draw(ctx) {\r\n        const bounds = this.getBounds();\r\n        if (this.srcImage) {\r\n            ctx.clearRect(0, 0, this.canvasWidth, this.canvasHeight);\r\n            const sourceAspect = this.srcImage.height / this.srcImage.width;\r\n            const canvasAspect = this.canvasHeight / this.canvasWidth;\r\n            let w = this.canvasWidth;\r\n            let h = this.canvasHeight;\r\n            if (canvasAspect > sourceAspect) {\r\n                w = this.canvasWidth;\r\n                h = this.canvasWidth * sourceAspect;\r\n            }\r\n            else {\r\n                h = this.canvasHeight;\r\n                w = this.canvasHeight / sourceAspect;\r\n            }\r\n            this.ratioW = w / this.srcImage.width;\r\n            this.ratioH = h / this.srcImage.height;\r\n            if (canvasAspect < sourceAspect) {\r\n                this.drawImageIOSFix(ctx, this.srcImage, 0, 0, this.srcImage.width, this.srcImage.height, this.buffer.width / 2 - w / 2, 0, w, h);\r\n            }\r\n            else {\r\n                this.drawImageIOSFix(ctx, this.srcImage, 0, 0, this.srcImage.width, this.srcImage.height, 0, this.buffer.height / 2 - h / 2, w, h);\r\n            }\r\n            this.buffer.getContext('2d').drawImage(this.canvas, 0, 0, this.canvasWidth, this.canvasHeight);\r\n            ctx.lineWidth = this.cropperSettings.cropperDrawSettings.strokeWidth;\r\n            ctx.strokeStyle = this.cropperSettings.cropperDrawSettings.strokeColor;\r\n            ctx.fillStyle = this.cropperSettings.cropperDrawSettings.backgroundFillColor;\r\n            if (!this.cropperSettings.rounded) {\r\n                ctx.fillRect(0, 0, this.canvasWidth, this.canvasHeight);\r\n                ctx.drawImage(this.buffer, bounds.left, bounds.top, Math.max(bounds.width, 1), Math.max(bounds.height, 1), bounds.left, bounds.top, bounds.width, bounds.height);\r\n                ctx.strokeRect(bounds.left, bounds.top, bounds.width, bounds.height);\r\n            }\r\n            else {\r\n                ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n                ctx.save();\r\n                ctx.beginPath();\r\n                ctx.arc(bounds.left + bounds.width / 2, bounds.top + bounds.height / 2, bounds.width / 2, 0, 2 * Math.PI);\r\n                ctx.stroke();\r\n                ctx.clip();\r\n                if (canvasAspect < sourceAspect) {\r\n                    this.drawImageIOSFix(ctx, this.srcImage, 0, 0, this.srcImage.width, this.srcImage.height, this.buffer.width / 2 - w / 2, 0, w, h);\r\n                }\r\n                else {\r\n                    this.drawImageIOSFix(ctx, this.srcImage, 0, 0, this.srcImage.width, this.srcImage.height, 0, this.buffer.height / 2 - h / 2, w, h);\r\n                }\r\n                ctx.restore();\r\n            }\r\n            let marker;\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < this.markers.length; i++) {\r\n                marker = this.markers[i];\r\n                marker.draw(ctx);\r\n            }\r\n            this.center.draw(ctx);\r\n        }\r\n        else {\r\n            ctx.fillStyle = 'rgba(192,192,192,1)';\r\n            ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n        }\r\n    }\r\n    dragCenter(x, y, marker) {\r\n        const bounds = this.getBounds();\r\n        const left = x - bounds.width / 2;\r\n        const right = x + bounds.width / 2;\r\n        const top = y - bounds.height / 2;\r\n        const bottom = y + bounds.height / 2;\r\n        if (right >= this.maxXClamp) {\r\n            x = this.maxXClamp - bounds.width / 2;\r\n        }\r\n        if (left <= this.minXClamp) {\r\n            x = bounds.width / 2 + this.minXClamp;\r\n        }\r\n        if (top < this.minYClamp) {\r\n            y = bounds.height / 2 + this.minYClamp;\r\n        }\r\n        if (bottom >= this.maxYClamp) {\r\n            y = this.maxYClamp - bounds.height / 2;\r\n        }\r\n        this.tl.moveX(x - bounds.width / 2);\r\n        this.tl.moveY(y - bounds.height / 2);\r\n        this.tr.moveX(x + bounds.width / 2);\r\n        this.tr.moveY(y - bounds.height / 2);\r\n        this.bl.moveX(x - bounds.width / 2);\r\n        this.bl.moveY(y + bounds.height / 2);\r\n        this.br.moveX(x + bounds.width / 2);\r\n        this.br.moveY(y + bounds.height / 2);\r\n        marker.setPosition(x, y);\r\n    }\r\n    enforceMinSize(x, y, marker) {\r\n        const xLength = x - marker.getHorizontalNeighbour().position.x;\r\n        const yLength = y - marker.getVerticalNeighbour().position.y;\r\n        const xOver = this.minWidth - Math.abs(xLength);\r\n        const yOver = this.minHeight - Math.abs(yLength);\r\n        if (xLength === 0 || yLength === 0) {\r\n            x = marker.position.x;\r\n            y = marker.position.y;\r\n            return new PointPool().instance.borrow(x, y);\r\n        }\r\n        if (this.keepAspect) {\r\n            if (xOver > 0 && yOver / this.aspectRatio > 0) {\r\n                if (xOver > yOver / this.aspectRatio) {\r\n                    if (xLength < 0) {\r\n                        x -= xOver;\r\n                        if (yLength < 0) {\r\n                            y -= xOver * this.aspectRatio;\r\n                        }\r\n                        else {\r\n                            y += xOver * this.aspectRatio;\r\n                        }\r\n                    }\r\n                    else {\r\n                        x += xOver;\r\n                        if (yLength < 0) {\r\n                            y -= xOver * this.aspectRatio;\r\n                        }\r\n                        else {\r\n                            y += xOver * this.aspectRatio;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (yLength < 0) {\r\n                        y -= yOver;\r\n                        if (xLength < 0) {\r\n                            x -= yOver / this.aspectRatio;\r\n                        }\r\n                        else {\r\n                            x += yOver / this.aspectRatio;\r\n                        }\r\n                    }\r\n                    else {\r\n                        y += yOver;\r\n                        if (xLength < 0) {\r\n                            x -= yOver / this.aspectRatio;\r\n                        }\r\n                        else {\r\n                            x += yOver / this.aspectRatio;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (xOver > 0) {\r\n                    if (xLength < 0) {\r\n                        x -= xOver;\r\n                        if (yLength < 0) {\r\n                            y -= xOver * this.aspectRatio;\r\n                        }\r\n                        else {\r\n                            y += xOver * this.aspectRatio;\r\n                        }\r\n                    }\r\n                    else {\r\n                        x += xOver;\r\n                        if (yLength < 0) {\r\n                            y -= xOver * this.aspectRatio;\r\n                        }\r\n                        else {\r\n                            y += xOver * this.aspectRatio;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (yOver > 0) {\r\n                        if (yLength < 0) {\r\n                            y -= yOver;\r\n                            if (xLength < 0) {\r\n                                x -= yOver / this.aspectRatio;\r\n                            }\r\n                            else {\r\n                                x += yOver / this.aspectRatio;\r\n                            }\r\n                        }\r\n                        else {\r\n                            y += yOver;\r\n                            if (xLength < 0) {\r\n                                x -= yOver / this.aspectRatio;\r\n                            }\r\n                            else {\r\n                                x += yOver / this.aspectRatio;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if (xOver > 0) {\r\n                if (xLength < 0) {\r\n                    x -= xOver;\r\n                }\r\n                else {\r\n                    x += xOver;\r\n                }\r\n            }\r\n            if (yOver > 0) {\r\n                if (yLength < 0) {\r\n                    y -= yOver;\r\n                }\r\n                else {\r\n                    y += yOver;\r\n                }\r\n            }\r\n        }\r\n        if (x < this.minXClamp ||\r\n            x > this.maxXClamp ||\r\n            y < this.minYClamp ||\r\n            y > this.maxYClamp) {\r\n            x = marker.position.x;\r\n            y = marker.position.y;\r\n        }\r\n        return new PointPool().instance.borrow(x, y);\r\n    }\r\n    dragCorner(x, y, marker) {\r\n        let iX = 0;\r\n        let iY = 0;\r\n        let ax = 0;\r\n        let ay = 0;\r\n        let newHeight = 0;\r\n        let newWidth = 0;\r\n        let newY = 0;\r\n        let newX = 0;\r\n        let anchorMarker;\r\n        let fold = 0;\r\n        if (this.keepAspect) {\r\n            anchorMarker = marker.getHorizontalNeighbour().getVerticalNeighbour();\r\n            ax = anchorMarker.position.x;\r\n            ay = anchorMarker.position.y;\r\n            if (x <= anchorMarker.position.x) {\r\n                if (y <= anchorMarker.position.y) {\r\n                    iX = ax - 100 / this.aspectRatio;\r\n                    iY = ay - (100 / this.aspectRatio) * this.aspectRatio;\r\n                    fold = this.getSide(new PointPool().instance.borrow(iX, iY), anchorMarker.position, new PointPool().instance.borrow(x, y));\r\n                    if (fold > 0) {\r\n                        newHeight = Math.abs(anchorMarker.position.y - y);\r\n                        newWidth = newHeight / this.aspectRatio;\r\n                        newY = anchorMarker.position.y - newHeight;\r\n                        newX = anchorMarker.position.x - newWidth;\r\n                        const min = this.enforceMinSize(newX, newY, marker);\r\n                        marker.move(min.x, min.y);\r\n                        new PointPool().instance.returnPoint(min);\r\n                    }\r\n                    else {\r\n                        if (fold < 0) {\r\n                            newWidth = Math.abs(anchorMarker.position.x - x);\r\n                            newHeight = newWidth * this.aspectRatio;\r\n                            newY = anchorMarker.position.y - newHeight;\r\n                            newX = anchorMarker.position.x - newWidth;\r\n                            const min = this.enforceMinSize(newX, newY, marker);\r\n                            marker.move(min.x, min.y);\r\n                            new PointPool().instance.returnPoint(min);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    iX = ax - 100 / this.aspectRatio;\r\n                    iY = ay + (100 / this.aspectRatio) * this.aspectRatio;\r\n                    fold = this.getSide(new PointPool().instance.borrow(iX, iY), anchorMarker.position, new PointPool().instance.borrow(x, y));\r\n                    if (fold > 0) {\r\n                        newWidth = Math.abs(anchorMarker.position.x - x);\r\n                        newHeight = newWidth * this.aspectRatio;\r\n                        newY = anchorMarker.position.y + newHeight;\r\n                        newX = anchorMarker.position.x - newWidth;\r\n                        const min = this.enforceMinSize(newX, newY, marker);\r\n                        marker.move(min.x, min.y);\r\n                        new PointPool().instance.returnPoint(min);\r\n                    }\r\n                    else {\r\n                        if (fold < 0) {\r\n                            newHeight = Math.abs(anchorMarker.position.y - y);\r\n                            newWidth = newHeight / this.aspectRatio;\r\n                            newY = anchorMarker.position.y + newHeight;\r\n                            newX = anchorMarker.position.x - newWidth;\r\n                            const min = this.enforceMinSize(newX, newY, marker);\r\n                            marker.move(min.x, min.y);\r\n                            new PointPool().instance.returnPoint(min);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (y <= anchorMarker.position.y) {\r\n                    iX = ax + 100 / this.aspectRatio;\r\n                    iY = ay - (100 / this.aspectRatio) * this.aspectRatio;\r\n                    fold = this.getSide(new PointPool().instance.borrow(iX, iY), anchorMarker.position, new PointPool().instance.borrow(x, y));\r\n                    if (fold < 0) {\r\n                        newHeight = Math.abs(anchorMarker.position.y - y);\r\n                        newWidth = newHeight / this.aspectRatio;\r\n                        newY = anchorMarker.position.y - newHeight;\r\n                        newX = anchorMarker.position.x + newWidth;\r\n                        const min = this.enforceMinSize(newX, newY, marker);\r\n                        marker.move(min.x, min.y);\r\n                        new PointPool().instance.returnPoint(min);\r\n                    }\r\n                    else {\r\n                        if (fold > 0) {\r\n                            newWidth = Math.abs(anchorMarker.position.x - x);\r\n                            newHeight = newWidth * this.aspectRatio;\r\n                            newY = anchorMarker.position.y - newHeight;\r\n                            newX = anchorMarker.position.x + newWidth;\r\n                            const min = this.enforceMinSize(newX, newY, marker);\r\n                            marker.move(min.x, min.y);\r\n                            new PointPool().instance.returnPoint(min);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    iX = ax + 100 / this.aspectRatio;\r\n                    iY = ay + (100 / this.aspectRatio) * this.aspectRatio;\r\n                    fold = this.getSide(new PointPool().instance.borrow(iX, iY), anchorMarker.position, new PointPool().instance.borrow(x, y));\r\n                    if (fold < 0) {\r\n                        newWidth = Math.abs(anchorMarker.position.x - x);\r\n                        newHeight = newWidth * this.aspectRatio;\r\n                        newY = anchorMarker.position.y + newHeight;\r\n                        newX = anchorMarker.position.x + newWidth;\r\n                        const min = this.enforceMinSize(newX, newY, marker);\r\n                        marker.move(min.x, min.y);\r\n                        new PointPool().instance.returnPoint(min);\r\n                    }\r\n                    else {\r\n                        if (fold > 0) {\r\n                            newHeight = Math.abs(anchorMarker.position.y - y);\r\n                            newWidth = newHeight / this.aspectRatio;\r\n                            newY = anchorMarker.position.y + newHeight;\r\n                            newX = anchorMarker.position.x + newWidth;\r\n                            const min = this.enforceMinSize(newX, newY, marker);\r\n                            marker.move(min.x, min.y);\r\n                            new PointPool().instance.returnPoint(min);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            const min = this.enforceMinSize(x, y, marker);\r\n            marker.move(min.x, min.y);\r\n            new PointPool().instance.returnPoint(min);\r\n        }\r\n        this.center.recalculatePosition(this.getBounds());\r\n    }\r\n    getSide(a, b, c) {\r\n        const n = this.sign((b.x - a.x) * (c.y - a.y) - (b.y - a.y) * (c.x - a.x));\r\n        // TODO move the return of the pools to outside of this function\r\n        new PointPool().instance.returnPoint(a);\r\n        new PointPool().instance.returnPoint(c);\r\n        return n;\r\n    }\r\n    handleRelease(newCropTouch) {\r\n        if (newCropTouch == null) {\r\n            return;\r\n        }\r\n        let index = 0;\r\n        for (let k = 0; k < this.currentDragTouches.length; k++) {\r\n            if (newCropTouch.id === this.currentDragTouches[k].id) {\r\n                this.currentDragTouches[k].dragHandle.setDrag(false);\r\n                index = k;\r\n            }\r\n        }\r\n        this.currentDragTouches.splice(index, 1);\r\n        this.draw(this.ctx);\r\n    }\r\n    handleMove(newCropTouch) {\r\n        let matched = false;\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let k = 0; k < this.currentDragTouches.length; k++) {\r\n            if (newCropTouch.id === this.currentDragTouches[k].id &&\r\n                this.currentDragTouches[k].dragHandle != null) {\r\n                const dragTouch = this.currentDragTouches[k];\r\n                const clampedPositions = this.clampPosition(newCropTouch.x - dragTouch.dragHandle.offset.x, newCropTouch.y - dragTouch.dragHandle.offset.y);\r\n                newCropTouch.x = clampedPositions.x;\r\n                newCropTouch.y = clampedPositions.y;\r\n                new PointPool().instance.returnPoint(clampedPositions);\r\n                if (dragTouch.dragHandle instanceof CornerMarker) {\r\n                    this.dragCorner(newCropTouch.x, newCropTouch.y, dragTouch.dragHandle);\r\n                }\r\n                else {\r\n                    this.dragCenter(newCropTouch.x, newCropTouch.y, dragTouch.dragHandle);\r\n                }\r\n                this.currentlyInteracting = true;\r\n                matched = true;\r\n                this.imageCropperDataShare.setPressed(this.canvas);\r\n                break;\r\n            }\r\n        }\r\n        if (!matched) {\r\n            for (const marker of this.markers) {\r\n                if (marker.touchInBounds(newCropTouch.x, newCropTouch.y)) {\r\n                    newCropTouch.dragHandle = marker;\r\n                    this.currentDragTouches.push(newCropTouch);\r\n                    marker.setDrag(true);\r\n                    newCropTouch.dragHandle.offset.x =\r\n                        newCropTouch.x - newCropTouch.dragHandle.position.x;\r\n                    newCropTouch.dragHandle.offset.y =\r\n                        newCropTouch.y - newCropTouch.dragHandle.position.y;\r\n                    this.dragCorner(newCropTouch.x - newCropTouch.dragHandle.offset.x, newCropTouch.y - newCropTouch.dragHandle.offset.y, newCropTouch.dragHandle);\r\n                    break;\r\n                }\r\n            }\r\n            if (newCropTouch.dragHandle === null ||\r\n                typeof newCropTouch.dragHandle === 'undefined') {\r\n                if (this.center.touchInBounds(newCropTouch.x, newCropTouch.y)) {\r\n                    newCropTouch.dragHandle = this.center;\r\n                    this.currentDragTouches.push(newCropTouch);\r\n                    newCropTouch.dragHandle.setDrag(true);\r\n                    newCropTouch.dragHandle.offset.x =\r\n                        newCropTouch.x - newCropTouch.dragHandle.position.x;\r\n                    newCropTouch.dragHandle.offset.y =\r\n                        newCropTouch.y - newCropTouch.dragHandle.position.y;\r\n                    this.dragCenter(newCropTouch.x - newCropTouch.dragHandle.offset.x, newCropTouch.y - newCropTouch.dragHandle.offset.y, newCropTouch.dragHandle);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    updateClampBounds() {\r\n        const sourceAspect = this.srcImage.height / this.srcImage.width;\r\n        const canvasAspect = this.canvas.height / this.canvas.width;\r\n        let w = this.canvas.width;\r\n        let h = this.canvas.height;\r\n        if (canvasAspect > sourceAspect) {\r\n            w = this.canvas.width;\r\n            h = this.canvas.width * sourceAspect;\r\n        }\r\n        else {\r\n            h = this.canvas.height;\r\n            w = this.canvas.height / sourceAspect;\r\n        }\r\n        this.minXClamp = this.canvas.width / 2 - w / 2;\r\n        this.minYClamp = this.canvas.height / 2 - h / 2;\r\n        this.maxXClamp = this.canvas.width / 2 + w / 2;\r\n        this.maxYClamp = this.canvas.height / 2 + h / 2;\r\n    }\r\n    getCropBounds() {\r\n        const bounds = this.getBounds();\r\n        bounds.top = Math.round((bounds.top - this.minYClamp) / this.ratioH);\r\n        bounds.bottom = Math.round((bounds.bottom - this.minYClamp) / this.ratioH);\r\n        bounds.left = Math.round((bounds.left - this.minXClamp) / this.ratioW);\r\n        bounds.right = Math.round((bounds.right - this.minXClamp) / this.ratioW);\r\n        return bounds;\r\n    }\r\n    clampPosition(x, y) {\r\n        if (x < this.minXClamp) {\r\n            x = this.minXClamp;\r\n        }\r\n        if (x > this.maxXClamp) {\r\n            x = this.maxXClamp;\r\n        }\r\n        if (y < this.minYClamp) {\r\n            y = this.minYClamp;\r\n        }\r\n        if (y > this.maxYClamp) {\r\n            y = this.maxYClamp;\r\n        }\r\n        return new PointPool().instance.borrow(x, y);\r\n    }\r\n    isImageSet() {\r\n        return this.imageSet;\r\n    }\r\n    setImage(img) {\r\n        this.srcImage = img;\r\n        if (!img) {\r\n            this.imageSet = false;\r\n            this.draw(this.ctx);\r\n        }\r\n        else {\r\n            this.imageSet = true;\r\n            this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n            const bufferContext = this.buffer.getContext('2d');\r\n            bufferContext.clearRect(0, 0, this.buffer.width, this.buffer.height);\r\n            if (!this.cropperSettings.fileType) {\r\n                this.fileType = this.getDataUriMimeType(img.src);\r\n            }\r\n            if (this.cropperSettings.minWithRelativeToResolution) {\r\n                this.minWidth =\r\n                    (this.canvas.width * this.cropperSettings.minWidth) /\r\n                        this.srcImage.width;\r\n                this.minHeight =\r\n                    (this.canvas.height * this.cropperSettings.minHeight) /\r\n                        this.srcImage.height;\r\n            }\r\n            this.updateClampBounds();\r\n            this.canvasWidth = this.canvas.width;\r\n            this.canvasHeight = this.canvas.height;\r\n            const cropPosition = this.getCropPositionFromMarkers();\r\n            this.setCropPosition(cropPosition);\r\n        }\r\n    }\r\n    updateCropPosition(cropBounds) {\r\n        const cropPosition = this.getCropPositionFromBounds(cropBounds);\r\n        this.setCropPosition(cropPosition);\r\n    }\r\n    setCropPosition(cropPosition) {\r\n        this.tl.setPosition(cropPosition[0].x, cropPosition[0].y);\r\n        this.tr.setPosition(cropPosition[1].x, cropPosition[1].y);\r\n        this.bl.setPosition(cropPosition[2].x, cropPosition[2].y);\r\n        this.br.setPosition(cropPosition[3].x, cropPosition[3].y);\r\n        this.center.setPosition(cropPosition[4].x, cropPosition[4].y);\r\n        for (const position of cropPosition) {\r\n            new PointPool().instance.returnPoint(position);\r\n        }\r\n        this.vertSquashRatio = this.detectVerticalSquash(this.srcImage);\r\n        this.draw(this.ctx);\r\n        this.croppedImage = this.getCroppedImageHelper(false, this.cropWidth, this.cropHeight);\r\n    }\r\n    getCropPositionFromMarkers() {\r\n        const w = this.canvas.width;\r\n        const h = this.canvas.height;\r\n        let tlPos;\r\n        let trPos;\r\n        let blPos;\r\n        let brPos;\r\n        let center;\r\n        const sourceAspect = this.srcImage.height / this.srcImage.width;\r\n        const cropBounds = this.getBounds();\r\n        const cropAspect = cropBounds.height / cropBounds.width;\r\n        const cX = this.canvas.width / 2;\r\n        const cY = this.canvas.height / 2;\r\n        if (cropAspect > sourceAspect) {\r\n            const imageH = Math.min(w * sourceAspect, h);\r\n            const cropW = imageH / cropAspect;\r\n            tlPos = new PointPool().instance.borrow(cX - cropW / 2, cY + imageH / 2);\r\n            trPos = new PointPool().instance.borrow(cX + cropW / 2, cY + imageH / 2);\r\n            blPos = new PointPool().instance.borrow(cX - cropW / 2, cY - imageH / 2);\r\n            brPos = new PointPool().instance.borrow(cX + cropW / 2, cY - imageH / 2);\r\n        }\r\n        else {\r\n            const imageW = Math.min(h / sourceAspect, w);\r\n            const cropH = imageW * cropAspect;\r\n            tlPos = new PointPool().instance.borrow(cX - imageW / 2, cY + cropH / 2);\r\n            trPos = new PointPool().instance.borrow(cX + imageW / 2, cY + cropH / 2);\r\n            blPos = new PointPool().instance.borrow(cX - imageW / 2, cY - cropH / 2);\r\n            brPos = new PointPool().instance.borrow(cX + imageW / 2, cY - cropH / 2);\r\n        }\r\n        center = new PointPool().instance.borrow(cX, cY);\r\n        const positions = [tlPos, trPos, blPos, brPos, center];\r\n        return positions;\r\n    }\r\n    getCropPositionFromBounds(cropPosition) {\r\n        let marginTop = 0;\r\n        let marginLeft = 0;\r\n        const canvasAspect = this.canvasHeight / this.canvasWidth;\r\n        const sourceAspect = this.srcImage.height / this.srcImage.width;\r\n        if (canvasAspect > sourceAspect) {\r\n            marginTop =\r\n                this.buffer.height / 2 - (this.canvasWidth * sourceAspect) / 2;\r\n        }\r\n        else {\r\n            marginLeft = this.buffer.width / 2 - this.canvasHeight / sourceAspect / 2;\r\n        }\r\n        const ratioW = (this.canvasWidth - marginLeft * 2) / this.srcImage.width;\r\n        const ratioH = (this.canvasHeight - marginTop * 2) / this.srcImage.height;\r\n        let actualH = cropPosition.height * ratioH;\r\n        let actualW = cropPosition.width * ratioW;\r\n        const actualX = cropPosition.left * ratioW + marginLeft;\r\n        const actualY = cropPosition.top * ratioH + marginTop;\r\n        if (this.keepAspect) {\r\n            const scaledW = actualH / this.aspectRatio;\r\n            const scaledH = actualW * this.aspectRatio;\r\n            if (this.getCropBounds().height === cropPosition.height) {\r\n                // only width changed\r\n                actualH = scaledH;\r\n            }\r\n            else if (this.getCropBounds().width === cropPosition.width) {\r\n                // only height changed\r\n                actualW = scaledW;\r\n            }\r\n            else {\r\n                // height and width changed\r\n                if (Math.abs(scaledH - actualH) < Math.abs(scaledW - actualW)) {\r\n                    actualW = scaledW;\r\n                }\r\n                else {\r\n                    actualH = scaledH;\r\n                }\r\n            }\r\n        }\r\n        const tlPos = new PointPool().instance.borrow(actualX, actualY + actualH);\r\n        const trPos = new PointPool().instance.borrow(actualX + actualW, actualY + actualH);\r\n        const blPos = new PointPool().instance.borrow(actualX, actualY);\r\n        const brPos = new PointPool().instance.borrow(actualX + actualW, actualY);\r\n        const center = new PointPool().instance.borrow(actualX + actualW / 2, actualY + actualH / 2);\r\n        const positions = [tlPos, trPos, blPos, brPos, center];\r\n        return positions;\r\n    }\r\n    getCroppedImageHelper(preserveSize, fillWidth, fillHeight) {\r\n        if (this.cropperSettings.cropOnResize) {\r\n            return this.getCroppedImage(preserveSize, fillWidth, fillHeight);\r\n        }\r\n        return this.croppedImage\r\n            ? this.croppedImage\r\n            : document.createElement('img');\r\n    }\r\n    // todo: Unused parameters?\r\n    getCroppedImage(preserveSize, fillWidth, fillHeight) {\r\n        const bounds = this.getBounds();\r\n        if (!this.srcImage) {\r\n            return document.createElement('img');\r\n        }\r\n        else {\r\n            const sourceAspect = this.srcImage.height / this.srcImage.width;\r\n            const canvasAspect = this.canvas.height / this.canvas.width;\r\n            let w = this.canvas.width;\r\n            let h = this.canvas.height;\r\n            if (canvasAspect > sourceAspect) {\r\n                w = this.canvas.width;\r\n                h = this.canvas.width * sourceAspect;\r\n            }\r\n            else {\r\n                if (canvasAspect < sourceAspect) {\r\n                    h = this.canvas.height;\r\n                    w = this.canvas.height / sourceAspect;\r\n                }\r\n                else {\r\n                    h = this.canvas.height;\r\n                    w = this.canvas.width;\r\n                }\r\n            }\r\n            this.ratioW = w / this.srcImage.width;\r\n            this.ratioH = h / this.srcImage.height;\r\n            const offsetH = (this.buffer.height - h) / 2 / this.ratioH;\r\n            const offsetW = (this.buffer.width - w) / 2 / this.ratioW;\r\n            const ctx = this.cropCanvas.getContext('2d');\r\n            if (this.cropperSettings.preserveSize || preserveSize) {\r\n                const width = Math.round(bounds.right / this.ratioW - bounds.left / this.ratioW);\r\n                const height = Math.round(bounds.bottom / this.ratioH - bounds.top / this.ratioH);\r\n                this.cropCanvas.width = width;\r\n                this.cropCanvas.height = height;\r\n                this.cropperSettings.croppedWidth = this.cropCanvas.width;\r\n                this.cropperSettings.croppedHeight = this.cropCanvas.height;\r\n            }\r\n            else {\r\n                this.cropCanvas.width = this.cropWidth;\r\n                this.cropCanvas.height = this.cropHeight;\r\n            }\r\n            ctx.clearRect(0, 0, this.cropCanvas.width, this.cropCanvas.height);\r\n            this.drawImageIOSFix(ctx, this.srcImage, Math.max(Math.round(bounds.left / this.ratioW - offsetW), 0), Math.max(Math.round(bounds.top / this.ratioH - offsetH), 0), Math.max(Math.round(bounds.width / this.ratioW), 1), Math.max(Math.round(bounds.height / this.ratioH), 1), 0, 0, this.cropCanvas.width, this.cropCanvas.height);\r\n            if (this.cropperSettings.resampleFn) {\r\n                this.cropperSettings.resampleFn(this.cropCanvas);\r\n            }\r\n            this.croppedImage.width = this.cropCanvas.width;\r\n            this.croppedImage.height = this.cropCanvas.height;\r\n            this.croppedImage.src = this.cropCanvas.toDataURL(this.fileType, this.cropperSettings.compressRatio);\r\n            return this.croppedImage;\r\n        }\r\n    }\r\n    getBounds() {\r\n        let minX = Number.MAX_VALUE;\r\n        let minY = Number.MAX_VALUE;\r\n        let maxX = -Number.MAX_VALUE;\r\n        let maxY = -Number.MAX_VALUE;\r\n        for (const marker of this.markers) {\r\n            if (marker.position.x < minX) {\r\n                minX = marker.position.x;\r\n            }\r\n            if (marker.position.x > maxX) {\r\n                maxX = marker.position.x;\r\n            }\r\n            if (marker.position.y < minY) {\r\n                minY = marker.position.y;\r\n            }\r\n            if (marker.position.y > maxY) {\r\n                maxY = marker.position.y;\r\n            }\r\n        }\r\n        const bounds = new Bounds();\r\n        bounds.left = minX;\r\n        bounds.right = maxX;\r\n        bounds.top = minY;\r\n        bounds.bottom = maxY;\r\n        return bounds;\r\n    }\r\n    setBounds(bounds) {\r\n        // const topLeft: CornerMarker;\r\n        // const topRight: CornerMarker;\r\n        // const bottomLeft: CornerMarker;\r\n        // const bottomRight: CornerMarker;\r\n        const currentBounds = this.getBounds();\r\n        for (const marker of this.markers) {\r\n            if (marker.position.x === currentBounds.left) {\r\n                if (marker.position.y === currentBounds.top) {\r\n                    marker.setPosition(bounds.left, bounds.top);\r\n                }\r\n                else {\r\n                    marker.setPosition(bounds.left, bounds.bottom);\r\n                }\r\n            }\r\n            else {\r\n                if (marker.position.y === currentBounds.top) {\r\n                    marker.setPosition(bounds.right, bounds.top);\r\n                }\r\n                else {\r\n                    marker.setPosition(bounds.right, bounds.bottom);\r\n                }\r\n            }\r\n        }\r\n        this.center.recalculatePosition(bounds);\r\n        this.center.draw(this.ctx);\r\n        this.draw(this.ctx); // we need to redraw all canvas if we have changed bounds\r\n    }\r\n    onTouchMove(event) {\r\n        if (this.crop.isImageSet()) {\r\n            if (event.touches.length === 1) {\r\n                if (this.isMouseDown) {\r\n                    event.preventDefault();\r\n                    // tslint:disable-next-line:prefer-for-of\r\n                    for (let i = 0; i < event.touches.length; i++) {\r\n                        const touch = event.touches[i];\r\n                        const touchPosition = this.getTouchPos(this.canvas, touch);\r\n                        const cropTouch = new CropTouch(touchPosition.x, touchPosition.y, touch.identifier);\r\n                        new PointPool().instance.returnPoint(touchPosition);\r\n                        this.move(cropTouch);\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if (event.touches.length === 2) {\r\n                    event.preventDefault();\r\n                    const distance = (event.touches[0].clientX - event.touches[1].clientX) *\r\n                        (event.touches[0].clientX - event.touches[1].clientX) +\r\n                        (event.touches[0].clientY - event.touches[1].clientY) *\r\n                            (event.touches[0].clientY - event.touches[1].clientY);\r\n                    if (this.previousDistance && this.previousDistance !== distance) {\r\n                        const bounds = this.getBounds();\r\n                        if (distance < this.previousDistance) {\r\n                            bounds.top += 1;\r\n                            bounds.left += 1;\r\n                            bounds.right -= 1;\r\n                            bounds.bottom -= 1;\r\n                        }\r\n                        if (distance > this.previousDistance) {\r\n                            if (bounds.top !== this.minYClamp &&\r\n                                bounds.bottom !== this.maxYClamp &&\r\n                                bounds.left !== this.minXClamp &&\r\n                                bounds.right !== this.maxXClamp) {\r\n                                // none\r\n                                bounds.top -= 1;\r\n                                bounds.left -= 1;\r\n                                bounds.right += 1;\r\n                                bounds.bottom += 1;\r\n                            }\r\n                            else if (bounds.top !== this.minYClamp &&\r\n                                bounds.bottom !== this.maxYClamp &&\r\n                                bounds.left === this.minXClamp &&\r\n                                bounds.right !== this.maxXClamp) {\r\n                                // left\r\n                                bounds.top -= 1;\r\n                                bounds.right += 2;\r\n                                bounds.bottom += 1;\r\n                            }\r\n                            else if (bounds.top !== this.minYClamp &&\r\n                                bounds.bottom !== this.maxYClamp &&\r\n                                bounds.left !== this.minXClamp &&\r\n                                bounds.right === this.maxXClamp) {\r\n                                // right\r\n                                bounds.top -= 1;\r\n                                bounds.left -= 2;\r\n                                bounds.bottom += 1;\r\n                            }\r\n                            else if (bounds.top === this.minYClamp &&\r\n                                bounds.bottom !== this.maxYClamp &&\r\n                                bounds.left !== this.minXClamp &&\r\n                                bounds.right !== this.maxXClamp) {\r\n                                // top\r\n                                bounds.left -= 1;\r\n                                bounds.right += 1;\r\n                                bounds.bottom += 2;\r\n                            }\r\n                            else if (bounds.top !== this.minYClamp &&\r\n                                bounds.bottom === this.maxYClamp &&\r\n                                bounds.left !== this.minXClamp &&\r\n                                bounds.right !== this.maxXClamp) {\r\n                                // bottom\r\n                                bounds.top -= 2;\r\n                                bounds.left -= 1;\r\n                                bounds.right += 1;\r\n                            }\r\n                            else if (bounds.top === this.minYClamp &&\r\n                                bounds.bottom !== this.maxYClamp &&\r\n                                bounds.left === this.minXClamp &&\r\n                                bounds.right !== this.maxXClamp) {\r\n                                // top left\r\n                                bounds.right += 2;\r\n                                bounds.bottom += 2;\r\n                            }\r\n                            else if (bounds.top === this.minYClamp &&\r\n                                bounds.bottom !== this.maxYClamp &&\r\n                                bounds.left !== this.minXClamp &&\r\n                                bounds.right === this.maxXClamp) {\r\n                                // top right\r\n                                bounds.left -= 2;\r\n                                bounds.bottom += 2;\r\n                            }\r\n                            else if (bounds.top !== this.minYClamp &&\r\n                                bounds.bottom === this.maxYClamp &&\r\n                                bounds.left === this.minXClamp &&\r\n                                bounds.right !== this.maxXClamp) {\r\n                                // bottom left\r\n                                bounds.top -= 2;\r\n                                bounds.right += 2;\r\n                            }\r\n                            else if (bounds.top !== this.minYClamp &&\r\n                                bounds.bottom === this.maxYClamp &&\r\n                                bounds.left !== this.minXClamp &&\r\n                                bounds.right === this.maxXClamp) {\r\n                                // bottom right\r\n                                bounds.top -= 2;\r\n                                bounds.left -= 2;\r\n                            }\r\n                        }\r\n                        if (bounds.top < this.minYClamp) {\r\n                            bounds.top = this.minYClamp;\r\n                        }\r\n                        if (bounds.bottom > this.maxYClamp) {\r\n                            bounds.bottom = this.maxYClamp;\r\n                        }\r\n                        if (bounds.left < this.minXClamp) {\r\n                            bounds.left = this.minXClamp;\r\n                        }\r\n                        if (bounds.right > this.maxXClamp) {\r\n                            bounds.right = this.maxXClamp;\r\n                        }\r\n                        this.setBounds(bounds);\r\n                    }\r\n                    this.previousDistance = distance;\r\n                }\r\n            }\r\n            this.draw(this.ctx);\r\n        }\r\n    }\r\n    onMouseMove(e) {\r\n        if (this.crop.isImageSet() && this.isMouseDown) {\r\n            const mousePosition = this.getMousePos(this.canvas, e);\r\n            this.move(new CropTouch(mousePosition.x, mousePosition.y, 0));\r\n            let dragTouch = this.getDragTouchForID(0);\r\n            if (dragTouch) {\r\n                dragTouch.x = mousePosition.x;\r\n                dragTouch.y = mousePosition.y;\r\n            }\r\n            else {\r\n                dragTouch = new CropTouch(mousePosition.x, mousePosition.y, 0);\r\n            }\r\n            new PointPool().instance.returnPoint(mousePosition);\r\n            this.drawCursors(dragTouch);\r\n            this.draw(this.ctx);\r\n        }\r\n    }\r\n    move(cropTouch) {\r\n        if (this.isMouseDown) {\r\n            this.handleMove(cropTouch);\r\n        }\r\n    }\r\n    getDragTouchForID(id) {\r\n        // tslint:disable-next-line:prefer-for-of\r\n        for (let i = 0; i < this.currentDragTouches.length; i++) {\r\n            if (id === this.currentDragTouches[i].id) {\r\n                return this.currentDragTouches[i];\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    drawCursors(cropTouch) {\r\n        let cursorDrawn = false;\r\n        if (cropTouch != null) {\r\n            if (cropTouch.dragHandle === this.center) {\r\n                this.imageCropperDataShare.setStyle(this.canvas, 'move');\r\n                cursorDrawn = true;\r\n            }\r\n            if (cropTouch.dragHandle !== null &&\r\n                cropTouch.dragHandle instanceof CornerMarker) {\r\n                this.drawCornerCursor(cropTouch.dragHandle, cropTouch.dragHandle.position.x, cropTouch.dragHandle.position.y);\r\n                cursorDrawn = true;\r\n            }\r\n        }\r\n        let didDraw = false;\r\n        if (!cursorDrawn) {\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < this.markers.length; i++) {\r\n                didDraw =\r\n                    didDraw ||\r\n                        this.drawCornerCursor(this.markers[i], cropTouch.x, cropTouch.y);\r\n            }\r\n            if (!didDraw) {\r\n                this.imageCropperDataShare.setStyle(this.canvas, 'initial');\r\n            }\r\n        }\r\n        if (!didDraw &&\r\n            !cursorDrawn &&\r\n            this.center.touchInBounds(cropTouch.x, cropTouch.y)) {\r\n            this.center.setOver(true);\r\n            this.imageCropperDataShare.setOver(this.canvas);\r\n            this.imageCropperDataShare.setStyle(this.canvas, 'move');\r\n        }\r\n        else {\r\n            this.center.setOver(false);\r\n        }\r\n    }\r\n    drawCornerCursor(marker, x, y) {\r\n        if (marker.touchInBounds(x, y)) {\r\n            marker.setOver(true);\r\n            if (marker.getHorizontalNeighbour().position.x > marker.position.x) {\r\n                if (marker.getVerticalNeighbour().position.y > marker.position.y) {\r\n                    this.imageCropperDataShare.setOver(this.canvas);\r\n                    this.imageCropperDataShare.setStyle(this.canvas, 'nwse-resize');\r\n                }\r\n                else {\r\n                    this.imageCropperDataShare.setOver(this.canvas);\r\n                    this.imageCropperDataShare.setStyle(this.canvas, 'nesw-resize');\r\n                }\r\n            }\r\n            else {\r\n                if (marker.getVerticalNeighbour().position.y > marker.position.y) {\r\n                    this.imageCropperDataShare.setOver(this.canvas);\r\n                    this.imageCropperDataShare.setStyle(this.canvas, 'nesw-resize');\r\n                }\r\n                else {\r\n                    this.imageCropperDataShare.setOver(this.canvas);\r\n                    this.imageCropperDataShare.setStyle(this.canvas, 'nwse-resize');\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        marker.setOver(false);\r\n        return false;\r\n    }\r\n    onTouchStart(event) {\r\n        if (this.crop.isImageSet()) {\r\n            const touch = event.touches[0];\r\n            const touchPosition = this.getTouchPos(this.canvas, touch);\r\n            const cropTouch = new CropTouch(touchPosition.x, touchPosition.y, touch.identifier);\r\n            new PointPool().instance.returnPoint(touchPosition);\r\n            this.isMouseDown = false;\r\n            for (const marker of this.markers) {\r\n                if (marker.touchInBounds(cropTouch.x, cropTouch.y)) {\r\n                    this.isMouseDown = true;\r\n                }\r\n            }\r\n            if (this.center.touchInBounds(cropTouch.x, cropTouch.y)) {\r\n                this.isMouseDown = true;\r\n            }\r\n        }\r\n    }\r\n    onTouchEnd(event) {\r\n        if (this.crop.isImageSet()) {\r\n            // tslint:disable-next-line:prefer-for-of\r\n            for (let i = 0; i < event.changedTouches.length; i++) {\r\n                const touch = event.changedTouches[i];\r\n                const dragTouch = this.getDragTouchForID(touch.identifier);\r\n                if (dragTouch && dragTouch !== undefined) {\r\n                    if (dragTouch.dragHandle instanceof CornerMarker ||\r\n                        dragTouch.dragHandle instanceof DragMarker) {\r\n                        dragTouch.dragHandle.setOver(false);\r\n                    }\r\n                    this.handleRelease(dragTouch);\r\n                }\r\n            }\r\n            if (this.currentDragTouches.length === 0) {\r\n                this.isMouseDown = false;\r\n                this.currentlyInteracting = false;\r\n            }\r\n        }\r\n    }\r\n    // http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\r\n    drawImageIOSFix(ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\r\n        // Works only if whole image is displayed:\r\n        // ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\r\n        // The following works correct also when only a part of the image is displayed:\r\n        // ctx.drawImage(img, sx * this.vertSquashRatio, sy * this.vertSquashRatio, sw * this.vertSquashRatio, sh *\r\n        // this.vertSquashRatio, dx, dy, dw, dh);\r\n        ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh);\r\n    }\r\n    onMouseDown(event) {\r\n        if (this.crop.isImageSet()) {\r\n            this.isMouseDown = true;\r\n        }\r\n    }\r\n    onMouseUp(event) {\r\n        if (this.crop.isImageSet()) {\r\n            this.imageCropperDataShare.setReleased(this.canvas);\r\n            this.isMouseDown = false;\r\n            this.handleRelease(new CropTouch(0, 0, 0));\r\n        }\r\n    }\r\n}\n\nclass CropPosition {\r\n    constructor(x = 0, y = 0, w = 0, h = 0) {\r\n        this.x = +x;\r\n        this.y = +y;\r\n        this.w = +w;\r\n        this.h = +h;\r\n    }\r\n    toBounds() {\r\n        return new Bounds(this.x, this.y, this.w, this.h);\r\n    }\r\n    isInitialized() {\r\n        return this.x !== 0 && this.y !== 0 && this.w !== 0 && this.h !== 0;\r\n    }\r\n}\n\nclass ImageCropperComponent {\r\n    constructor(renderer, document) {\r\n        this.document = document;\r\n        this.cropPositionChange = new EventEmitter();\r\n        this.exif = new Exif();\r\n        // tslint:disable-next-line:no-output-on-prefix\r\n        this.onCrop = new EventEmitter();\r\n        this.imageSet = new EventEmitter();\r\n        this.dragUnsubscribers = [];\r\n        this.renderer = renderer;\r\n    }\r\n    ngAfterViewInit() {\r\n        const canvas = this.cropcanvas.nativeElement;\r\n        if (!this.settings) {\r\n            this.settings = new CropperSettings();\r\n        }\r\n        if (this.settings.cropperClass) {\r\n            this.renderer.setAttribute(canvas, 'class', this.settings.cropperClass);\r\n        }\r\n        if (!this.settings.dynamicSizing) {\r\n            this.renderer.setAttribute(canvas, 'width', this.settings.canvasWidth.toString());\r\n            this.renderer.setAttribute(canvas, 'height', this.settings.canvasHeight.toString());\r\n        }\r\n        else {\r\n            this.windowListener = this.resize.bind(this);\r\n            window.addEventListener('resize', this.windowListener);\r\n        }\r\n        if (!this.cropper) {\r\n            this.cropper = new ImageCropper(this.settings);\r\n        }\r\n        this.cropper.prepare(canvas);\r\n    }\r\n    ngOnChanges(changes) {\r\n        if (this.isCropPositionChanged(changes)) {\r\n            this.cropper.updateCropPosition(this.cropPosition.toBounds());\r\n            if (this.cropper.isImageSet()) {\r\n                const bounds = this.cropper.getCropBounds();\r\n                this.image.image = this.cropper.getCroppedImageHelper().src;\r\n                this.onCrop.emit(bounds);\r\n            }\r\n            this.updateCropBounds();\r\n        }\r\n        if (changes.inputImage) {\r\n            this.setImage(changes.inputImage.currentValue);\r\n        }\r\n        if (changes.settings && this.cropper) {\r\n            this.cropper.updateSettings(this.settings);\r\n            if (this.cropper.isImageSet()) {\r\n                this.image.image = this.cropper.getCroppedImageHelper().src;\r\n                this.onCrop.emit(this.cropper.getCropBounds());\r\n            }\r\n        }\r\n    }\r\n    ngOnDestroy() {\r\n        this.removeDragListeners();\r\n        if (this.settings.dynamicSizing && this.windowListener) {\r\n            window.removeEventListener('resize', this.windowListener);\r\n        }\r\n    }\r\n    onTouchMove(event) {\r\n        this.cropper.onTouchMove(event);\r\n    }\r\n    onTouchStart(event) {\r\n        this.cropper.onTouchStart(event);\r\n    }\r\n    onTouchEnd(event) {\r\n        this.cropper.onTouchEnd(event);\r\n        if (this.cropper.isImageSet()) {\r\n            this.image.image = this.cropper.getCroppedImageHelper().src;\r\n            this.onCrop.emit(this.cropper.getCropBounds());\r\n            this.updateCropBounds();\r\n        }\r\n    }\r\n    onMouseDown(event) {\r\n        this.dragUnsubscribers.push(this.renderer.listen(this.document, 'mousemove', this.onMouseMove.bind(this)));\r\n        this.dragUnsubscribers.push(this.renderer.listen(this.document, 'mouseup', this.onMouseUp.bind(this)));\r\n        this.cropper.onMouseDown(event);\r\n        // if (!this.cropper.isImageSet() && !this.settings.noFileInput) {\r\n        //   // load img\r\n        //   this.fileInput.nativeElement.click();\r\n        // }\r\n    }\r\n    removeDragListeners() {\r\n        this.dragUnsubscribers.forEach(unsubscribe => unsubscribe());\r\n    }\r\n    onMouseUp(event) {\r\n        this.removeDragListeners();\r\n        if (this.cropper.isImageSet()) {\r\n            this.cropper.onMouseUp(event);\r\n            this.image.image = this.cropper.getCroppedImageHelper().src;\r\n            this.onCrop.emit(this.cropper.getCropBounds());\r\n            this.updateCropBounds();\r\n        }\r\n    }\r\n    onMouseMove(event) {\r\n        this.cropper.onMouseMove(event);\r\n    }\r\n    fileChangeListener($event) {\r\n        if ($event.target.files.length === 0) {\r\n            return;\r\n        }\r\n        const file = $event.target.files[0];\r\n        if (this.settings.allowedFilesRegex.test(file.name)) {\r\n            const image = new Image();\r\n            const fileReader = new FileReader();\r\n            fileReader.addEventListener('loadend', (loadEvent) => {\r\n                image.addEventListener('load', () => {\r\n                    this.setImage(image);\r\n                });\r\n                image.src = loadEvent.target.result;\r\n            });\r\n            fileReader.readAsDataURL(file);\r\n        }\r\n    }\r\n    resize() {\r\n        const canvas = this.cropcanvas.nativeElement;\r\n        this.settings.canvasWidth = canvas.offsetWidth;\r\n        this.settings.canvasHeight = canvas.offsetHeight;\r\n        this.cropper.resizeCanvas(canvas.offsetWidth, canvas.offsetHeight, true);\r\n    }\r\n    reset() {\r\n        this.cropper.reset();\r\n        this.renderer.setAttribute(this.cropcanvas.nativeElement, 'class', this.settings.cropperClass);\r\n        this.image.image = this.cropper.getCroppedImageHelper().src;\r\n    }\r\n    setImage(image, newBounds = null) {\r\n        this.imageSet.emit(true);\r\n        this.renderer.setAttribute(this.cropcanvas.nativeElement, 'class', `${this.settings.cropperClass} ${this.settings.croppingClass}`);\r\n        this.raf = window.requestAnimationFrame(() => {\r\n            if (this.raf) {\r\n                window.cancelAnimationFrame(this.raf);\r\n            }\r\n            if (image.naturalHeight > 0 && image.naturalWidth > 0) {\r\n                image.height = image.naturalHeight;\r\n                image.width = image.naturalWidth;\r\n                window.cancelAnimationFrame(this.raf);\r\n                this.getOrientedImage(image, (img) => {\r\n                    if (this.settings.dynamicSizing) {\r\n                        const canvas = this.cropcanvas.nativeElement;\r\n                        this.settings.canvasWidth = canvas.offsetWidth;\r\n                        this.settings.canvasHeight = canvas.offsetHeight;\r\n                        this.cropper.resizeCanvas(canvas.offsetWidth, canvas.offsetHeight, false);\r\n                    }\r\n                    this.cropper.setImage(img);\r\n                    if (this.cropPosition && this.cropPosition.isInitialized()) {\r\n                        this.cropper.updateCropPosition(this.cropPosition.toBounds());\r\n                    }\r\n                    this.image.original = img;\r\n                    let bounds = this.cropper.getCropBounds();\r\n                    this.image.image = this.cropper.getCroppedImageHelper().src;\r\n                    if (!this.image) {\r\n                        this.image = image;\r\n                    }\r\n                    if (newBounds != null) {\r\n                        bounds = newBounds;\r\n                        this.cropper.setBounds(bounds);\r\n                        this.cropper.updateCropPosition(bounds);\r\n                    }\r\n                    this.onCrop.emit(bounds);\r\n                });\r\n            }\r\n        });\r\n    }\r\n    isCropPositionChanged(changes) {\r\n        if (this.cropper &&\r\n            changes.cropPosition &&\r\n            this.isCropPositionUpdateNeeded) {\r\n            return true;\r\n        }\r\n        else {\r\n            this.isCropPositionUpdateNeeded = true;\r\n            return false;\r\n        }\r\n    }\r\n    updateCropBounds() {\r\n        const cropBound = this.cropper.getCropBounds();\r\n        this.cropPositionChange.emit(new CropPosition(cropBound.left, cropBound.top, cropBound.width, cropBound.height));\r\n        this.isCropPositionUpdateNeeded = false;\r\n    }\r\n    getOrientedImage(image, callback) {\r\n        let img;\r\n        this.exif.getData(image, () => {\r\n            const orientation = this.exif.getTag(image, 'Orientation');\r\n            if ([3, 6, 8].indexOf(orientation) > -1) {\r\n                const canvas = document.createElement('canvas');\r\n                const ctx = canvas.getContext('2d');\r\n                let cw = image.width;\r\n                let ch = image.height;\r\n                let cx = 0;\r\n                let cy = 0;\r\n                let deg = 0;\r\n                switch (orientation) {\r\n                    case 3:\r\n                        cx = -image.width;\r\n                        cy = -image.height;\r\n                        deg = 180;\r\n                        break;\r\n                    case 6:\r\n                        cw = image.height;\r\n                        ch = image.width;\r\n                        cy = -image.height;\r\n                        deg = 90;\r\n                        break;\r\n                    case 8:\r\n                        cw = image.height;\r\n                        ch = image.width;\r\n                        cx = -image.width;\r\n                        deg = 270;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n                canvas.width = cw;\r\n                canvas.height = ch;\r\n                ctx.rotate((deg * Math.PI) / 180);\r\n                ctx.drawImage(image, cx, cy);\r\n                img = document.createElement('img');\r\n                img.width = cw;\r\n                img.height = ch;\r\n                img.addEventListener('load', () => {\r\n                    callback(img);\r\n                });\r\n                img.src = canvas.toDataURL('image/png');\r\n            }\r\n            else {\r\n                img = image;\r\n                callback(img);\r\n            }\r\n        });\r\n    }\r\n}\nImageCropperComponent.ɵfac = function ImageCropperComponent_Factory(t) { return new (t || ImageCropperComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2), ɵngcc0.ɵɵdirectiveInject(DOCUMENT)); };\nImageCropperComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: ImageCropperComponent, selectors: [[\"img-cropper\"]], viewQuery: function ImageCropperComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 7);\n        ɵngcc0.ɵɵviewQuery(_c1, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.cropcanvas = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.fileInput = _t.first);\n    } }, inputs: { settings: \"settings\", cropper: \"cropper\", image: \"image\", inputImage: \"inputImage\", cropPosition: \"cropPosition\" }, outputs: { cropPositionChange: \"cropPositionChange\", onCrop: \"onCrop\", imageSet: \"imageSet\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 4, vars: 1, consts: [[1, \"ng2-imgcrop\"], [\"type\", \"file\", \"accept\", \"image/*\", 3, \"change\", 4, \"ngIf\"], [3, \"mousedown\", \"touchmove\", \"touchend\", \"touchstart\"], [\"cropcanvas\", \"\"], [\"type\", \"file\", \"accept\", \"image/*\", 3, \"change\"], [\"fileInput\", \"\"]], template: function ImageCropperComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"span\", 0);\n        ɵngcc0.ɵɵtemplate(1, ImageCropperComponent_input_1_Template, 2, 0, \"input\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"canvas\", 2, 3);\n        ɵngcc0.ɵɵlistener(\"mousedown\", function ImageCropperComponent_Template_canvas_mousedown_2_listener($event) { return ctx.onMouseDown($event); })(\"touchmove\", function ImageCropperComponent_Template_canvas_touchmove_2_listener($event) { return ctx.onTouchMove($event); })(\"touchend\", function ImageCropperComponent_Template_canvas_touchend_2_listener($event) { return ctx.onTouchEnd($event); })(\"touchstart\", function ImageCropperComponent_Template_canvas_touchstart_2_listener($event) { return ctx.onTouchStart($event); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.settings.noFileInput);\n    } }, directives: [ɵngcc1.NgIf], encapsulation: 2 });\r\nImageCropperComponent.ctorParameters = () => [\r\n    { type: Renderer2 },\r\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }\r\n];\r\nImageCropperComponent.propDecorators = {\r\n    cropcanvas: [{ type: ViewChild, args: ['cropcanvas', { static: true },] }],\r\n    fileInput: [{ type: ViewChild, args: ['fileInput',] }],\r\n    settings: [{ type: Input }],\r\n    image: [{ type: Input }],\r\n    inputImage: [{ type: Input }],\r\n    cropper: [{ type: Input }],\r\n    cropPosition: [{ type: Input }],\r\n    cropPositionChange: [{ type: Output }],\r\n    onCrop: [{ type: Output }],\r\n    imageSet: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImageCropperComponent, [{\n        type: Component,\n        args: [{\n                // tslint:disable-next-line:component-selector\n                selector: 'img-cropper',\n                template: \"<span class=\\\"ng2-imgcrop\\\">\\r\\n  <input\\r\\n    *ngIf=\\\"!settings.noFileInput\\\"\\r\\n    #fileInput\\r\\n    type=\\\"file\\\"\\r\\n    accept=\\\"image/*\\\"\\r\\n    (change)=\\\"fileChangeListener($event)\\\"\\r\\n  />\\r\\n  <canvas\\r\\n    #cropcanvas\\r\\n    (mousedown)=\\\"onMouseDown($event)\\\"\\r\\n    (touchmove)=\\\"onTouchMove($event)\\\"\\r\\n    (touchend)=\\\"onTouchEnd($event)\\\"\\r\\n    (touchstart)=\\\"onTouchStart($event)\\\"\\r\\n  >\\r\\n  </canvas>\\r\\n</span>\\r\\n\"\n            }]\n    }], function () { return [{ type: ɵngcc0.Renderer2 }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }]; }, { cropPositionChange: [{\n            type: Output\n        }], onCrop: [{\n            type: Output\n        }], imageSet: [{\n            type: Output\n        }], settings: [{\n            type: Input\n        }], cropper: [{\n            type: Input\n        }], image: [{\n            type: Input\n        }], cropcanvas: [{\n            type: ViewChild,\n            args: ['cropcanvas', { static: true }]\n        }], fileInput: [{\n            type: ViewChild,\n            args: ['fileInput']\n        }], inputImage: [{\n            type: Input\n        }], cropPosition: [{\n            type: Input\n        }] }); })();\n\nclass ImageCropperModule {\r\n}\nImageCropperModule.ɵfac = function ImageCropperModule_Factory(t) { return new (t || ImageCropperModule)(); };\nImageCropperModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: ImageCropperModule });\nImageCropperModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CommonModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImageCropperModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [ImageCropperComponent],\n                exports: [ImageCropperComponent],\n                imports: [CommonModule]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(ImageCropperModule, { declarations: function () { return [ImageCropperComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [ImageCropperComponent]; } }); })();\n\nclass ImageCropperService {\r\n    constructor() { }\r\n}\nImageCropperService.ɵfac = function ImageCropperService_Factory(t) { return new (t || ImageCropperService)(); };\r\nImageCropperService.ɵprov = ɵɵdefineInjectable({ factory: function ImageCropperService_Factory() { return new ImageCropperService(); }, token: ImageCropperService, providedIn: \"root\" });\r\nImageCropperService.ctorParameters = () => [];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(ImageCropperService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return []; }, null); })();\n\n// looks like this CropService is never used\r\nclass CropService {\r\n    init(canvas) {\r\n        this.canvas = canvas;\r\n        this.ctx = this.canvas.getContext('2d');\r\n    }\r\n}\n\n/*\r\n * Public API Surface of ngx-img-cropper\r\n */\n\n/**\r\n * Generated bundle index. Do not edit.\r\n */\n\nexport { Bounds, CornerMarker, CropPosition, CropService, CropTouch, CropperDrawSettings, CropperSettings, DragMarker, Exif, Fraction, Handle, ImageCropper, ImageCropperComponent, ImageCropperDataShare, ImageCropperModel, ImageCropperModule, ImageCropperService, Point, PointPool, ImageCropperModel as ɵa };\n\n//# sourceMappingURL=ngx-img-cropper.js.map","!function(e,r){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=r():\"function\"==typeof define&&define.amd?define([],r):\"object\"==typeof exports?exports.textMaskCore=r():e.textMaskCore=r()}(this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var t={};return r.m=e,r.c=t,r.p=\"\",r(0)}([function(e,r,t){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,\"__esModule\",{value:!0});var o=t(3);Object.defineProperty(r,\"conformToMask\",{enumerable:!0,get:function(){return n(o).default}});var i=t(2);Object.defineProperty(r,\"adjustCaretPosition\",{enumerable:!0,get:function(){return n(i).default}});var a=t(5);Object.defineProperty(r,\"createTextMaskInputElement\",{enumerable:!0,get:function(){return n(a).default}})},function(e,r){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0}),r.placeholderChar=\"_\",r.strFunction=\"function\"},function(e,r){\"use strict\";function t(e){var r=e.previousConformedValue,t=void 0===r?o:r,i=e.previousPlaceholder,a=void 0===i?o:i,u=e.currentCaretPosition,l=void 0===u?0:u,s=e.conformedValue,f=e.rawValue,d=e.placeholderChar,c=e.placeholder,p=e.indexesOfPipedChars,v=void 0===p?n:p,h=e.caretTrapIndexes,m=void 0===h?n:h;if(0===l||!f.length)return 0;var y=f.length,g=t.length,b=c.length,C=s.length,P=y-g,k=P>0,x=0===g,O=P>1&&!k&&!x;if(O)return l;var T=k&&(t===s||s===c),w=0,M=void 0,S=void 0;if(T)w=l-P;else{var j=s.toLowerCase(),_=f.toLowerCase(),V=_.substr(0,l).split(o),A=V.filter(function(e){return j.indexOf(e)!==-1});S=A[A.length-1];var N=a.substr(0,A.length).split(o).filter(function(e){return e!==d}).length,E=c.substr(0,A.length).split(o).filter(function(e){return e!==d}).length,F=E!==N,R=void 0!==a[A.length-1]&&void 0!==c[A.length-2]&&a[A.length-1]!==d&&a[A.length-1]!==c[A.length-1]&&a[A.length-1]===c[A.length-2];!k&&(F||R)&&N>0&&c.indexOf(S)>-1&&void 0!==f[l]&&(M=!0,S=f[l]);for(var I=v.map(function(e){return j[e]}),J=I.filter(function(e){return e===S}).length,W=A.filter(function(e){return e===S}).length,q=c.substr(0,c.indexOf(d)).split(o).filter(function(e,r){return e===S&&f[r]!==e}).length,L=q+W+J+(M?1:0),z=0,B=0;B<C;B++){var D=j[B];if(w=B+1,D===S&&z++,z>=L)break}}if(k){for(var G=w,H=w;H<=b;H++)if(c[H]===d&&(G=H),c[H]===d||m.indexOf(H)!==-1||H===b)return G}else if(M){for(var K=w-1;K>=0;K--)if(s[K]===S||m.indexOf(K)!==-1||0===K)return K}else for(var Q=w;Q>=0;Q--)if(c[Q-1]===d||m.indexOf(Q)!==-1||0===Q)return Q}Object.defineProperty(r,\"__esModule\",{value:!0}),r.default=t;var n=[],o=\"\"},function(e,r,t){\"use strict\";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,i.isArray)(r)){if((\"undefined\"==typeof r?\"undefined\":o(r))!==a.strFunction)throw new Error(\"Text-mask:conformToMask; The mask property must be an array.\");r=r(e,t),r=(0,i.processCaretTraps)(r).maskWithoutCaretTraps}var n=t.guide,s=void 0===n||n,f=t.previousConformedValue,d=void 0===f?l:f,c=t.placeholderChar,p=void 0===c?a.placeholderChar:c,v=t.placeholder,h=void 0===v?(0,i.convertMaskToPlaceholder)(r,p):v,m=t.currentCaretPosition,y=t.keepCharPositions,g=s===!1&&void 0!==d,b=e.length,C=d.length,P=h.length,k=r.length,x=b-C,O=x>0,T=m+(O?-x:0),w=T+Math.abs(x);if(y===!0&&!O){for(var M=l,S=T;S<w;S++)h[S]===p&&(M+=p);e=e.slice(0,T)+M+e.slice(T,b)}for(var j=e.split(l).map(function(e,r){return{char:e,isNew:r>=T&&r<w}}),_=b-1;_>=0;_--){var V=j[_].char;if(V!==p){var A=_>=T&&C===k;V===h[A?_-x:_]&&j.splice(_,1)}}var N=l,E=!1;e:for(var F=0;F<P;F++){var R=h[F];if(R===p){if(j.length>0)for(;j.length>0;){var I=j.shift(),J=I.char,W=I.isNew;if(J===p&&g!==!0){N+=p;continue e}if(r[F].test(J)){if(y===!0&&W!==!1&&d!==l&&s!==!1&&O){for(var q=j.length,L=null,z=0;z<q;z++){var B=j[z];if(B.char!==p&&B.isNew===!1)break;if(B.char===p){L=z;break}}null!==L?(N+=J,j.splice(L,1)):F--}else N+=J;continue e}E=!0}g===!1&&(N+=h.substr(F,P));break}N+=R}if(g&&O===!1){for(var D=null,G=0;G<N.length;G++)h[G]===p&&(D=G);N=null!==D?N.substr(0,D+1):l}return{conformedValue:N,meta:{someCharsRejected:E}}}Object.defineProperty(r,\"__esModule\",{value:!0});var o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.default=n;var i=t(4),a=t(1),u=[],l=\"\"},function(e,r,t){\"use strict\";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.placeholderChar;if(!o(e))throw new Error(\"Text-mask:convertMaskToPlaceholder; The mask property must be an array.\");if(e.indexOf(r)!==-1)throw new Error(\"Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\\n\\n\"+(\"The placeholder character that was received is: \"+JSON.stringify(r)+\"\\n\\n\")+(\"The mask that was received is: \"+JSON.stringify(e)));return e.map(function(e){return e instanceof RegExp?r:e}).join(\"\")}function o(e){return Array.isArray&&Array.isArray(e)||e instanceof Array}function i(e){return\"string\"==typeof e||e instanceof String}function a(e){return\"number\"==typeof e&&void 0===e.length&&!isNaN(e)}function u(e){return\"undefined\"==typeof e||null===e}function l(e){for(var r=[],t=void 0;t=e.indexOf(d),t!==-1;)r.push(t),e.splice(t,1);return{maskWithoutCaretTraps:e,indexes:r}}Object.defineProperty(r,\"__esModule\",{value:!0}),r.convertMaskToPlaceholder=n,r.isArray=o,r.isString=i,r.isNumber=a,r.isNil=u,r.processCaretTraps=l;var s=t(1),f=[],d=\"[]\"},function(e,r,t){\"use strict\";function n(e){return e&&e.__esModule?e:{default:e}}function o(e){var r={previousConformedValue:void 0,previousPlaceholder:void 0};return{state:r,update:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=n.inputElement,s=n.mask,d=n.guide,m=n.pipe,g=n.placeholderChar,b=void 0===g?v.placeholderChar:g,C=n.keepCharPositions,P=void 0!==C&&C,k=n.showMask,x=void 0!==k&&k;if(\"undefined\"==typeof t&&(t=o.value),t!==r.previousConformedValue){(\"undefined\"==typeof s?\"undefined\":l(s))===y&&void 0!==s.pipe&&void 0!==s.mask&&(m=s.pipe,s=s.mask);var O=void 0,T=void 0;if(s instanceof Array&&(O=(0,p.convertMaskToPlaceholder)(s,b)),s!==!1){var w=a(t),M=o.selectionEnd,S=r.previousConformedValue,j=r.previousPlaceholder,_=void 0;if((\"undefined\"==typeof s?\"undefined\":l(s))===v.strFunction){if(T=s(w,{currentCaretPosition:M,previousConformedValue:S,placeholderChar:b}),T===!1)return;var V=(0,p.processCaretTraps)(T),A=V.maskWithoutCaretTraps,N=V.indexes;T=A,_=N,O=(0,p.convertMaskToPlaceholder)(T,b)}else T=s;var E={previousConformedValue:S,guide:d,placeholderChar:b,pipe:m,placeholder:O,currentCaretPosition:M,keepCharPositions:P},F=(0,c.default)(w,T,E),R=F.conformedValue,I=(\"undefined\"==typeof m?\"undefined\":l(m))===v.strFunction,J={};I&&(J=m(R,u({rawValue:w},E)),J===!1?J={value:S,rejected:!0}:(0,p.isString)(J)&&(J={value:J}));var W=I?J.value:R,q=(0,f.default)({previousConformedValue:S,previousPlaceholder:j,conformedValue:W,placeholder:O,rawValue:w,currentCaretPosition:M,placeholderChar:b,indexesOfPipedChars:J.indexesOfPipedChars,caretTrapIndexes:_}),L=W===O&&0===q,z=x?O:h,B=L?z:W;r.previousConformedValue=B,r.previousPlaceholder=O,o.value!==B&&(o.value=B,i(o,q))}}}}}function i(e,r){document.activeElement===e&&(g?b(function(){return e.setSelectionRange(r,r,m)},0):e.setSelectionRange(r,r,m))}function a(e){if((0,p.isString)(e))return e;if((0,p.isNumber)(e))return String(e);if(void 0===e||null===e)return h;throw new Error(\"The 'value' provided to Text Mask needs to be a string or a number. The value received was:\\n\\n \"+JSON.stringify(e))}Object.defineProperty(r,\"__esModule\",{value:!0});var u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},l=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};r.default=o;var s=t(2),f=n(s),d=t(3),c=n(d),p=t(4),v=t(1),h=\"\",m=\"none\",y=\"object\",g=\"undefined\"!=typeof navigator&&/Android/i.test(navigator.userAgent),b=\"undefined\"!=typeof requestAnimationFrame?requestAnimationFrame:setTimeout}])});","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { WizardComponent } from './wizard/wizard.component';\nimport { WizardStepComponent } from './wizard-step/wizard-step.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [WizardComponent, WizardStepComponent],\n  exports: [WizardComponent, WizardStepComponent]\n})\nexport class FormWizardModule { }\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\n\n@Component({\n  selector: 'wizard-step',\n  template:\n  `\n    <div [hidden]=\"!isActive\">\n      <ng-content></ng-content>\n    </div>\n  `\n})\nexport class WizardStepComponent {\n  @Input() title: string;\n  @Input() hidden = false;\n  @Input() isValid = true;\n  @Input() showNext = true;\n  @Input() showPrev = true;\n\n  @Output() onNext: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onPrev: EventEmitter<any> = new EventEmitter<any>();\n  @Output() onComplete: EventEmitter<any> = new EventEmitter<any>();\n\n  private _isActive = false;\n  isDisabled = true;\n\n  constructor() { }\n\n  @Input('isActive')\n  set isActive(isActive: boolean) {\n    this._isActive = isActive;\n    this.isDisabled = false;\n  }\n\n  get isActive(): boolean {\n    return this._isActive;\n  }\n\n}\n","import { Component, AfterContentInit, ContentChildren, QueryList, EventEmitter, Output } from '@angular/core';\nimport { WizardStepComponent } from '../wizard-step/wizard-step.component';\n\n@Component({\n  selector: 'form-wizard',\n  templateUrl: './wizard.component.html',\n  styleUrls: ['./wizard.component.scss']\n})\nexport class WizardComponent implements AfterContentInit {\n\n  @ContentChildren(WizardStepComponent)\n  wizardSteps: QueryList<WizardStepComponent>;\n\n  private _steps: Array<WizardStepComponent> = [];\n  private _isCompleted = false;\n\n  @Output()\n  onStepChanged: EventEmitter<WizardStepComponent> = new EventEmitter<WizardStepComponent>();\n\n  constructor() { }\n\n  ngAfterContentInit() {\n    this.wizardSteps.forEach(step => this._steps.push(step));\n    this.steps[0].isActive = true;\n  }\n\n  get steps(): Array<WizardStepComponent> {\n    return this._steps.filter(step => !step.hidden);\n  }\n\n  get isCompleted(): boolean {\n    return this._isCompleted;\n  }\n\n  get activeStep(): WizardStepComponent {\n    return this.steps.find(step => step.isActive);\n  }\n\n  set activeStep(step: WizardStepComponent) {\n    if (step !== this.activeStep && !step.isDisabled) {\n      this.activeStep.isActive = false;\n      step.isActive = true;\n      this.onStepChanged.emit(step);\n    }\n  }\n\n  public get activeStepIndex(): number {\n    return this.steps.indexOf(this.activeStep);\n  }\n\n  get hasNextStep(): boolean {\n    return this.activeStepIndex < this.steps.length - 1;\n  }\n\n  get hasPrevStep(): boolean {\n    return this.activeStepIndex > 0;\n  }\n\n  public goToStep(step: WizardStepComponent): void {\n    if (!this.isCompleted) {\n      this.activeStep = step;\n    }\n  }\n\n  public next(): void {\n    if (this.hasNextStep) {\n      const nextStep: WizardStepComponent = this.steps[this.activeStepIndex + 1];\n      this.activeStep.onNext.emit();\n      nextStep.isDisabled = false;\n      this.activeStep = nextStep;\n    }\n  }\n\n  public previous(): void {\n    if (this.hasPrevStep) {\n      const prevStep: WizardStepComponent = this.steps[this.activeStepIndex - 1];\n      this.activeStep.onPrev.emit();\n      prevStep.isDisabled = false;\n      this.activeStep = prevStep;\n    }\n  }\n\n  public complete(): void {\n    this.activeStep.onComplete.emit();\n    this._isCompleted = true;\n  }\n\n}\n","<div class=\"card\">\n  <div class=\"card-header\">\n    <ul class=\"nav nav-justified\">\n      <li class=\"nav-item\" *ngFor=\"let step of steps\" [ngClass]=\"{'active': step.isActive, 'enabled': !step.isDisabled, 'disabled': step.isDisabled, 'completed': isCompleted}\">\n        <a (click)=\"goToStep(step)\">{{step.title}}</a>\n      </li>\n    </ul>\n  </div>\n  <div class=\"card-block\">\n    <ng-content></ng-content>\n  </div>\n  <div class=\"card-footer\" [hidden]=\"isCompleted\">\n      <button type=\"button\" class=\"btn btn-rounded btn-secondary float-left\" (click)=\"previous()\" [hidden]=\"!hasPrevStep || !activeStep.showPrev\">Previous</button>\n      <button type=\"button\" class=\"btn btn-rounded btn-secondary float-right\" (click)=\"next()\" [disabled]=\"!activeStep.isValid\" [hidden]=\"!hasNextStep || !activeStep.showNext\">Next</button>\n      <button type=\"button\" class=\"btn btn-rounded btn-secondary float-right\" (click)=\"complete()\" [disabled]=\"!activeStep.isValid\" [hidden]=\"hasNextStep\">Done</button>\n  </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { CustomValidators } from 'ngx-custom-validators';\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-basic-form',\n  templateUrl: './basic-form.component.html',\n  styleUrls: ['./basic-form.component.scss']\n})\nexport class BasicFormComponent implements OnInit {\n  formBasic: FormGroup;\n  loading: boolean;\n  radioGroup: FormGroup;\n\n  constructor(\n    private fb: FormBuilder,\n    private toastr: ToastrService\n  ) { }\n\n  ngOnInit() {\n    this.buildFormBasic();\n    this.radioGroup = this.fb.group({\n      radio: []\n    });\n  }\n\n  buildFormBasic() {\n    this.formBasic = this.fb.group({\n      experience: []\n    });\n  }\n\n  submit() {\n    this.loading = true;\n    setTimeout(() => {\n      this.loading = false;\n      this.toastr.success('Profile updated.', 'Success!', {progressBar: true});\n    }, 3000);\n  }\n\n}\n","<div class=\"breadcrumb\">\n    <h1>Basic</h1>\n    <ul>\n        <li><a href=\"\">Form</a></li>\n        <li>Basic</li>\n    </ul>\n</div>\n\n<div class=\"separator-breadcrumb border-top\"></div>\n\n<div class=\"row\">\n    <div class=\"col-md-12\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\">\n                <div class=\"card-title mb-3\">Form Inputs</div>\n                <form [formGroup]=\"formBasic\" (ngSubmit)=\"submit()\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"firstName\">First name</label>\n                            <input type=\"text\" class=\"form-control\" id=\"firstName\" placeholder=\"Enter your first name\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"lastName\">Last name</label>\n                            <input type=\"text\" class=\"form-control\" id=\"lastName\" placeholder=\"Enter your last name\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"exampleInputEmail1\">Email address</label>\n                            <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\"\n                                placeholder=\"Enter email\">\n                            <!-- <small id=\"emailHelp\" class=\"form-text text-muted\">We'll never share your email with anyone else.</small> -->\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"phone\">Phone</label>\n                            <input class=\"form-control\" id=\"phone\" placeholder=\"Enter phone\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"credit\">Cradit card number</label>\n                            <input class=\"form-control\" id=\"credit\" placeholder=\"Card\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"credit\">Website</label>\n                            <input class=\"form-control\" id=\"credit\" placeholder=\"Web address\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"picker1\">Birth date</label>\n                            <div class=\"input-group\">\n                                <input id=\"picker1\" class=\"form-control\" placeholder=\"yyyy-mm-dd\" name=\"dp\"\n                                    ngbDatepicker #dp=\"ngbDatepicker\">\n                                <div class=\"input-group-append\">\n                                    <button class=\"btn btn-secondary\" (click)=\"dp.toggle()\" type=\"button\">\n                                        <i class=\"icon-regular i-Calendar-4\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"picker1\">Select</label>\n                            <select class=\"form-control\">\n                                <option>Option 1</option>\n                                <option>Option 1</option>\n                                <option>Option 1</option>\n                            </select>\n                        </div>\n\n                        <div class=\"col-md-12\">\n                            <btn-loading btnClass=\"btn-primary btn-rounded\" [loading]=\"loading\">Submit</btn-loading>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"col-md-12\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\">\n                <div class=\"card-title mb-3\">Form Inputs Rounded</div>\n                <form [formGroup]=\"formBasic\" (ngSubmit)=\"submit()\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"firstName\">First name</label>\n                            <input type=\"text\" class=\"form-control form-control-rounded\" id=\"firstName\" placeholder=\"Enter your first name\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"lastName\">Last name</label>\n                            <input type=\"text\" class=\"form-control form-control-rounded\" id=\"lastName\" placeholder=\"Enter your last name\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"exampleInputEmail1\">Email address</label>\n                            <input type=\"email\" class=\"form-control form-control-rounded\" id=\"exampleInputEmail1\"\n                                aria-describedby=\"emailHelp\" placeholder=\"Enter email\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"phone\">Phone</label>\n                            <input class=\"form-control form-control-rounded\" id=\"phone\" placeholder=\"Enter phone\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"credit\">Cradit card number</label>\n                            <input class=\"form-control form-control-rounded\" id=\"credit\" placeholder=\"Card\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"credit\">Website</label>\n                            <input class=\"form-control form-control-rounded\" id=\"credit\" placeholder=\"Web address\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"picker1\">Birth date</label>\n                            <div class=\"input-group\">\n                                <input id=\"picker1\" class=\"form-control form-control-rounded\" placeholder=\"yyyy-mm-dd\" name=\"dp\"\n                                    ngbDatepicker #dp=\"ngbDatepicker\">\n                                <div class=\"input-group-append\">\n                                    <button class=\"btn btn-secondary btn-rounded\" (click)=\"dp.toggle()\" type=\"button\">\n                                        <i class=\"icon-regular i-Calendar-4\"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"picker1\">Select</label>\n                            <select class=\"form-control form-control-rounded\">\n                                <option>Option 1</option>\n                                <option>Option 1</option>\n                                <option>Option 1</option>\n                            </select>\n                        </div>\n\n                        <div class=\"col-md-12\">\n                            <btn-loading btnClass=\"btn-primary btn-rounded\" [loading]=\"loading\">Submit</btn-loading>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"col-md-12\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\">\n                <div class=\"card-title\">Switch</div>\n                <label class=\"switch switch-primary mr-3\">\n                    <span>Primary</span>\n                    <input type=\"checkbox\" checked>\n                    <span class=\"slider\"></span>\n                </label>\n                <label class=\"switch switch-secondary mr-3\">\n                    <span>Secondary</span>\n                    <input type=\"checkbox\" checked>\n                    <span class=\"slider\"></span>\n                </label>\n                <label class=\"switch switch-success mr-3\">\n                    <span>Success</span>\n                    <input type=\"checkbox\" checked>\n                    <span class=\"slider\"></span>\n                </label>\n                <label class=\"switch switch-warning mr-3\">\n                    <span>Warning</span>\n                    <input type=\"checkbox\" checked>\n                    <span class=\"slider\"></span>\n                </label>\n                <label class=\"switch switch-danger mr-3\">\n                    <span>Danger</span>\n                    <input type=\"checkbox\" checked>\n                    <span class=\"slider\"></span>\n                </label>\n                <label class=\"switch switch-light mr-3\">\n                    <span>Light</span>\n                    <input type=\"checkbox\" checked>\n                    <span class=\"slider\"></span>\n                </label>\n                <label class=\"switch switch-dark mr-3\">\n                    <span>Dark</span>\n                    <input type=\"checkbox\" checked>\n                    <span class=\"slider\"></span>\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"col-md-6\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\">\n                <div class=\"card-title\">Checkbox Default</div>\n                <label class=\"checkbox checkbox-primary\">\n                    <input type=\"checkbox\" checked>\n                    <span>Primary</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-secondary\">\n                    <input type=\"checkbox\" checked>\n                    <span>Secondary</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-success\">\n                    <input type=\"checkbox\" checked>\n                    <span>Success</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-warning\">\n                    <input type=\"checkbox\" checked>\n                    <span>Warning</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-danger\">\n                    <input type=\"checkbox\" checked>\n                    <span>Danger</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-info\">\n                    <input type=\"checkbox\" checked>\n                    <span>Info</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-dark\">\n                    <input type=\"checkbox\" checked>\n                    <span>Dark</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"col-md-6\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\">\n                <div class=\"card-title\">Checkbox Outline</div>\n                <label class=\"checkbox checkbox-outline-primary\">\n                    <input type=\"checkbox\" checked>\n                    <span>Primary</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-outline-secondary\">\n                    <input type=\"checkbox\" checked>\n                    <span>Secondary</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-outline-success\">\n                    <input type=\"checkbox\" checked>\n                    <span>Success</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-outline-warning\">\n                    <input type=\"checkbox\" checked>\n                    <span>Warning</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-outline-danger\">\n                    <input type=\"checkbox\" checked>\n                    <span>Danger</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-outline-info\">\n                    <input type=\"checkbox\" checked>\n                    <span>Info</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"checkbox checkbox-outline-dark\">\n                    <input type=\"checkbox\" checked>\n                    <span>Dark</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"col-md-6\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\" [formGroup]=\"radioGroup\">\n                <div class=\"card-title\">Radio Button</div>\n                <label class=\"radio radio-primary\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"1\" formControlName=\"radio\">\n                    <span>Primary</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-secondary\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"2\" formControlName=\"radio\">\n                    <span>Secondary</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-success\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"3\" formControlName=\"radio\">\n                    <span>Success</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-warning\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"4\" formControlName=\"radio\">\n                    <span>Warning</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-danger\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"5\" formControlName=\"radio\">\n                    <span>Danger</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-light\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"6\" formControlName=\"radio\">\n                    <span>Light</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-dark\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"7\" formControlName=\"radio\">\n                    <span>Dark</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"col-md-6\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\" [formGroup]=\"radioGroup\">\n                <div class=\"card-title\">Radio Button Outline</div>\n                <label class=\"radio radio-outline-primary\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"1\" formControlName=\"radio\">\n                    <span>Primary</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-outline-secondary\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"2\" formControlName=\"radio\">\n                    <span>Secondary</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-outline-success\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"3\" formControlName=\"radio\">\n                    <span>Success</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-outline-warning\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"4\" formControlName=\"radio\">\n                    <span>Warning</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-outline-danger\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"5\" formControlName=\"radio\">\n                    <span>Danger</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-outline-light\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"6\" formControlName=\"radio\">\n                    <span>Light</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-outline-dark\">\n                    <input type=\"radio\" name=\"radio\" [value]=\"7\" formControlName=\"radio\">\n                    <span>Dark</span>\n                    <span class=\"checkmark\"></span>\n                </label>\n            </div>\n        </div>\n    </div>\n\n</div>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-form-layouts',\n  templateUrl: './form-layouts.component.html',\n  styleUrls: ['./form-layouts.component.scss']\n})\nexport class FormLayoutsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"breadcrumb\">\n    <h1>Form Layouts</h1>\n    <ul>\n        <li><a href=\"\">Forms</a></li>\n        <li>Form Layouts</li>\n    </ul>\n</div>\n\n<div class=\"separator-breadcrumb border-top\"></div>\n\n<div class=\"row\">\n    <div class=\"col-lg-6 col-md-12\">\n        <h4>Horizontal Layout</h4>\n        <p>A form control layout using row to create horizontal alignment.</p>\n        <div class=\"card mb-5\">\n            <div class=\"card-body\">\n                <div class=\"row row-xs\">\n                    <div class=\"col-md-4\">\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Enter your username\">\n                    </div>\n                    <div class=\"col-md-4 mt-3 mt-md-0\">\n                        <input type=\"password\" class=\"form-control\" placeholder=\"Enter your password\">\n                    </div>\n                    <div class=\"col-md-4 mt-3 mt-md-0\">\n                        <button class=\"btn btn-primary btn-block\">Sign In</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"border-top mb-5\"></div>\n<div class=\"row\">\n    <div class=\"col-md-6\">\n        <h4>Verticle Layout</h4>\n        <p>A form control layout using flex to create verticle alignment.</p>\n        <div class=\"card mb-5\">\n            <div class=\"card-body\">\n                <div class=\"d-flex flex-column\">\n                    <div class=\"form-group\">\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Enter your username\">\n                    </div>\n                    <div class=\"form-group\">\n                        <input type=\"password\" class=\"form-control\" placeholder=\"Enter your password\">\n                    </div>\n                    <button class=\"btn btn-primary pd-x-20\">Sign In</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"border-top mb-5\"></div>\n\n<div class=\"row\">\n    <div class=\"col-md-6\">\n        <h4>Left Label Alignment</h4>\n        <p>A form control layout using row with left label alignment.</p>\n        <div class=\"card mb-5\">\n            <div class=\"card-body\">\n                <form>\n                    <div class=\"form-group row\">\n                        <label for=\"inputEmail3\" class=\"col-sm-2 col-form-label\">Email</label>\n                        <div class=\"col-sm-10\">\n                            <input type=\"email\" class=\"form-control\" id=\"inputEmail3\" placeholder=\"Email\">\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword3\" class=\"col-sm-2 col-form-label\">Password</label>\n                        <div class=\"col-sm-10\">\n                            <input type=\"password\" class=\"form-control\" id=\"inputPassword3\" placeholder=\"Password\">\n                        </div>\n                    </div>\n                    <fieldset class=\"form-group\">\n                        <div class=\"row\">\n                            <legend class=\"col-form-label col-sm-2 pt-0\">Radios</legend>\n                            <div class=\"col-sm-10\">\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"radio\" name=\"gridRadios\" id=\"gridRadios1\"\n                                        value=\"option1\" checked>\n                                    <label class=\"form-check-label\" for=\"gridRadios1\">\n                                        First radio\n                                    </label>\n                                </div>\n                                <div class=\"form-check\">\n                                    <input class=\"form-check-input\" type=\"radio\" name=\"gridRadios\" id=\"gridRadios2\"\n                                        value=\"option2\">\n                                    <label class=\"form-check-label\" for=\"gridRadios2\">\n                                        Second radio\n                                    </label>\n                                </div>\n                                <div class=\"form-check disabled\">\n                                    <input class=\"form-check-input\" type=\"radio\" name=\"gridRadios\" id=\"gridRadios3\"\n                                        value=\"option3\" disabled>\n                                    <label class=\"form-check-label\" for=\"gridRadios3\">\n                                        Third disabled radio\n                                    </label>\n                                </div>\n                            </div>\n                        </div>\n                    </fieldset>\n                    <div class=\"form-group row\">\n                        <div class=\"col-sm-2\">Checkbox</div>\n                        <div class=\"col-sm-10\">\n                            <div class=\"form-check\">\n                                <input class=\"form-check-input\" type=\"checkbox\" id=\"gridCheck1\">\n                                <label class=\"form-check-label\" for=\"gridCheck1\">\n                                    Example checkbox\n                                </label>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <div class=\"col-sm-10\">\n                            <button type=\"submit\" class=\"btn btn-primary\">Sign in</button>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"border-top mb-5\"></div>\n\n\n<div class=\"row\">\n    <div class=\"col-md-6\">\n        <h4>Form Inside Dropdown</h4>\n        <p>A form group layout inside dropdown</p>\n        <div ngbDropdown>\n            <button ngbDropdownToggle class=\"btn btn-primary\">Download File</button>\n            <div ngbDropdownMenu class=\"p-3\" style=\"width: 320px\">\n                <div class=\"d-flex flex-column\">\n                    <div class=\"form-group\">\n                        <input type=\"text\" class=\"form-control\" placeholder=\"Enter your username\">\n                    </div>\n                    <div class=\"form-group\">\n                        <input type=\"password\" class=\"form-control\" placeholder=\"Enter your password\">\n                    </div>\n                    <button class=\"btn btn-primary pd-x-20\">Sign In</button>\n                </div>\n            </div>\n\n        </div>\n    </div>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { BasicFormComponent } from './basic-form/basic-form.component';\nimport { TagInputsComponent } from './tag-inputs/tag-inputs.component';\nimport { AppImgCropperComponent } from './img-cropper/img-cropper.component';\nimport { WizardComponent } from './wizard/wizard.component';\nimport { InputMaskComponent } from './input-mask/input-mask.component';\nimport { InputGroupsComponent } from './input-groups/input-groups.component';\nimport { FormLayoutsComponent } from './form-layouts/form-layouts.component';\n\nconst routes: Routes = [\n  {\n    path: 'basic',\n    component: BasicFormComponent\n  },\n  {\n    path: 'layouts',\n    component: FormLayoutsComponent\n  },\n  {\n    path: 'input-group',\n    component: InputGroupsComponent\n  },\n  {\n    path: 'input-mask',\n    component: InputMaskComponent\n  },\n  {\n    path: 'tag-input',\n    component: TagInputsComponent\n  },\n  {\n    path: 'wizard',\n    component: WizardComponent\n  },\n  {\n    path: 'img-cropper',\n    component: AppImgCropperComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class FormsRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { FormsRoutingModule } from './forms-routing.module';\nimport { CustomFormsModule } from 'ngx-custom-validators';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { SharedModule } from 'src/app/shared/shared.module';\nimport { TagInputModule } from 'ngx-chips';\n\n\nimport { BasicFormComponent } from './basic-form/basic-form.component';\nimport { TagInputsComponent } from './tag-inputs/tag-inputs.component';\nimport { AppImgCropperComponent } from './img-cropper/img-cropper.component';\nimport { ImageCropperModule } from 'ngx-img-cropper';\nimport { WizardComponent } from './wizard/wizard.component';\nimport { SharedComponentsModule } from 'src/app/shared/components/shared-components.module';\nimport { FormWizardModule } from 'src/app/shared/components/form-wizard/form-wizard.module';\nimport { TextMaskModule } from 'angular2-text-mask';\nimport { InputMaskComponent } from './input-mask/input-mask.component';\nimport { InputGroupsComponent } from './input-groups/input-groups.component';\nimport { FormLayoutsComponent } from './form-layouts/form-layouts.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    CustomFormsModule,\n    SharedComponentsModule,\n    NgbModule,\n    TagInputModule,\n    ImageCropperModule,\n    TextMaskModule,\n    FormWizardModule,\n    FormsRoutingModule\n  ],\n  declarations: [BasicFormComponent, TagInputsComponent, AppImgCropperComponent, WizardComponent, InputMaskComponent, InputGroupsComponent, FormLayoutsComponent]\n})\nexport class AppFormsModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { ImageCropperComponent, CropperSettings } from 'ngx-img-cropper';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\n\n@Component({\n  selector: 'app-img-cropper',\n  templateUrl: './img-cropper.component.html',\n  styleUrls: ['./img-cropper.component.scss']\n})\nexport class AppImgCropperComponent implements OnInit {\n  data: any;\n  cropperSettings: CropperSettings;\n\n  constructor(\n    private modalService: NgbModal\n  ) {\n        this.cropperSettings = new CropperSettings();\n        // this.cropperSettings.width = 100;\n        // this.cropperSettings.height = 100;\n        // this.cropperSettings.croppedWidth = 100;\n        // this.cropperSettings.croppedHeight = 100;\n        // this.cropperSettings.canvasWidth = 400;\n        // this.cropperSettings.canvasHeight = 300;\n        this.cropperSettings.cropperDrawSettings.lineDash = true;\n        this.cropperSettings.cropperDrawSettings.dragIconStrokeWidth = 0;\n\n        this.data = {};\n  }\n\n  ngOnInit() {\n  }\n\n  open(modal) {\n    this.modalService.open(modal, { ariaLabelledBy: 'modal-basic-title' })\n    .result.then((result) => {\n      console.log(result);\n    }, (reason) => {\n      console.log('Err!', reason);\n    });\n  }\n\n}\n","<div class=\"breadcrumb\">\n  <h1>Image Cropper</h1>\n  <ul>\n    <li><a href=\"\">Forms</a></li>\n    <li>Image Cropper</li>\n  </ul>\n</div>\n\n<div class=\"separator-breadcrumb border-top\"></div>\n\n<div class=\"row\">\n  <div class=\"col-md-12\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"card-title\">NGX Image Cropper</div>\n        <div>\n          <button class=\"btn btn-outline-primary btn-rounded mr-3\" (click)=\"open(modalCropper)\">Launch Cropper</button>\n          <img *ngIf=\"data?.image\" class=\"rounded-circle\" [src]=\"data?.image\" [width]=\"cropperSettings.croppedWidth\" [height]=\"cropperSettings.croppedHeight\">\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<ng-template #modalCropper let-modal>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\" id=\"modal-basic-title\">Upload & Crop</h4>\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modal.dismiss('Cross click')\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <img-cropper [image]=\"data\" [settings]=\"cropperSettings\"></img-cropper><br>\n    <img *ngIf=\"data?.image\" class=\"mt-3  mr-3\" [src]=\"data?.image\" [width]=\"cropperSettings.croppedWidth\" [height]=\"cropperSettings.croppedHeight\">\n    <img *ngIf=\"data?.image\" class=\"rounded-circle  mt-3\" [src]=\"data?.image\" [width]=\"cropperSettings.croppedWidth\" [height]=\"cropperSettings.croppedHeight\">\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-rounded btn-outline-dark\" (click)=\"modal.close('Save click')\">Save</button>\n  </div>\n</ng-template>","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-input-groups',\n  templateUrl: './input-groups.component.html',\n  styleUrls: ['./input-groups.component.scss']\n})\nexport class InputGroupsComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","<div class=\"breadcrumb\">\n    <h1>Input Group</h1>\n    <ul>\n        <li><a href=\"\">Form</a></li>\n        <li>Input Group</li>\n    </ul>\n</div>\n<div class=\"separator-breadcrumb border-top\"></div>\n\n<div class=\"row\">\n    <div class=\"col-md-12\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\">\n                <div class=\"card-title\">Basic Example</div>\n                <div class=\"input-group mb-3\">\n                    <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\" id=\"basic-addon1\">@</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Username\" aria-label=\"Username\"\n                        aria-describedby=\"basic-addon1\">\n                </div>\n\n                <div class=\"input-group mb-3\">\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Recipient's username\" aria-label=\"Recipient's username\"\n                        aria-describedby=\"basic-addon2\">\n                    <div class=\"input-group-append\">\n                        <span class=\"input-group-text\" id=\"basic-addon2\">@example.com</span>\n                    </div>\n                </div>\n\n                <label for=\"basic-url\">Your vanity URL</label>\n                <div class=\"input-group mb-3\">\n                    <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\" id=\"basic-addon3\">https://example.com/users/</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" id=\"basic-url\" aria-describedby=\"basic-addon3\">\n                </div>\n\n                <div class=\"input-group mb-3\">\n                    <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\">$</span>\n                    </div>\n                    <input type=\"text\" class=\"form-control\" aria-label=\"Amount (to the nearest dollar)\">\n                    <div class=\"input-group-append\">\n                        <span class=\"input-group-text\">.00</span>\n                    </div>\n                </div>\n\n                <div class=\"input-group\">\n                    <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\">With textarea</span>\n                    </div>\n                    <textarea class=\"form-control\" aria-label=\"With textarea\"></textarea>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"col-md-12\">\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <div class=\"card-title\">File inputs</div>\n                <div class=\"input-group mb-3\">\n                    <div class=\"input-group-prepend\">\n                        <span class=\"input-group-text\" id=\"inputGroupFileAddon01\">Upload</span>\n                    </div>\n                    <div class=\"custom-file\">\n                        <input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile01\" aria-describedby=\"inputGroupFileAddon01\">\n                        <label class=\"custom-file-label\" for=\"inputGroupFile01\">Choose file</label>\n                    </div>\n                </div>\n\n                <div class=\"input-group mb-3\">\n                    <div class=\"custom-file\">\n                        <input type=\"file\" class=\"custom-file-input\" id=\"inputGroupFile02\">\n                        <label class=\"custom-file-label\" for=\"inputGroupFile02\" aria-describedby=\"inputGroupFileAddon02\">Choose\n                            file</label>\n                    </div>\n                    <div class=\"input-group-append\">\n                        <span class=\"input-group-text\" id=\"inputGroupFileAddon02\">Upload</span>\n                    </div>\n                </div>\n\n                \n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup } from '@angular/forms';\n\n@Component({\n    selector: 'app-input-mask',\n    templateUrl: './input-mask.component.html',\n    styleUrls: ['./input-mask.component.scss']\n})\nexport class InputMaskComponent implements OnInit {\n    formMask: FormGroup;\n    isbnMask1 = [/\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/, '-', /\\d/];\n    isbnMask2 = [/\\d/, /\\d/, /\\d/, ' ', /\\d/, /\\d/, ' ', /\\d/, /\\d/, /\\d/, ' ', /\\d/, /\\d/, /\\d/, /\\d/, ' ', /\\d/];\n    isbnMask3 = [/\\d/, /\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/, '/', /\\d/];\n    phoneMask = ['(', /[1-9]/, /\\d/, /\\d/, ')', ' ', /\\d/, /\\d/, /\\d/, '-', /\\d/, /\\d/, /\\d/, /\\d/];\n    cardMask  = [ /\\d/, /\\d/, /\\d/, /\\d/, ' ', /\\d/, /\\d/, /\\d/, /\\d/, ' ', /\\d/, /\\d/, /\\d/, /\\d/, ' ', /\\d/, /\\d/, /\\d/, /\\d/];\n    dateMask  = [ /\\d/, /\\d/, '/', /\\d/, /\\d/, '/', /\\d/, /\\d/, /\\d/, /\\d/];\n\n    constructor(private fb: FormBuilder) { }\n\n    ngOnInit() {\n        this.formMask = this.fb.group({\n            experience: [],\n            phone: []\n        });\n    }\n    submit() {\n        console.log(this.formMask.value);\n    }\n\n}\n","<div class=\"breadcrumb\">\n    <h1>Masks</h1>\n    <ul>\n        <li><a href=\"\">Form</a></li>\n        <li>Input Masks</li>\n    </ul>\n</div>\n<div class=\"separator-breadcrumb border-top\"></div>\n\n<div class=\"row\">\n    <div class=\"col-md-12\">\n        <div class=\"card mb-4\">\n            <div class=\"card-body\">\n                <div class=\"card-title mb-3\">Input Masks</div>\n                <form [formGroup]=\"formMask\" (ngSubmit)=\"submit()\">\n                    <div class=\"row\">\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"isbn1\">ISBN 1</label>\n                            <input type=\"text\" class=\"form-control\" id=\"isbn1\" [textMask]=\"{mask: isbnMask1}\"\n                                placeholder=\"999-99-999-9999-9\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"isbn2\">ISBN 2</label>\n                            <input type=\"text\" class=\"form-control\" id=\"isbn2\" [textMask]=\"{mask: isbnMask2}\"\n                                placeholder=\"999 99 999 9999 9\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"isbn3\">ISBN 3</label>\n                            <input type=\"text\" class=\"form-control\" id=\"isbn3\" [textMask]=\"{mask: isbnMask3}\"\n                                placeholder=\"999/99/999/9999/9\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"phone\">Phone</label>\n                            <input class=\"form-control\" id=\"phone\" [textMask]=\"{mask: phoneMask}\" formControlName=\"phone\"\n                                placeholder=\"(323) 323-4324\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"card\">Master card</label>\n                            <input class=\"form-control\" id=\"card\" [textMask]=\"{mask: cardMask}\" placeholder=\"9999 9999 9999 9999\">\n                        </div>\n\n                        <div class=\"col-md-6 form-group mb-3\">\n                            <label for=\"picker1\">Date</label>\n                            <div class=\"input-group\">\n                                <input id=\"picker1\" class=\"form-control\" [textMask]=\"{mask: dateMask}\" placeholder=\"mm/dd/yyyy\">\n                            </div>\n                        </div>\n\n                        <div class=\"col-md-12\">\n                            <btn-loading btnClass=\"btn-primary\">Submit</btn-loading>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        </div>\n    </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { DataLayerService } from 'src/app/shared/services/data-layer.service';\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-tag-inputs',\n  templateUrl: './tag-inputs.component.html',\n  styleUrls: ['./tag-inputs.component.scss']\n})\nexport class TagInputsComponent implements OnInit {\n  items = ['Javascript', 'Typescript'];\n  autocompletes$;\n  tagsCtrl1 = new FormControl(this.items);\n  tagsCtrl2 = new FormControl([{display: 'Bangladesh', value: 'BD'}]);\n\n\n  constructor(\n    private dl: DataLayerService\n  ) { }\n\n  ngOnInit() {\n    this.autocompletes$ = this.dl.getCountries();\n  }\n\n  public onSelect(item) {\n    console.log('tag selected: value is ' + item);\n  }\n\n}\n","<div class=\"breadcrumb\">\n  <h1>Tag Input</h1>\n  <ul>\n    <li><a href=\"\">Forms</a></li>\n    <li>Tag input</li>\n  </ul>\n</div>\n\n<div class=\"separator-breadcrumb border-top\"></div>\n\n<div class=\"row\">\n  <div class=\"col-md-12\">\n    <div class=\"card mb-4\">\n      <div class=\"card-body\">\n        <div class=\"card-title\">Tag inputs</div>\n        <tag-input [formControl]=\"tagsCtrl1\"\n          (onSelect)=\"onSelect($event)\"\n          [modelAsStrings]=\"true\" theme='primary'>\n        </tag-input>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"col-md-12\">\n    <div class=\"card mb-4\">\n      <div class=\"card-body\">\n        <div class=\"card-title\">Autocomplete</div>\n        <tag-input [formControl]=\"tagsCtrl2\"\n          (onSelect)=\"onSelect($event)\"\n          theme='primary' placeholder=\"Type Country name\">\n          <tag-input-dropdown [focusFirstElement]=\"true\" [autocompleteItems]=\"autocompletes$ | async\">\n          </tag-input-dropdown>\n        </tag-input>\n      </div>\n    </div>\n  </div>\n</div>\n  ","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder } from '@angular/forms';\n\n@Component({\n  selector: 'app-wizard',\n  templateUrl: './wizard.component.html',\n  styleUrls: ['./wizard.component.scss']\n})\nexport class WizardComponent implements OnInit {\n  isCompleted: boolean;\n  data: any = {\n    email: ''\n  };\n  step2Form: FormGroup;\n\n  constructor(\n    private fb: FormBuilder\n  ) { }\n\n  ngOnInit() {\n    this.step2Form = this.fb.group({\n      experience: [2]\n    });\n  }\n\n  onStep1Next(e) {}\n  onStep2Next(e) {}\n  onStep3Next(e) {}\n  onComplete(e) {}\n}\n","<div class=\"breadcrumb\">\n  <h1>Form Wizard</h1>\n  <ul>\n    <li><a href=\"\">Form</a></li>\n    <li>Wizard</li>\n  </ul>\n</div>\n\n<div class=\"separator-breadcrumb border-top\"></div>\n\n<div class=\"row\">\n  <div class=\"col-md-12\">\n   \n    <form-wizard>\n      <wizard-step [title]=\"'Basic Info'\" [isValid]=\"basicForm.form.valid\" (onNext)=\"onStep1Next($event)\">\n        <form #basicForm=\"ngForm\">\n          <div class=\"row\">\n            <div class=\"form-group col-md-6 mb-3\">\n              <label for=\"firstName\">First Name</label>\n              <input type=\"text\" class=\"form-control\" id=\"firstName\" name=\"firstName\" placeholder=\"First name\"\n                [(ngModel)]=\"data.firstName\">\n            </div>\n            <div class=\"form-group col-md-6 mb-3\">\n              <label for=\"lastName\">Last Name</label>\n              <input type=\"text\" class=\"form-control\" id=\"lastName\" name=\"lastName\" placeholder=\"Last name\"\n                [(ngModel)]=\"data.lastName\">\n            </div>\n            <div class=\"form-group col-md-6\">\n              <label for=\"exampleInputEmail1\">Email address</label>\n              <input type=\"email\" class=\"form-control\" id=\"exampleInputEmail1\" name=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Enter email\"\n                [(ngModel)]=\"data.email\">\n            </div>\n            <div class=\"form-group col-md-6\">\n              <label for=\"phone\">Phone number</label>\n              <input type=\"text\" class=\"form-control\" id=\"phone\" name=\"phone\" placeholder=\"Phone number\"\n                [(ngModel)]=\"data.phone\">\n            </div>\n          </div>\n        </form>\n      </wizard-step>\n\n      <wizard-step [title]=\"'Company info'\" [isValid]=\"step2Form.valid\" (onNext)=\"onStep2Next($event)\">\n        <form [formGroup]=\"step2Form\">\n          <div class=\"row\">\n            <div class=\"col-md-6\">\n              <h6 class=\"mb-2\">Employees</h6>\n              <label class=\"checkbox checkbox-primary\">\n                <input type=\"checkbox\" checked>\n                <span>Designer</span>\n                <span class=\"checkmark\"></span>\n              </label>\n              <label class=\"checkbox checkbox-secondary\">\n                <input type=\"checkbox\" checked>\n                <span>Coder</span>\n                <span class=\"checkmark\"></span>\n              </label>\n              <label class=\"checkbox checkbox-success\">\n                <input type=\"checkbox\" checked>\n                <span>QA</span>\n                <span class=\"checkmark\"></span>\n              </label>\n            </div>\n            <div class=\"col-md-6\">\n                <h6 class=\"mb-2\">Company age</h6>\n                <label class=\"radio radio-outline-primary\">\n                  <input type=\"radio\" name=\"experience\" [value]=\"1\" formControlName=\"experience\">\n                  <span>Less than 1 Year</span>\n                  <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-outline-success\">\n                  <input type=\"radio\" name=\"experience\" [value]=\"3\" formControlName=\"experience\">\n                  <span>1-5 Years</span>\n                  <span class=\"checkmark\"></span>\n                </label>\n                <label class=\"radio radio-outline-warning\">\n                  <input type=\"radio\" name=\"experience\" [value]=\"4\" formControlName=\"experience\">\n                  <span>5+ Years</span>\n                  <span class=\"checkmark\"></span>\n                </label>\n            </div>\n          </div>\n        </form>\n      </wizard-step>\n\n      <wizard-step [title]=\"'Payment Info'\" (onNext)=\"onStep3Next($event)\">\n        <form #paymentForm=\"ngForm\">\n          <div class=\"row\">\n            <div class=\"form-group col-md-6 mb-3\">\n              <label for=\"card\">Card number</label>\n              <input type=\"text\" class=\"form-control\" id=\"card\" name=\"card\" placeholder=\"Card Number\"\n                [(ngModel)]=\"data.card\">\n            </div>\n            <div class=\"form-group col-md-6 mb-3\">\n              <label for=\"exp\">Expires at</label>\n              <input type=\"text\" class=\"form-control\" id=\"exp\" name=\"exp\" placeholder=\"Expires at\"\n                [(ngModel)]=\"data.cardExpiresAt\">\n            </div>\n            <div class=\"form-group col-md-6 mb-3\">\n              <label for=\"security\">Security code</label>\n              <input type=\"text\" class=\"form-control\" id=\"security\" name=\"exp\" placeholder=\"Security code\"\n                [(ngModel)]=\"data.code\">\n            </div>\n          </div>\n        </form>\n      </wizard-step>\n\n      <wizard-step [title]=\"'Final'\" (onComplete)=\"onComplete($event)\">\n        <div class=\"text-center mt-4 mb-4\">\n            <i class=\"i-Checked-User text-32 mb-3 text-success d-inline-block\"></i>\n            <h5 class=\"font-weight-light\">Thank you! You have completed all the steps.</h5>\n        </div>\n      </wizard-step>\n    </form-wizard>\n     \n  </div>\n</div>"],"sourceRoot":"webpack:///"}